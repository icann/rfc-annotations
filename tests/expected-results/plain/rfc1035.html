<!DOCTYPE html>
<html lang="en" id="html">
<head><meta charset="UTF-8"><title>RFC 1035</title>
<style>
    /* some "global" declarations, please do not modify */
    html {font-size:8px;}
    pre {margin-top:0px; margin-bottom:0px;}
    .area {display:flex; flex-wrap:nowrap; overflow: auto;}
    .area .rfc {overflow:auto; flex-grow:0; flex-shrink:0;}
    .area .rfc .pagebreak {position:absolute; background-color:#eee; width:81ch; border:1px dashed #000; margin-top:0.5rem;}
    .floating {position:fixed; top:2px; right:2px;}

    /* font, color, background and other attributes which may be changed */
    body {font-family:'Arial';}

    /* index page only */
    .index .header {background-color:#222; color:#fff; font-weight:bold;}
    .index .odd {background-color:#e0e0e0;}
    .index .even {background-color:#e8e8e8;}
    .index tr.entry {font-family:'Arial Narrow';}
    .index tr.entry .rfc {font-family:'Courier New'; font-weight:bold;}
    .index tr.entry .timestamp {text-align:center}
    .index tr .asc::after {content:" ↑"; font-weight:bold; color:#D0FFD0;}
    .index tr .desc::after {content:" ↓"; font-weight:bold; color:#FFD0D0;}

    /* RFC pages */
    .line {background-color:#ddd; text-decoration:none; user-select:none;}

    pre.rfc.obsoleted {background-color:#FFD0D0;}
    pre.rfc.updated {background-color:#FFFFF0;}

    .area .annotation {background-color:#eee; width:1vw; flex-wrap:nowrap; flex-grow:1; flex-shrink:1; padding-left:2px; padding-right:4px; font-size:1rem; overflow:auto;}
    .area .annotation .entry {font-size:0.8rem; background-color:#FFFC90; margin-bottom:4px; border-style:solid; border-width:1px; box-shadow:2px 2px;}
    .area .annotation .err {font-size:0.8rem; background-color:#dddddd; margin-bottom:4px; border-style:solid; border-width:1px; box-shadow:2px 2px; overflow:auto;}
    .area .annotation .outdated {font-size:0.8rem; background-color:#ff8888; margin-bottom:4px; border-style:solid; border-width: 1px; box-shadow:2px 2px; overflow:auto;}
    .area .annotation .outdated .info {font-size:1.2rem; font-weight:bold; float:right;}
    .area .annotation .status {font-size:0.8rem; background-color:#eeeeee; margin-bottom:4px; border-style:solid; border-width:1px; box-shadow:2px 2px; overflow:auto;}
    .area .annotation .title {font-size:1.2rem; background-color:#000000a0; color:white; padding-left:2px; padding-right:2px; font-style:italic;}
    .area .annotation .title a {color:white;}
    .area .annotation .title .reference a {font-size:0.6rem; font-style:normal; vertical-align:top;}
    .area .annotation .title .caption {padding-left:1ch; font-style:normal; font-weight:bold;}
    .area .annotation .title .timestamp {font-size:0.6rem; float:right; font-style:normal;}
    .area .annotation .correct {margin-top:1rem; font-weight:bold;}
    .area .annotation .note {font-style:italic;}
    .area .annotation .reported {background-color:#FFF8D0; color:#A00;}
    .area .annotation .rejected {display:none;}
    .area .annotation .eclipsed {display:none;}
    .area .annotation .updated {background-color:#0E0;}
    .area .annotation .potentiallyupdated {background-color:#AEA;}
    .area .annotation .obsoleted {background-color:#E00;}
    .area .annotation .potentiallyobsoleted {background-color:#EAA;}

    del {color: red; user-select: none;}
    ins {color: green;}
    .correct em {color: green;}
</style>
<script>
    window.addEventListener('hashchange', showRFC);

    function clicked(element) {
        // attempt to select text?
        var selObj = window.getSelection();
        var selText = selObj == null ? "" : selObj.toString();
        if (selText != "") return;

        var source = event.target || event.srcElement;
        if (source.tagName == "A") {
            showRFC();
            return;
        }

        element = element.getElementsByClassName("notes")[0];
        if (!element) return;
        if (element.hasAttribute("hidden"))
            element.removeAttribute("hidden");
        else
            element.setAttribute("hidden", "hidden");
    }

    function hideRFC() {
        const tags = document.querySelectorAll("pre .rfc");
        Array.from(tags).forEach(tag => {tag.style.display = "none";});
        document.getElementById("hideBtn").setAttribute("hidden", "hidden");
        document.getElementById("showBtn").removeAttribute("hidden");
        window.location.hash = "";
    }

    function showRFC() {
        const tags = document.querySelectorAll("pre .rfc");
        Array.from(tags).forEach(tag => {tag.style.display = "block";});
        document.getElementById("showBtn").setAttribute("hidden", "hidden");
        document.getElementById("hideBtn").removeAttribute("hidden");
        window.location.hash = window.location.hash;
    }

    function adjustFontSize() {
        fontHeight = Math.min(14, Math.max(6, screen.width / 50))
        document.getElementById("html").style.fontSize = fontHeight + "px";
    }
</script>

</head>
<body onload="adjustFontSize()">
<noscript>For full functionality of this page please enable JavaScript</noscript>
<button class="floating" onclick="hideRFC()" id="hideBtn">Hide RFC</button>
<button class="floating" onclick="showRFC()" id="showBtn" hidden="hidden">Show RFC</button>
<div class="area">
<pre class="rfc"><span class="rfc"><a class="line" id="line-1" href="#line-1">    1</a> Network Working Group                                     P. Mockapetris   
<a class="line" id="line-2" href="#line-2">    2</a> Request for Comments: 1035                                           ISI   
<a class="line" id="line-3" href="#line-3">    3</a>                                                            November 1987   
<a class="line" id="line-4" href="#line-4">    4</a> Obsoletes: RFCs <a href="https://datatracker.ietf.org/doc/rfc882/">882</a>, <a href="https://datatracker.ietf.org/doc/rfc883/">883</a>, <a href="https://datatracker.ietf.org/doc/rfc973/">973</a>                                              
<a class="line" id="line-5" href="#line-5">    5</a>                                                                            
<a class="line" id="line-6" href="#line-6">    6</a>             <span class="h1">DOMAIN NAMES - IMPLEMENTATION AND SPECIFICATION</span>                
<a class="line" id="line-7" href="#line-7">    7</a>                                                                            
<a class="line" id="line-8" href="#line-8">    8</a>                                                                            
<a class="line" id="line-9" href="#line-9">    9</a> <span class="h2"><a class="selflink" id="section-1" href="#section-1">1</a>. STATUS OF THIS MEMO</span>                                                     
<a class="line" id="line-10" href="#line-10">   10</a>                                                                            
<a class="line" id="line-11" href="#line-11">   11</a> This RFC describes the details of the domain system and protocol, and      
<a class="line" id="line-12" href="#line-12">   12</a> assumes that the reader is familiar with the concepts discussed in a       
<a class="line" id="line-13" href="#line-13">   13</a> companion RFC, &quot;Domain Names - Concepts and Facilities&quot; [<a href="./rfc1034.html">RFC-1034</a>].        
<a class="line" id="line-14" href="#line-14">   14</a>                                                                            
<a class="line" id="line-15" href="#line-15">   15</a> The domain system is a mixture of functions and data types which are an    
<a class="line" id="line-16" href="#line-16">   16</a> official protocol and functions and data types which are still             
<a class="line" id="line-17" href="#line-17">   17</a> experimental.  Since the domain system is intentionally extensible, new    
<a class="line" id="line-18" href="#line-18">   18</a> data types and experimental behavior should always be expected in parts    
<a class="line" id="line-19" href="#line-19">   19</a> of the system beyond the official protocol.  The official protocol parts   
<a class="line" id="line-20" href="#line-20">   20</a> include standard queries, responses and the Internet class RR data         
<a class="line" id="line-21" href="#line-21">   21</a> formats (e.g., host addresses).  Since the previous RFC set, several       
<a class="line" id="line-22" href="#line-22">   22</a> definitions have changed, so some previous definitions are obsolete.       
<a class="line" id="line-23" href="#line-23">   23</a>                                                                            
<a class="line" id="line-24" href="#line-24">   24</a> Experimental or obsolete features are clearly marked in these RFCs, and    
<a class="line" id="line-25" href="#line-25">   25</a> such information should be used with caution.                              
<a class="line" id="line-26" href="#line-26">   26</a>                                                                            
<a class="line" id="line-27" href="#line-27">   27</a> The reader is especially cautioned not to depend on the values which       
<a class="line" id="line-28" href="#line-28">   28</a> appear in examples to be current or complete, since their purpose is       
<a class="line" id="line-29" href="#line-29">   29</a> primarily pedagogical.  Distribution of this memo is unlimited.            
<a class="line" id="line-30" href="#line-30">   30</a>                                                                            
<a class="line" id="line-31" href="#line-31">   31</a>                            Table of Contents                               
<a class="line" id="line-32" href="#line-32">   32</a>                                                                            
<a class="line" id="line-33" href="#line-33">   33</a>   1. STATUS OF THIS MEMO                                              1    
<a class="line" id="line-34" href="#line-34">   34</a>   2. INTRODUCTION                                                     3    
<a class="line" id="line-35" href="#line-35">   35</a>       2.1. Overview                                                   3    
<a class="line" id="line-36" href="#line-36">   36</a>       2.2. Common configurations                                      4    
<a class="line" id="line-37" href="#line-37">   37</a>       2.3. Conventions                                                7    
<a class="line" id="line-38" href="#line-38">   38</a>           2.3.1. Preferred name syntax                                7    
<a class="line" id="line-39" href="#line-39">   39</a>           2.3.2. Data Transmission Order                              8    
<a class="line" id="line-40" href="#line-40">   40</a>           2.3.3. Character Case                                       9    
<a class="line" id="line-41" href="#line-41">   41</a>           2.3.4. Size limits                                         10    
<a class="line" id="line-42" href="#line-42">   42</a>   3. DOMAIN NAME SPACE AND RR DEFINITIONS                            10    
<a class="line" id="line-43" href="#line-43">   43</a>       3.1. Name space definitions                                    10    
<a class="line" id="line-44" href="#line-44">   44</a>       3.2. RR definitions                                            11    
<a class="line" id="line-45" href="#line-45">   45</a>           3.2.1. Format                                              11    
<a class="line" id="line-46" href="#line-46">   46</a>           3.2.2. TYPE values                                         12    
<a class="line" id="line-47" href="#line-47">   47</a>           3.2.3. QTYPE values                                        12    
<a class="line" id="line-48" href="#line-48">   48</a>           3.2.4. CLASS values                                        13    
<a class="line" id="line-49" href="#line-49">   49</a>                                                                            
<a class="line" id="line-50" href="#line-50">   50</a>                                                                            
<a class="line" id="line-51" href="#line-51">   51</a>                                                                            
<a class="line" id="line-52" href="#line-52">   52</a> <span class="grey">Mockapetris                                                     [Page 1]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-2" ></span><a class="line" id="line-53" href="#line-53">   53</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-54" href="#line-54">   54</a>                                                                            
<a class="line" id="line-55" href="#line-55">   55</a>                                                                            
<a class="line" id="line-56" href="#line-56">   56</a>           3.2.5. QCLASS values                                       13    
<a class="line" id="line-57" href="#line-57">   57</a>       3.3. Standard RRs                                              13    
<a class="line" id="line-58" href="#line-58">   58</a>           3.3.1. CNAME RDATA format                                  14    
<a class="line" id="line-59" href="#line-59">   59</a>           3.3.2. HINFO RDATA format                                  14    
<a class="line" id="line-60" href="#line-60">   60</a>           3.3.3. MB RDATA format (EXPERIMENTAL)                      14    
<a class="line" id="line-61" href="#line-61">   61</a>           3.3.4. MD RDATA format (Obsolete)                          15    
<a class="line" id="line-62" href="#line-62">   62</a>           3.3.5. MF RDATA format (Obsolete)                          15    
<a class="line" id="line-63" href="#line-63">   63</a>           3.3.6. MG RDATA format (EXPERIMENTAL)                      16    
<a class="line" id="line-64" href="#line-64">   64</a>           3.3.7. MINFO RDATA format (EXPERIMENTAL)                   16    
<a class="line" id="line-65" href="#line-65">   65</a>           3.3.8. MR RDATA format (EXPERIMENTAL)                      17    
<a class="line" id="line-66" href="#line-66">   66</a>           3.3.9. MX RDATA format                                     17    
<a class="line" id="line-67" href="#line-67">   67</a>           3.3.10. NULL RDATA format (EXPERIMENTAL)                   17    
<a class="line" id="line-68" href="#line-68">   68</a>           3.3.11. NS RDATA format                                    18    
<a class="line" id="line-69" href="#line-69">   69</a>           3.3.12. PTR RDATA format                                   18    
<a class="line" id="line-70" href="#line-70">   70</a>           3.3.13. SOA RDATA format                                   19    
<a class="line" id="line-71" href="#line-71">   71</a>           3.3.14. TXT RDATA format                                   20    
<a class="line" id="line-72" href="#line-72">   72</a>       3.4. ARPA Internet specific RRs                                20    
<a class="line" id="line-73" href="#line-73">   73</a>           3.4.1. A RDATA format                                      20    
<a class="line" id="line-74" href="#line-74">   74</a>           3.4.2. WKS RDATA format                                    21    
<a class="line" id="line-75" href="#line-75">   75</a>       3.5. IN-ADDR.ARPA domain                                       22    
<a class="line" id="line-76" href="#line-76">   76</a>       3.6. Defining new types, classes, and special namespaces       24    
<a class="line" id="line-77" href="#line-77">   77</a>   4. MESSAGES                                                        25    
<a class="line" id="line-78" href="#line-78">   78</a>       4.1. Format                                                    25    
<a class="line" id="line-79" href="#line-79">   79</a>           4.1.1. Header section format                               26    
<a class="line" id="line-80" href="#line-80">   80</a>           4.1.2. Question section format                             28    
<a class="line" id="line-81" href="#line-81">   81</a>           4.1.3. Resource record format                              29    
<a class="line" id="line-82" href="#line-82">   82</a>           4.1.4. Message compression                                 30    
<a class="line" id="line-83" href="#line-83">   83</a>       4.2. Transport                                                 32    
<a class="line" id="line-84" href="#line-84">   84</a>           4.2.1. UDP usage                                           32    
<a class="line" id="line-85" href="#line-85">   85</a>           4.2.2. TCP usage                                           32    
<a class="line" id="line-86" href="#line-86">   86</a>   5. MASTER FILES                                                    33    
<a class="line" id="line-87" href="#line-87">   87</a>       5.1. Format                                                    33    
<a class="line" id="line-88" href="#line-88">   88</a>       5.2. Use of master files to define zones                       35    
<a class="line" id="line-89" href="#line-89">   89</a>       5.3. Master file example                                       36    
<a class="line" id="line-90" href="#line-90">   90</a>   6. NAME SERVER IMPLEMENTATION                                      37    
<a class="line" id="line-91" href="#line-91">   91</a>       6.1. Architecture                                              37    
<a class="line" id="line-92" href="#line-92">   92</a>           6.1.1. Control                                             37    
<a class="line" id="line-93" href="#line-93">   93</a>           6.1.2. Database                                            37    
<a class="line" id="line-94" href="#line-94">   94</a>           6.1.3. Time                                                39    
<a class="line" id="line-95" href="#line-95">   95</a>       6.2. Standard query processing                                 39    
<a class="line" id="line-96" href="#line-96">   96</a>       6.3. Zone refresh and reload processing                        39    
<a class="line" id="line-97" href="#line-97">   97</a>       6.4. Inverse queries (Optional)                                40    
<a class="line" id="line-98" href="#line-98">   98</a>           6.4.1. The contents of inverse queries and responses       40    
<a class="line" id="line-99" href="#line-99">   99</a>           6.4.2. Inverse query and response example                  41    
<a class="line" id="line-100" href="#line-100">  100</a>           6.4.3. Inverse query processing                            42    
<a class="line" id="line-101" href="#line-101">  101</a>                                                                            
<a class="line" id="line-102" href="#line-102">  102</a>                                                                            
<a class="line" id="line-103" href="#line-103">  103</a>                                                                            
<a class="line" id="line-104" href="#line-104">  104</a>                                                                            
<a class="line" id="line-105" href="#line-105">  105</a>                                                                            
<a class="line" id="line-106" href="#line-106">  106</a>                                                                            
<a class="line" id="line-107" href="#line-107">  107</a> <span class="grey">Mockapetris                                                     [Page 2]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-3" ></span><a class="line" id="line-108" href="#line-108">  108</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-109" href="#line-109">  109</a>                                                                            
<a class="line" id="line-110" href="#line-110">  110</a>                                                                            
<a class="line" id="line-111" href="#line-111">  111</a>       6.5. Completion queries and responses                          42    
<a class="line" id="line-112" href="#line-112">  112</a>   7. RESOLVER IMPLEMENTATION                                         43    
<a class="line" id="line-113" href="#line-113">  113</a>       7.1. Transforming a user request into a query                  43    
<a class="line" id="line-114" href="#line-114">  114</a>       7.2. Sending the queries                                       44    
<a class="line" id="line-115" href="#line-115">  115</a>       7.3. Processing responses                                      46    
<a class="line" id="line-116" href="#line-116">  116</a>       7.4. Using the cache                                           47    
<a class="line" id="line-117" href="#line-117">  117</a>   8. MAIL SUPPORT                                                    47    
<a class="line" id="line-118" href="#line-118">  118</a>       8.1. Mail exchange binding                                     48    
<a class="line" id="line-119" href="#line-119">  119</a>       8.2. Mailbox binding (Experimental)                            48    
<a class="line" id="line-120" href="#line-120">  120</a>   9. REFERENCES and BIBLIOGRAPHY                                     50    
<a class="line" id="line-121" href="#line-121">  121</a>   Index                                                              54    
<a class="line" id="line-122" href="#line-122">  122</a>                                                                            
<a class="line" id="line-123" href="#line-123">  123</a> <span class="h2"><a class="selflink" id="section-2" href="#section-2">2</a>. INTRODUCTION</span>                                                            
<a class="line" id="line-124" href="#line-124">  124</a>                                                                            
<a class="line" id="line-125" href="#line-125">  125</a> <span class="h3"><a class="selflink" id="section-2.1" href="#section-2.1">2.1</a>. Overview</span>                                                              
<a class="line" id="line-126" href="#line-126">  126</a>                                                                            
<a class="line" id="line-127" href="#line-127">  127</a> The goal of domain names is to provide a mechanism for naming resources    
<a class="line" id="line-128" href="#line-128">  128</a> in such a way that the names are usable in different hosts, networks,      
<a class="line" id="line-129" href="#line-129">  129</a> protocol families, internets, and administrative organizations.            
<a class="line" id="line-130" href="#line-130">  130</a>                                                                            
<a class="line" id="line-131" href="#line-131">  131</a> From the user&#x27;s point of view, domain names are useful as arguments to a   
<a class="line" id="line-132" href="#line-132">  132</a> local agent, called a resolver, which retrieves information associated     
<a class="line" id="line-133" href="#line-133">  133</a> with the domain name.  Thus a user might ask for the host address or       
<a class="line" id="line-134" href="#line-134">  134</a> mail information associated with a particular domain name.  To enable      
<a class="line" id="line-135" href="#line-135">  135</a> the user to request a particular type of information, an appropriate       
<a class="line" id="line-136" href="#line-136">  136</a> query type is passed to the resolver with the domain name.  To the user,   
<a class="line" id="line-137" href="#line-137">  137</a> the domain tree is a single information space; the resolver is             
<a class="line" id="line-138" href="#line-138">  138</a> responsible for hiding the distribution of data among name servers from    
<a class="line" id="line-139" href="#line-139">  139</a> the user.                                                                  
<a class="line" id="line-140" href="#line-140">  140</a>                                                                            
<a class="line" id="line-141" href="#line-141">  141</a> From the resolver&#x27;s point of view, the database that makes up the domain   
<a class="line" id="line-142" href="#line-142">  142</a> space is distributed among various name servers.  Different parts of the   
<a class="line" id="line-143" href="#line-143">  143</a> domain space are stored in different name servers, although a particular   
<a class="line" id="line-144" href="#line-144">  144</a> data item will be stored redundantly in two or more name servers.  The     
<a class="line" id="line-145" href="#line-145">  145</a> resolver starts with knowledge of at least one name server.  When the      
<a class="line" id="line-146" href="#line-146">  146</a> resolver processes a user query it asks a known name server for the        
<a class="line" id="line-147" href="#line-147">  147</a> information; in return, the resolver either receives the desired           
<a class="line" id="line-148" href="#line-148">  148</a> information or a referral to another name server.  Using these             
<a class="line" id="line-149" href="#line-149">  149</a> referrals, resolvers learn the identities and contents of other name       
<a class="line" id="line-150" href="#line-150">  150</a> servers.  Resolvers are responsible for dealing with the distribution of   
<a class="line" id="line-151" href="#line-151">  151</a> the domain space and dealing with the effects of name server failure by    
<a class="line" id="line-152" href="#line-152">  152</a> consulting redundant databases in other servers.                           
<a class="line" id="line-153" href="#line-153">  153</a>                                                                            
<a class="line" id="line-154" href="#line-154">  154</a> Name servers manage two kinds of data.  The first kind of data held in     
<a class="line" id="line-155" href="#line-155">  155</a> sets called zones; each zone is the complete database for a particular     
<a class="line" id="line-156" href="#line-156">  156</a> &quot;pruned&quot; subtree of the domain space.  This data is called                 
<a class="line" id="line-157" href="#line-157">  157</a> authoritative.  A name server periodically checks to make sure that its    
<a class="line" id="line-158" href="#line-158">  158</a> zones are up to date, and if not, obtains a new copy of updated zones      
<a class="line" id="line-159" href="#line-159">  159</a>                                                                            
<a class="line" id="line-160" href="#line-160">  160</a>                                                                            
<a class="line" id="line-161" href="#line-161">  161</a>                                                                            
<a class="line" id="line-162" href="#line-162">  162</a> <span class="grey">Mockapetris                                                     [Page 3]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-4" ></span><a class="line" id="line-163" href="#line-163">  163</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-164" href="#line-164">  164</a>                                                                            
<a class="line" id="line-165" href="#line-165">  165</a>                                                                            
<a class="line" id="line-166" href="#line-166">  166</a> from master files stored locally or in another name server.  The second    
<a class="line" id="line-167" href="#line-167">  167</a> kind of data is cached data which was acquired by a local resolver.        
<a class="line" id="line-168" href="#line-168">  168</a> This data may be incomplete, but improves the performance of the           
<a class="line" id="line-169" href="#line-169">  169</a> retrieval process when non-local data is repeatedly accessed.  Cached      
<a class="line" id="line-170" href="#line-170">  170</a> data is eventually discarded by a timeout mechanism.                       
<a class="line" id="line-171" href="#line-171">  171</a>                                                                            
<a class="line" id="line-172" href="#line-172">  172</a> This functional structure isolates the problems of user interface,         
<a class="line" id="line-173" href="#line-173">  173</a> failure recovery, and distribution in the resolvers and isolates the       
<a class="line" id="line-174" href="#line-174">  174</a> database update and refresh problems in the name servers.                  
<a class="line" id="line-175" href="#line-175">  175</a>                                                                            
<a class="line" id="line-176" href="#line-176">  176</a> <span class="h3"><a class="selflink" id="section-2.2" href="#section-2.2">2.2</a>. Common configurations</span>                                                 
<a class="line" id="line-177" href="#line-177">  177</a>                                                                            
<a class="line" id="line-178" href="#line-178">  178</a> A host can participate in the domain name system in a number of ways,      
<a class="line" id="line-179" href="#line-179">  179</a> depending on whether the host runs programs that retrieve information      
<a class="line" id="line-180" href="#line-180">  180</a> from the domain system, name servers that answer queries from other        
<a class="line" id="line-181" href="#line-181">  181</a> hosts, or various combinations of both functions.  The simplest, and       
<a class="line" id="line-182" href="#line-182">  182</a> perhaps most typical, configuration is shown below:                        
<a class="line" id="line-183" href="#line-183">  183</a>                                                                            
<a class="line" id="line-184" href="#line-184">  184</a>                  Local Host                        |  Foreign              
<a class="line" id="line-185" href="#line-185">  185</a>                                                    |                       
<a class="line" id="line-186" href="#line-186">  186</a>     +---------+               +----------+         |  +--------+           
<a class="line" id="line-187" href="#line-187">  187</a>     |         | user queries  |          |queries  |  |        |           
<a class="line" id="line-188" href="#line-188">  188</a>     |  User   |--------------&gt;|          |---------|-&gt;|Foreign |           
<a class="line" id="line-189" href="#line-189">  189</a>     | Program |               | Resolver |         |  |  Name  |           
<a class="line" id="line-190" href="#line-190">  190</a>     |         |&lt;--------------|          |&lt;--------|--| Server |           
<a class="line" id="line-191" href="#line-191">  191</a>     |         | user responses|          |responses|  |        |           
<a class="line" id="line-192" href="#line-192">  192</a>     +---------+               +----------+         |  +--------+           
<a class="line" id="line-193" href="#line-193">  193</a>                                 |     A            |                       
<a class="line" id="line-194" href="#line-194">  194</a>                 cache additions |     | references |                       
<a class="line" id="line-195" href="#line-195">  195</a>                                 V     |            |                       
<a class="line" id="line-196" href="#line-196">  196</a>                               +----------+         |                       
<a class="line" id="line-197" href="#line-197">  197</a>                               |  cache   |         |                       
<a class="line" id="line-198" href="#line-198">  198</a>                               +----------+         |                       
<a class="line" id="line-199" href="#line-199">  199</a>                                                                            
<a class="line" id="line-200" href="#line-200">  200</a> User programs interact with the domain name space through resolvers; the   
<a class="line" id="line-201" href="#line-201">  201</a> format of user queries and user responses is specific to the host and      
<a class="line" id="line-202" href="#line-202">  202</a> its operating system.  User queries will typically be operating system     
<a class="line" id="line-203" href="#line-203">  203</a> calls, and the resolver and its cache will be part of the host operating   
<a class="line" id="line-204" href="#line-204">  204</a> system.  Less capable hosts may choose to implement the resolver as a      
<a class="line" id="line-205" href="#line-205">  205</a> subroutine to be linked in with every program that needs its services.     
<a class="line" id="line-206" href="#line-206">  206</a> Resolvers answer user queries with information they acquire via queries    
<a class="line" id="line-207" href="#line-207">  207</a> to foreign name servers and the local cache.                               
<a class="line" id="line-208" href="#line-208">  208</a>                                                                            
<a class="line" id="line-209" href="#line-209">  209</a> Note that the resolver may have to make several queries to several         
<a class="line" id="line-210" href="#line-210">  210</a> different foreign name servers to answer a particular user query, and      
<a class="line" id="line-211" href="#line-211">  211</a> hence the resolution of a user query may involve several network           
<a class="line" id="line-212" href="#line-212">  212</a> accesses and an arbitrary amount of time.  The queries to foreign name     
<a class="line" id="line-213" href="#line-213">  213</a> servers and the corresponding responses have a standard format described   
<a class="line" id="line-214" href="#line-214">  214</a>                                                                            
<a class="line" id="line-215" href="#line-215">  215</a>                                                                            
<a class="line" id="line-216" href="#line-216">  216</a>                                                                            
<a class="line" id="line-217" href="#line-217">  217</a> <span class="grey">Mockapetris                                                     [Page 4]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-5" ></span><a class="line" id="line-218" href="#line-218">  218</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-219" href="#line-219">  219</a>                                                                            
<a class="line" id="line-220" href="#line-220">  220</a>                                                                            
<a class="line" id="line-221" href="#line-221">  221</a> in this memo, and may be datagrams.                                        
<a class="line" id="line-222" href="#line-222">  222</a>                                                                            
<a class="line" id="line-223" href="#line-223">  223</a> Depending on its capabilities, a name server could be a stand alone        
<a class="line" id="line-224" href="#line-224">  224</a> program on a dedicated machine or a process or processes on a large        
<a class="line" id="line-225" href="#line-225">  225</a> timeshared host.  A simple configuration might be:                         
<a class="line" id="line-226" href="#line-226">  226</a>                                                                            
<a class="line" id="line-227" href="#line-227">  227</a>                  Local Host                        |  Foreign              
<a class="line" id="line-228" href="#line-228">  228</a>                                                    |                       
<a class="line" id="line-229" href="#line-229">  229</a>       +---------+                                  |                       
<a class="line" id="line-230" href="#line-230">  230</a>      /         /|                                  |                       
<a class="line" id="line-231" href="#line-231">  231</a>     +---------+ |             +----------+         |  +--------+           
<a class="line" id="line-232" href="#line-232">  232</a>     |         | |             |          |responses|  |        |           
<a class="line" id="line-233" href="#line-233">  233</a>     |         | |             |   Name   |---------|-&gt;|Foreign |           
<a class="line" id="line-234" href="#line-234">  234</a>     |  Master |--------------&gt;|  Server  |         |  |Resolver|           
<a class="line" id="line-235" href="#line-235">  235</a>     |  files  | |             |          |&lt;--------|--|        |           
<a class="line" id="line-236" href="#line-236">  236</a>     |         |/              |          | queries |  +--------+           
<a class="line" id="line-237" href="#line-237">  237</a>     +---------+               +----------+         |                       
<a class="line" id="line-238" href="#line-238">  238</a>                                                                            
<a class="line" id="line-239" href="#line-239">  239</a> Here a primary name server acquires information about one or more zones    
<a class="line" id="line-240" href="#line-240">  240</a> by reading master files from its local file system, and answers queries    
<a class="line" id="line-241" href="#line-241">  241</a> about those zones that arrive from foreign resolvers.                      
<a class="line" id="line-242" href="#line-242">  242</a>                                                                            
<a class="line" id="line-243" href="#line-243">  243</a> The DNS requires that all zones be redundantly supported by more than      
<a class="line" id="line-244" href="#line-244">  244</a> one name server.  Designated secondary servers can acquire zones and       
<a class="line" id="line-245" href="#line-245">  245</a> check for updates from the primary server using the zone transfer          
<a class="line" id="line-246" href="#line-246">  246</a> protocol of the DNS.  This configuration is shown below:                   
<a class="line" id="line-247" href="#line-247">  247</a>                                                                            
<a class="line" id="line-248" href="#line-248">  248</a>                  Local Host                        |  Foreign              
<a class="line" id="line-249" href="#line-249">  249</a>                                                    |                       
<a class="line" id="line-250" href="#line-250">  250</a>       +---------+                                  |                       
<a class="line" id="line-251" href="#line-251">  251</a>      /         /|                                  |                       
<a class="line" id="line-252" href="#line-252">  252</a>     +---------+ |             +----------+         |  +--------+           
<a class="line" id="line-253" href="#line-253">  253</a>     |         | |             |          |responses|  |        |           
<a class="line" id="line-254" href="#line-254">  254</a>     |         | |             |   Name   |---------|-&gt;|Foreign |           
<a class="line" id="line-255" href="#line-255">  255</a>     |  Master |--------------&gt;|  Server  |         |  |Resolver|           
<a class="line" id="line-256" href="#line-256">  256</a>     |  files  | |             |          |&lt;--------|--|        |           
<a class="line" id="line-257" href="#line-257">  257</a>     |         |/              |          | queries |  +--------+           
<a class="line" id="line-258" href="#line-258">  258</a>     +---------+               +----------+         |                       
<a class="line" id="line-259" href="#line-259">  259</a>                                 A     |maintenance |  +--------+           
<a class="line" id="line-260" href="#line-260">  260</a>                                 |     +------------|-&gt;|        |           
<a class="line" id="line-261" href="#line-261">  261</a>                                 |      queries     |  |Foreign |           
<a class="line" id="line-262" href="#line-262">  262</a>                                 |                  |  |  Name  |           
<a class="line" id="line-263" href="#line-263">  263</a>                                 +------------------|--| Server |           
<a class="line" id="line-264" href="#line-264">  264</a>                              maintenance responses |  +--------+           
<a class="line" id="line-265" href="#line-265">  265</a>                                                                            
<a class="line" id="line-266" href="#line-266">  266</a> In this configuration, the name server periodically establishes a          
<a class="line" id="line-267" href="#line-267">  267</a> virtual circuit to a foreign name server to acquire a copy of a zone or    
<a class="line" id="line-268" href="#line-268">  268</a> to check that an existing copy has not changed.  The messages sent for     
<a class="line" id="line-269" href="#line-269">  269</a>                                                                            
<a class="line" id="line-270" href="#line-270">  270</a>                                                                            
<a class="line" id="line-271" href="#line-271">  271</a>                                                                            
<a class="line" id="line-272" href="#line-272">  272</a> <span class="grey">Mockapetris                                                     [Page 5]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-6" ></span><a class="line" id="line-273" href="#line-273">  273</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-274" href="#line-274">  274</a>                                                                            
<a class="line" id="line-275" href="#line-275">  275</a>                                                                            
<a class="line" id="line-276" href="#line-276">  276</a> these maintenance activities follow the same form as queries and           
<a class="line" id="line-277" href="#line-277">  277</a> responses, but the message sequences are somewhat different.               
<a class="line" id="line-278" href="#line-278">  278</a>                                                                            
<a class="line" id="line-279" href="#line-279">  279</a> The information flow in a host that supports all aspects of the domain     
<a class="line" id="line-280" href="#line-280">  280</a> name system is shown below:                                                
<a class="line" id="line-281" href="#line-281">  281</a>                                                                            
<a class="line" id="line-282" href="#line-282">  282</a>                  Local Host                        |  Foreign              
<a class="line" id="line-283" href="#line-283">  283</a>                                                    |                       
<a class="line" id="line-284" href="#line-284">  284</a>     +---------+               +----------+         |  +--------+           
<a class="line" id="line-285" href="#line-285">  285</a>     |         | user queries  |          |queries  |  |        |           
<a class="line" id="line-286" href="#line-286">  286</a>     |  User   |--------------&gt;|          |---------|-&gt;|Foreign |           
<a class="line" id="line-287" href="#line-287">  287</a>     | Program |               | Resolver |         |  |  Name  |           
<a class="line" id="line-288" href="#line-288">  288</a>     |         |&lt;--------------|          |&lt;--------|--| Server |           
<a class="line" id="line-289" href="#line-289">  289</a>     |         | user responses|          |responses|  |        |           
<a class="line" id="line-290" href="#line-290">  290</a>     +---------+               +----------+         |  +--------+           
<a class="line" id="line-291" href="#line-291">  291</a>                                 |     A            |                       
<a class="line" id="line-292" href="#line-292">  292</a>                 cache additions |     | references |                       
<a class="line" id="line-293" href="#line-293">  293</a>                                 V     |            |                       
<a class="line" id="line-294" href="#line-294">  294</a>                               +----------+         |                       
<a class="line" id="line-295" href="#line-295">  295</a>                               |  Shared  |         |                       
<a class="line" id="line-296" href="#line-296">  296</a>                               | database |         |                       
<a class="line" id="line-297" href="#line-297">  297</a>                               +----------+         |                       
<a class="line" id="line-298" href="#line-298">  298</a>                                 A     |            |                       
<a class="line" id="line-299" href="#line-299">  299</a>       +---------+     refreshes |     | references |                       
<a class="line" id="line-300" href="#line-300">  300</a>      /         /|               |     V            |                       
<a class="line" id="line-301" href="#line-301">  301</a>     +---------+ |             +----------+         |  +--------+           
<a class="line" id="line-302" href="#line-302">  302</a>     |         | |             |          |responses|  |        |           
<a class="line" id="line-303" href="#line-303">  303</a>     |         | |             |   Name   |---------|-&gt;|Foreign |           
<a class="line" id="line-304" href="#line-304">  304</a>     |  Master |--------------&gt;|  Server  |         |  |Resolver|           
<a class="line" id="line-305" href="#line-305">  305</a>     |  files  | |             |          |&lt;--------|--|        |           
<a class="line" id="line-306" href="#line-306">  306</a>     |         |/              |          | queries |  +--------+           
<a class="line" id="line-307" href="#line-307">  307</a>     +---------+               +----------+         |                       
<a class="line" id="line-308" href="#line-308">  308</a>                                 A     |maintenance |  +--------+           
<a class="line" id="line-309" href="#line-309">  309</a>                                 |     +------------|-&gt;|        |           
<a class="line" id="line-310" href="#line-310">  310</a>                                 |      queries     |  |Foreign |           
<a class="line" id="line-311" href="#line-311">  311</a>                                 |                  |  |  Name  |           
<a class="line" id="line-312" href="#line-312">  312</a>                                 +------------------|--| Server |           
<a class="line" id="line-313" href="#line-313">  313</a>                              maintenance responses |  +--------+           
<a class="line" id="line-314" href="#line-314">  314</a>                                                                            
<a class="line" id="line-315" href="#line-315">  315</a> The shared database holds domain space data for the local name server      
<a class="line" id="line-316" href="#line-316">  316</a> and resolver.  The contents of the shared database will typically be a     
<a class="line" id="line-317" href="#line-317">  317</a> mixture of authoritative data maintained by the periodic refresh           
<a class="line" id="line-318" href="#line-318">  318</a> operations of the name server and cached data from previous resolver       
<a class="line" id="line-319" href="#line-319">  319</a> requests.  The structure of the domain data and the necessity for          
<a class="line" id="line-320" href="#line-320">  320</a> synchronization between name servers and resolvers imply the general       
<a class="line" id="line-321" href="#line-321">  321</a> characteristics of this database, but the actual format is up to the       
<a class="line" id="line-322" href="#line-322">  322</a> local implementor.                                                         
<a class="line" id="line-323" href="#line-323">  323</a>                                                                            
<a class="line" id="line-324" href="#line-324">  324</a>                                                                            
<a class="line" id="line-325" href="#line-325">  325</a>                                                                            
<a class="line" id="line-326" href="#line-326">  326</a>                                                                            
<a class="line" id="line-327" href="#line-327">  327</a> <span class="grey">Mockapetris                                                     [Page 6]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-7" ></span><a class="line" id="line-328" href="#line-328">  328</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-329" href="#line-329">  329</a>                                                                            
<a class="line" id="line-330" href="#line-330">  330</a>                                                                            
<a class="line" id="line-331" href="#line-331">  331</a> Information flow can also be tailored so that a group of hosts act         
<a class="line" id="line-332" href="#line-332">  332</a> together to optimize activities.  Sometimes this is done to offload less   
<a class="line" id="line-333" href="#line-333">  333</a> capable hosts so that they do not have to implement a full resolver.       
<a class="line" id="line-334" href="#line-334">  334</a> This can be appropriate for PCs or hosts which want to minimize the        
<a class="line" id="line-335" href="#line-335">  335</a> amount of new network code which is required.  This scheme can also        
<a class="line" id="line-336" href="#line-336">  336</a> allow a group of hosts can share a small number of caches rather than      
<a class="line" id="line-337" href="#line-337">  337</a> maintaining a large number of separate caches, on the premise that the     
<a class="line" id="line-338" href="#line-338">  338</a> centralized caches will have a higher hit ratio.  In either case,          
<a class="line" id="line-339" href="#line-339">  339</a> resolvers are replaced with stub resolvers which act as front ends to      
<a class="line" id="line-340" href="#line-340">  340</a> resolvers located in a recursive server in one or more name servers        
<a class="line" id="line-341" href="#line-341">  341</a> known to perform that service:                                             
<a class="line" id="line-342" href="#line-342">  342</a>                                                                            
<a class="line" id="line-343" href="#line-343">  343</a>                    Local Hosts                     |  Foreign              
<a class="line" id="line-344" href="#line-344">  344</a>                                                    |                       
<a class="line" id="line-345" href="#line-345">  345</a>     +---------+                                    |                       
<a class="line" id="line-346" href="#line-346">  346</a>     |         | responses                          |                       
<a class="line" id="line-347" href="#line-347">  347</a>     | Stub    |&lt;--------------------+              |                       
<a class="line" id="line-348" href="#line-348">  348</a>     | Resolver|                     |              |                       
<a class="line" id="line-349" href="#line-349">  349</a>     |         |----------------+    |              |                       
<a class="line" id="line-350" href="#line-350">  350</a>     +---------+ recursive      |    |              |                       
<a class="line" id="line-351" href="#line-351">  351</a>                 queries        |    |              |                       
<a class="line" id="line-352" href="#line-352">  352</a>                                V    |              |                       
<a class="line" id="line-353" href="#line-353">  353</a>     +---------+ recursive     +----------+         |  +--------+           
<a class="line" id="line-354" href="#line-354">  354</a>     |         | queries       |          |queries  |  |        |           
<a class="line" id="line-355" href="#line-355">  355</a>     | Stub    |--------------&gt;| Recursive|---------|-&gt;|Foreign |           
<a class="line" id="line-356" href="#line-356">  356</a>     | Resolver|               | Server   |         |  |  Name  |           
<a class="line" id="line-357" href="#line-357">  357</a>     |         |&lt;--------------|          |&lt;--------|--| Server |           
<a class="line" id="line-358" href="#line-358">  358</a>     +---------+ responses     |          |responses|  |        |           
<a class="line" id="line-359" href="#line-359">  359</a>                               +----------+         |  +--------+           
<a class="line" id="line-360" href="#line-360">  360</a>                               |  Central |         |                       
<a class="line" id="line-361" href="#line-361">  361</a>                               |   cache  |         |                       
<a class="line" id="line-362" href="#line-362">  362</a>                               +----------+         |                       
<a class="line" id="line-363" href="#line-363">  363</a>                                                                            
<a class="line" id="line-364" href="#line-364">  364</a> In any case, note that domain components are always replicated for         
<a class="line" id="line-365" href="#line-365">  365</a> reliability whenever possible.                                             
<a class="line" id="line-366" href="#line-366">  366</a>                                                                            
<a class="line" id="line-367" href="#line-367">  367</a> <span class="h3"><a class="selflink" id="section-2.3" href="#section-2.3">2.3</a>. Conventions</span>                                                           
<a class="line" id="line-368" href="#line-368">  368</a>                                                                            
<a class="line" id="line-369" href="#line-369">  369</a> The domain system has several conventions dealing with low-level, but      
<a class="line" id="line-370" href="#line-370">  370</a> fundamental, issues.  While the implementor is free to violate these       
<a class="line" id="line-371" href="#line-371">  371</a> conventions WITHIN HIS OWN SYSTEM, he must observe these conventions in    
<a class="line" id="line-372" href="#line-372">  372</a> ALL behavior observed from other hosts.                                    
<a class="line" id="line-373" href="#line-373">  373</a>                                                                            
<a class="line" id="line-374" href="#line-374">  374</a> <span class="h4"><a class="selflink" id="section-2.3.1" href="#section-2.3.1">2.3.1</a>. Preferred name syntax</span>                                               
<a class="line" id="line-375" href="#line-375">  375</a>                                                                            
<a class="line" id="line-376" href="#line-376">  376</a> The DNS specifications attempt to be as general as possible in the rules   
<a class="line" id="line-377" href="#line-377">  377</a> for constructing domain names.  The idea is that the name of any           
<a class="line" id="line-378" href="#line-378">  378</a> existing object can be expressed as a domain name with minimal changes.    
<a class="line" id="line-379" href="#line-379">  379</a>                                                                            
<a class="line" id="line-380" href="#line-380">  380</a>                                                                            
<a class="line" id="line-381" href="#line-381">  381</a>                                                                            
<a class="line" id="line-382" href="#line-382">  382</a> <span class="grey">Mockapetris                                                     [Page 7]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-8" ></span><a class="line" id="line-383" href="#line-383">  383</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-384" href="#line-384">  384</a>                                                                            
<a class="line" id="line-385" href="#line-385">  385</a>                                                                            
<a class="line" id="line-386" href="#line-386">  386</a> However, when assigning a domain name for an object, the prudent user      
<a class="line" id="line-387" href="#line-387">  387</a> will select a name which satisfies both the rules of the domain system     
<a class="line" id="line-388" href="#line-388">  388</a> and any existing rules for the object, whether these rules are published   
<a class="line" id="line-389" href="#line-389">  389</a> or implied by existing programs.                                           
<a class="line" id="line-390" href="#line-390">  390</a>                                                                            
<a class="line" id="line-391" href="#line-391">  391</a> For example, when naming a mail domain, the user should satisfy both the   
<a class="line" id="line-392" href="#line-392">  392</a> rules of this memo and those in <a href="https://datatracker.ietf.org/doc/rfc822/">RFC-822</a>.  When creating a new host name,   
<a class="line" id="line-393" href="#line-393">  393</a> the old rules for HOSTS.TXT should be followed.  This avoids problems      
<a class="line" id="line-394" href="#line-394">  394</a> when old software is converted to use domain names.                        
<a class="line" id="line-395" href="#line-395">  395</a>                                                                            
<a class="line" id="line-396" href="#line-396">  396</a> The following syntax will result in fewer problems with many               
<a class="line" id="line-397" href="#line-397">  397</a>                                                                            
<a class="line" id="line-398" href="#line-398">  398</a> applications that use domain names (e.g., mail, TELNET).                   
<a class="line" id="line-399" href="#line-399">  399</a>                                                                            
<a class="line" id="line-400" href="#line-400">  400</a> &lt;domain&gt; ::= &lt;subdomain&gt; | &quot; &quot;                                             
<a class="line" id="line-401" href="#line-401">  401</a>                                                                            
<a class="line" id="line-402" href="#line-402">  402</a> &lt;subdomain&gt; ::= &lt;label&gt; | &lt;subdomain&gt; &quot;.&quot; &lt;label&gt;                          
<a class="line" id="line-403" href="#line-403">  403</a>                                                                            
<a class="line" id="line-404" href="#line-404">  404</a> &lt;label&gt; ::= &lt;letter&gt; [ [ &lt;ldh-str&gt; ] &lt;let-dig&gt; ]                           
<a class="line" id="line-405" href="#line-405">  405</a>                                                                            
<a class="line" id="line-406" href="#line-406">  406</a> &lt;ldh-str&gt; ::= &lt;let-dig-hyp&gt; | &lt;let-dig-hyp&gt; &lt;ldh-str&gt;                      
<a class="line" id="line-407" href="#line-407">  407</a>                                                                            
<a class="line" id="line-408" href="#line-408">  408</a> &lt;let-dig-hyp&gt; ::= &lt;let-dig&gt; | &quot;-&quot;                                          
<a class="line" id="line-409" href="#line-409">  409</a>                                                                            
<a class="line" id="line-410" href="#line-410">  410</a> &lt;let-dig&gt; ::= &lt;letter&gt; | &lt;digit&gt;                                           
<a class="line" id="line-411" href="#line-411">  411</a>                                                                            
<a class="line" id="line-412" href="#line-412">  412</a> &lt;letter&gt; ::= any one of the 52 alphabetic characters A through Z in        
<a class="line" id="line-413" href="#line-413">  413</a> upper case and a through z in lower case                                   
<a class="line" id="line-414" href="#line-414">  414</a>                                                                            
<a class="line" id="line-415" href="#line-415">  415</a> &lt;digit&gt; ::= any one of the ten digits 0 through 9                          
<a class="line" id="line-416" href="#line-416">  416</a>                                                                            
<a class="line" id="line-417" href="#line-417">  417</a> Note that while upper and lower case letters are allowed in domain         
<a class="line" id="line-418" href="#line-418">  418</a> names, no significance is attached to the case.  That is, two names with   
<a class="line" id="line-419" href="#line-419">  419</a> the same spelling but different case are to be treated as if identical.    
<a class="line" id="line-420" href="#line-420">  420</a>                                                                            
<a class="line" id="line-421" href="#line-421">  421</a> The labels must follow the rules for ARPANET host names.  They must        
<a class="line" id="line-422" href="#line-422">  422</a> start with a letter, end with a letter or digit, and have as interior      
<a class="line" id="line-423" href="#line-423">  423</a> characters only letters, digits, and hyphen.  There are also some          
<a class="line" id="line-424" href="#line-424">  424</a> restrictions on the length.  Labels must be 63 characters or less.         
<a class="line" id="line-425" href="#line-425">  425</a>                                                                            
<a class="line" id="line-426" href="#line-426">  426</a> For example, the following strings identify hosts in the Internet:         
<a class="line" id="line-427" href="#line-427">  427</a>                                                                            
<a class="line" id="line-428" href="#line-428">  428</a> A.ISI.EDU XX.LCS.MIT.EDU SRI-NIC.ARPA                                      
<a class="line" id="line-429" href="#line-429">  429</a>                                                                            
<a class="line" id="line-430" href="#line-430">  430</a> <span class="h4"><a class="selflink" id="section-2.3.2" href="#section-2.3.2">2.3.2</a>. Data Transmission Order</span>                                             
<a class="line" id="line-431" href="#line-431">  431</a>                                                                            
<a class="line" id="line-432" href="#line-432">  432</a> The order of transmission of the header and data described in this         
<a class="line" id="line-433" href="#line-433">  433</a> document is resolved to the octet level.  Whenever a diagram shows a       
<a class="line" id="line-434" href="#line-434">  434</a>                                                                            
<a class="line" id="line-435" href="#line-435">  435</a>                                                                            
<a class="line" id="line-436" href="#line-436">  436</a>                                                                            
<a class="line" id="line-437" href="#line-437">  437</a> <span class="grey">Mockapetris                                                     [Page 8]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-9" ></span><a class="line" id="line-438" href="#line-438">  438</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-439" href="#line-439">  439</a>                                                                            
<a class="line" id="line-440" href="#line-440">  440</a>                                                                            
<a class="line" id="line-441" href="#line-441">  441</a> group of octets, the order of transmission of those octets is the normal   
<a class="line" id="line-442" href="#line-442">  442</a> order in which they are read in English.  For example, in the following    
<a class="line" id="line-443" href="#line-443">  443</a> diagram, the octets are transmitted in the order they are numbered.        
<a class="line" id="line-444" href="#line-444">  444</a>                                                                            
<a class="line" id="line-445" href="#line-445">  445</a>      0                   1                                                 
<a class="line" id="line-446" href="#line-446">  446</a>      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5                                       
<a class="line" id="line-447" href="#line-447">  447</a>     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+                                      
<a class="line" id="line-448" href="#line-448">  448</a>     |       1       |       2       |                                      
<a class="line" id="line-449" href="#line-449">  449</a>     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+                                      
<a class="line" id="line-450" href="#line-450">  450</a>     |       3       |       4       |                                      
<a class="line" id="line-451" href="#line-451">  451</a>     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+                                      
<a class="line" id="line-452" href="#line-452">  452</a>     |       5       |       6       |                                      
<a class="line" id="line-453" href="#line-453">  453</a>     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+                                      
<a class="line" id="line-454" href="#line-454">  454</a>                                                                            
<a class="line" id="line-455" href="#line-455">  455</a> Whenever an octet represents a numeric quantity, the left most bit in      
<a class="line" id="line-456" href="#line-456">  456</a> the diagram is the high order or most significant bit.  That is, the bit   
<a class="line" id="line-457" href="#line-457">  457</a> labeled 0 is the most significant bit.  For example, the following         
<a class="line" id="line-458" href="#line-458">  458</a> diagram represents the value 170 (decimal).                                
<a class="line" id="line-459" href="#line-459">  459</a>                                                                            
<a class="line" id="line-460" href="#line-460">  460</a>      0 1 2 3 4 5 6 7                                                       
<a class="line" id="line-461" href="#line-461">  461</a>     +-+-+-+-+-+-+-+-+                                                      
<a class="line" id="line-462" href="#line-462">  462</a>     |1 0 1 0 1 0 1 0|                                                      
<a class="line" id="line-463" href="#line-463">  463</a>     +-+-+-+-+-+-+-+-+                                                      
<a class="line" id="line-464" href="#line-464">  464</a>                                                                            
<a class="line" id="line-465" href="#line-465">  465</a> Similarly, whenever a multi-octet field represents a numeric quantity      
<a class="line" id="line-466" href="#line-466">  466</a> the left most bit of the whole field is the most significant bit.  When    
<a class="line" id="line-467" href="#line-467">  467</a> a multi-octet quantity is transmitted the most significant octet is        
<a class="line" id="line-468" href="#line-468">  468</a> transmitted first.                                                         
<a class="line" id="line-469" href="#line-469">  469</a>                                                                            
<a class="line" id="line-470" href="#line-470">  470</a> <span class="h4"><a class="selflink" id="section-2.3.3" href="#section-2.3.3">2.3.3</a>. Character Case</span>                                                      
<a class="line" id="line-471" href="#line-471">  471</a>                                                                            
<a class="line" id="line-472" href="#line-472">  472</a> For all parts of the DNS that are part of the official protocol, all       
<a class="line" id="line-473" href="#line-473">  473</a> comparisons between character strings (e.g., labels, domain names, etc.)   
<a class="line" id="line-474" href="#line-474">  474</a> are done in a case-insensitive manner.  At present, this rule is in        
<a class="line" id="line-475" href="#line-475">  475</a> force throughout the domain system without exception.  However, future     
<a class="line" id="line-476" href="#line-476">  476</a> additions beyond current usage may need to use the full binary octet       
<a class="line" id="line-477" href="#line-477">  477</a> capabilities in names, so attempts to store domain names in 7-bit ASCII    
<a class="line" id="line-478" href="#line-478">  478</a> or use of special bytes to terminate labels, etc., should be avoided.      
<a class="line" id="line-479" href="#line-479">  479</a>                                                                            
<a class="line" id="line-480" href="#line-480">  480</a> When data enters the domain system, its original case should be            
<a class="line" id="line-481" href="#line-481">  481</a> preserved whenever possible.  In certain circumstances this cannot be      
<a class="line" id="line-482" href="#line-482">  482</a> done.  For example, if two RRs are stored in a database, one at x.y and    
<a class="line" id="line-483" href="#line-483">  483</a> one at X.Y, they are actually stored at the same place in the database,    
<a class="line" id="line-484" href="#line-484">  484</a> and hence only one casing would be preserved.  The basic rule is that      
<a class="line" id="line-485" href="#line-485">  485</a> case can be discarded only when data is used to define structure in a      
<a class="line" id="line-486" href="#line-486">  486</a> database, and two names are identical when compared in a case              
<a class="line" id="line-487" href="#line-487">  487</a> insensitive manner.                                                        
<a class="line" id="line-488" href="#line-488">  488</a>                                                                            
<a class="line" id="line-489" href="#line-489">  489</a>                                                                            
<a class="line" id="line-490" href="#line-490">  490</a>                                                                            
<a class="line" id="line-491" href="#line-491">  491</a>                                                                            
<a class="line" id="line-492" href="#line-492">  492</a> <span class="grey">Mockapetris                                                     [Page 9]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-10" ></span><a class="line" id="line-493" href="#line-493">  493</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-494" href="#line-494">  494</a>                                                                            
<a class="line" id="line-495" href="#line-495">  495</a>                                                                            
<a class="line" id="line-496" href="#line-496">  496</a> Loss of case sensitive data must be minimized.  Thus while data for x.y    
<a class="line" id="line-497" href="#line-497">  497</a> and X.Y may both be stored under a single location x.y or X.Y, data for    
<a class="line" id="line-498" href="#line-498">  498</a> a.x and B.X would never be stored under A.x, A.X, b.x, or b.X.  In         
<a class="line" id="line-499" href="#line-499">  499</a> general, this preserves the case of the first label of a domain name,      
<a class="line" id="line-500" href="#line-500">  500</a> but forces standardization of interior node labels.                        
<a class="line" id="line-501" href="#line-501">  501</a>                                                                            
<a class="line" id="line-502" href="#line-502">  502</a> Systems administrators who enter data into the domain database should      
<a class="line" id="line-503" href="#line-503">  503</a> take care to represent the data they supply to the domain system in a      
<a class="line" id="line-504" href="#line-504">  504</a> case-consistent manner if their system is case-sensitive.  The data        
<a class="line" id="line-505" href="#line-505">  505</a> distribution system in the domain system will ensure that consistent       
<a class="line" id="line-506" href="#line-506">  506</a> representations are preserved.                                             
<a class="line" id="line-507" href="#line-507">  507</a>                                                                            
<a class="line" id="line-508" href="#line-508">  508</a> <span class="h4"><a class="selflink" id="section-2.3.4" href="#section-2.3.4">2.3.4</a>. Size limits</span>                                                         
<a class="line" id="line-509" href="#line-509">  509</a>                                                                            
<a class="line" id="line-510" href="#line-510">  510</a> Various objects and parameters in the DNS have size limits.  They are      
<a class="line" id="line-511" href="#line-511">  511</a> listed below.  Some could be easily changed, others are more               
<a class="line" id="line-512" href="#line-512">  512</a> fundamental.                                                               
<a class="line" id="line-513" href="#line-513">  513</a>                                                                            
<a class="line" id="line-514" href="#line-514">  514</a> labels          63 octets or less                                          
<a class="line" id="line-515" href="#line-515">  515</a>                                                                            
<a class="line" id="line-516" href="#line-516">  516</a> names           255 octets or less                                         
<a class="line" id="line-517" href="#line-517">  517</a>                                                                            
<a class="line" id="line-518" href="#line-518">  518</a> TTL             positive values of a signed 32 bit number.                 
<a class="line" id="line-519" href="#line-519">  519</a>                                                                            
<a class="line" id="line-520" href="#line-520">  520</a> UDP messages    512 octets or less                                         
<a class="line" id="line-521" href="#line-521">  521</a>                                                                            
<a class="line" id="line-522" href="#line-522">  522</a> <span class="h2"><a class="selflink" id="section-3" href="#section-3">3</a>. DOMAIN NAME SPACE AND RR DEFINITIONS</span>                                    
<a class="line" id="line-523" href="#line-523">  523</a>                                                                            
<a class="line" id="line-524" href="#line-524">  524</a> <span class="h3"><a class="selflink" id="section-3.1" href="#section-3.1">3.1</a>. Name space definitions</span>                                                
<a class="line" id="line-525" href="#line-525">  525</a>                                                                            
<a class="line" id="line-526" href="#line-526">  526</a> Domain names in messages are expressed in terms of a sequence of labels.   
<a class="line" id="line-527" href="#line-527">  527</a> Each label is represented as a one octet length field followed by that     
<a class="line" id="line-528" href="#line-528">  528</a> number of octets.  Since every domain name ends with the null label of     
<a class="line" id="line-529" href="#line-529">  529</a> the root, a domain name is terminated by a length byte of zero.  The       
<a class="line" id="line-530" href="#line-530">  530</a> high order two bits of every length octet must be zero, and the            
<a class="line" id="line-531" href="#line-531">  531</a> remaining six bits of the length field limit the label to 63 octets or     
<a class="line" id="line-532" href="#line-532">  532</a> less.                                                                      
<a class="line" id="line-533" href="#line-533">  533</a>                                                                            
<a class="line" id="line-534" href="#line-534">  534</a> To simplify implementations, the total length of a domain name (i.e.,      
<a class="line" id="line-535" href="#line-535">  535</a> label octets and label length octets) is restricted to 255 octets or       
<a class="line" id="line-536" href="#line-536">  536</a> less.                                                                      
<a class="line" id="line-537" href="#line-537">  537</a>                                                                            
<a class="line" id="line-538" href="#line-538">  538</a> Although labels can contain any 8 bit values in octets that make up a      
<a class="line" id="line-539" href="#line-539">  539</a> label, it is strongly recommended that labels follow the preferred         
<a class="line" id="line-540" href="#line-540">  540</a> syntax described elsewhere in this memo, which is compatible with          
<a class="line" id="line-541" href="#line-541">  541</a> existing host naming conventions.  Name servers and resolvers must         
<a class="line" id="line-542" href="#line-542">  542</a> compare labels in a case-insensitive manner (i.e., A=a), assuming ASCII    
<a class="line" id="line-543" href="#line-543">  543</a> with zero parity.  Non-alphabetic codes must match exactly.                
<a class="line" id="line-544" href="#line-544">  544</a>                                                                            
<a class="line" id="line-545" href="#line-545">  545</a>                                                                            
<a class="line" id="line-546" href="#line-546">  546</a>                                                                            
<a class="line" id="line-547" href="#line-547">  547</a> <span class="grey">Mockapetris                                                    [Page 10]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-11" ></span><a class="line" id="line-548" href="#line-548">  548</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-549" href="#line-549">  549</a>                                                                            
<a class="line" id="line-550" href="#line-550">  550</a>                                                                            
<a class="line" id="line-551" href="#line-551">  551</a> <span class="h3"><a class="selflink" id="section-3.2" href="#section-3.2">3.2</a>. RR definitions</span>                                                        
<a class="line" id="line-552" href="#line-552">  552</a>                                                                            
<a class="line" id="line-553" href="#line-553">  553</a> <span class="h4"><a class="selflink" id="section-3.2.1" href="#section-3.2.1">3.2.1</a>. Format</span>                                                              
<a class="line" id="line-554" href="#line-554">  554</a>                                                                            
<a class="line" id="line-555" href="#line-555">  555</a> All RRs have the same top level format shown below:                        
<a class="line" id="line-556" href="#line-556">  556</a>                                                                            
<a class="line" id="line-557" href="#line-557">  557</a>                                     1  1  1  1  1  1                       
<a class="line" id="line-558" href="#line-558">  558</a>       0  1  2  3  4  5  6  7  8  9  0  1  2  3  4  5                       
<a class="line" id="line-559" href="#line-559">  559</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-560" href="#line-560">  560</a>     |                                               |                      
<a class="line" id="line-561" href="#line-561">  561</a>     /                                               /                      
<a class="line" id="line-562" href="#line-562">  562</a>     /                      NAME                     /                      
<a class="line" id="line-563" href="#line-563">  563</a>     |                                               |                      
<a class="line" id="line-564" href="#line-564">  564</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-565" href="#line-565">  565</a>     |                      TYPE                     |                      
<a class="line" id="line-566" href="#line-566">  566</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-567" href="#line-567">  567</a>     |                     CLASS                     |                      
<a class="line" id="line-568" href="#line-568">  568</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-569" href="#line-569">  569</a>     |                      TTL                      |                      
<a class="line" id="line-570" href="#line-570">  570</a>     |                                               |                      
<a class="line" id="line-571" href="#line-571">  571</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-572" href="#line-572">  572</a>     |                   RDLENGTH                    |                      
<a class="line" id="line-573" href="#line-573">  573</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--|                      
<a class="line" id="line-574" href="#line-574">  574</a>     /                     RDATA                     /                      
<a class="line" id="line-575" href="#line-575">  575</a>     /                                               /                      
<a class="line" id="line-576" href="#line-576">  576</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-577" href="#line-577">  577</a>                                                                            
<a class="line" id="line-578" href="#line-578">  578</a>                                                                            
<a class="line" id="line-579" href="#line-579">  579</a> where:                                                                     
<a class="line" id="line-580" href="#line-580">  580</a>                                                                            
<a class="line" id="line-581" href="#line-581">  581</a> NAME            an owner name, i.e., the name of the node to which this    
<a class="line" id="line-582" href="#line-582">  582</a>                 resource record pertains.                                  
<a class="line" id="line-583" href="#line-583">  583</a>                                                                            
<a class="line" id="line-584" href="#line-584">  584</a> TYPE            two octets containing one of the RR TYPE codes.            
<a class="line" id="line-585" href="#line-585">  585</a>                                                                            
<a class="line" id="line-586" href="#line-586">  586</a> CLASS           two octets containing one of the RR CLASS codes.           
<a class="line" id="line-587" href="#line-587">  587</a>                                                                            
<a class="line" id="line-588" href="#line-588">  588</a> TTL             a 32 bit signed integer that specifies the time interval   
<a class="line" id="line-589" href="#line-589">  589</a>                 that the resource record may be cached before the source   
<a class="line" id="line-590" href="#line-590">  590</a>                 of the information should again be consulted.  Zero        
<a class="line" id="line-591" href="#line-591">  591</a>                 values are interpreted to mean that the RR can only be     
<a class="line" id="line-592" href="#line-592">  592</a>                 used for the transaction in progress, and should not be    
<a class="line" id="line-593" href="#line-593">  593</a>                 cached.  For example, SOA records are always distributed   
<a class="line" id="line-594" href="#line-594">  594</a>                 with a zero TTL to prohibit caching.  Zero values can      
<a class="line" id="line-595" href="#line-595">  595</a>                 also be used for extremely volatile data.                  
<a class="line" id="line-596" href="#line-596">  596</a>                                                                            
<a class="line" id="line-597" href="#line-597">  597</a> RDLENGTH        an unsigned 16 bit integer that specifies the length in    
<a class="line" id="line-598" href="#line-598">  598</a>                 octets of the RDATA field.                                 
<a class="line" id="line-599" href="#line-599">  599</a>                                                                            
<a class="line" id="line-600" href="#line-600">  600</a>                                                                            
<a class="line" id="line-601" href="#line-601">  601</a>                                                                            
<a class="line" id="line-602" href="#line-602">  602</a> <span class="grey">Mockapetris                                                    [Page 11]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-12" ></span><a class="line" id="line-603" href="#line-603">  603</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-604" href="#line-604">  604</a>                                                                            
<a class="line" id="line-605" href="#line-605">  605</a>                                                                            
<a class="line" id="line-606" href="#line-606">  606</a> RDATA           a variable length string of octets that describes the      
<a class="line" id="line-607" href="#line-607">  607</a>                 resource.  The format of this information varies           
<a class="line" id="line-608" href="#line-608">  608</a>                 according to the TYPE and CLASS of the resource record.    
<a class="line" id="line-609" href="#line-609">  609</a>                                                                            
<a class="line" id="line-610" href="#line-610">  610</a> <span class="h4"><a class="selflink" id="section-3.2.2" href="#section-3.2.2">3.2.2</a>. TYPE values</span>                                                         
<a class="line" id="line-611" href="#line-611">  611</a>                                                                            
<a class="line" id="line-612" href="#line-612">  612</a> TYPE fields are used in resource records.  Note that these types are a     
<a class="line" id="line-613" href="#line-613">  613</a> subset of QTYPEs.                                                          
<a class="line" id="line-614" href="#line-614">  614</a>                                                                            
<a class="line" id="line-615" href="#line-615">  615</a> TYPE            value and meaning                                          
<a class="line" id="line-616" href="#line-616">  616</a>                                                                            
<a class="line" id="line-617" href="#line-617">  617</a> A               1 a host address                                           
<a class="line" id="line-618" href="#line-618">  618</a>                                                                            
<a class="line" id="line-619" href="#line-619">  619</a> NS              2 an authoritative name server                             
<a class="line" id="line-620" href="#line-620">  620</a>                                                                            
<a class="line" id="line-621" href="#line-621">  621</a> MD              3 a mail destination (Obsolete - use MX)                   
<a class="line" id="line-622" href="#line-622">  622</a>                                                                            
<a class="line" id="line-623" href="#line-623">  623</a> MF              4 a mail forwarder (Obsolete - use MX)                     
<a class="line" id="line-624" href="#line-624">  624</a>                                                                            
<a class="line" id="line-625" href="#line-625">  625</a> CNAME           5 the canonical name for an alias                          
<a class="line" id="line-626" href="#line-626">  626</a>                                                                            
<a class="line" id="line-627" href="#line-627">  627</a> SOA             6 marks the start of a zone of authority                   
<a class="line" id="line-628" href="#line-628">  628</a>                                                                            
<a class="line" id="line-629" href="#line-629">  629</a> MB              7 a mailbox domain name (EXPERIMENTAL)                     
<a class="line" id="line-630" href="#line-630">  630</a>                                                                            
<a class="line" id="line-631" href="#line-631">  631</a> MG              8 a mail group member (EXPERIMENTAL)                       
<a class="line" id="line-632" href="#line-632">  632</a>                                                                            
<a class="line" id="line-633" href="#line-633">  633</a> MR              9 a mail rename domain name (EXPERIMENTAL)                 
<a class="line" id="line-634" href="#line-634">  634</a>                                                                            
<a class="line" id="line-635" href="#line-635">  635</a> NULL            10 a null RR (EXPERIMENTAL)                                
<a class="line" id="line-636" href="#line-636">  636</a>                                                                            
<a class="line" id="line-637" href="#line-637">  637</a> WKS             11 a well known service description                        
<a class="line" id="line-638" href="#line-638">  638</a>                                                                            
<a class="line" id="line-639" href="#line-639">  639</a> PTR             12 a domain name pointer                                   
<a class="line" id="line-640" href="#line-640">  640</a>                                                                            
<a class="line" id="line-641" href="#line-641">  641</a> HINFO           13 host information                                        
<a class="line" id="line-642" href="#line-642">  642</a>                                                                            
<a class="line" id="line-643" href="#line-643">  643</a> MINFO           14 mailbox or mail list information                        
<a class="line" id="line-644" href="#line-644">  644</a>                                                                            
<a class="line" id="line-645" href="#line-645">  645</a> MX              15 mail exchange                                           
<a class="line" id="line-646" href="#line-646">  646</a>                                                                            
<a class="line" id="line-647" href="#line-647">  647</a> TXT             16 text strings                                            
<a class="line" id="line-648" href="#line-648">  648</a>                                                                            
<a class="line" id="line-649" href="#line-649">  649</a> <span class="h4"><a class="selflink" id="section-3.2.3" href="#section-3.2.3">3.2.3</a>. QTYPE values</span>                                                        
<a class="line" id="line-650" href="#line-650">  650</a>                                                                            
<a class="line" id="line-651" href="#line-651">  651</a> QTYPE fields appear in the question part of a query.  QTYPES are a         
<a class="line" id="line-652" href="#line-652">  652</a> superset of TYPEs, hence all TYPEs are valid QTYPEs.  In addition, the     
<a class="line" id="line-653" href="#line-653">  653</a> following QTYPEs are defined:                                              
<a class="line" id="line-654" href="#line-654">  654</a>                                                                            
<a class="line" id="line-655" href="#line-655">  655</a>                                                                            
<a class="line" id="line-656" href="#line-656">  656</a>                                                                            
<a class="line" id="line-657" href="#line-657">  657</a> <span class="grey">Mockapetris                                                    [Page 12]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-13" ></span><a class="line" id="line-658" href="#line-658">  658</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-659" href="#line-659">  659</a>                                                                            
<a class="line" id="line-660" href="#line-660">  660</a>                                                                            
<a class="line" id="line-661" href="#line-661">  661</a> AXFR            252 A request for a transfer of an entire zone             
<a class="line" id="line-662" href="#line-662">  662</a>                                                                            
<a class="line" id="line-663" href="#line-663">  663</a> MAILB           253 A request for mailbox-related records (MB, MG or MR)   
<a class="line" id="line-664" href="#line-664">  664</a>                                                                            
<a class="line" id="line-665" href="#line-665">  665</a> MAILA           254 A request for mail agent RRs (Obsolete - see MX)       
<a class="line" id="line-666" href="#line-666">  666</a>                                                                            
<a class="line" id="line-667" href="#line-667">  667</a> *               255 A request for all records                              
<a class="line" id="line-668" href="#line-668">  668</a>                                                                            
<a class="line" id="line-669" href="#line-669">  669</a> <span class="h4"><a class="selflink" id="section-3.2.4" href="#section-3.2.4">3.2.4</a>. CLASS values</span>                                                        
<a class="line" id="line-670" href="#line-670">  670</a>                                                                            
<a class="line" id="line-671" href="#line-671">  671</a> CLASS fields appear in resource records.  The following CLASS mnemonics    
<a class="line" id="line-672" href="#line-672">  672</a> and values are defined:                                                    
<a class="line" id="line-673" href="#line-673">  673</a>                                                                            
<a class="line" id="line-674" href="#line-674">  674</a> IN              1 the Internet                                             
<a class="line" id="line-675" href="#line-675">  675</a>                                                                            
<a class="line" id="line-676" href="#line-676">  676</a> CS              2 the CSNET class (Obsolete - used only for examples in    
<a class="line" id="line-677" href="#line-677">  677</a>                 some obsolete RFCs)                                        
<a class="line" id="line-678" href="#line-678">  678</a>                                                                            
<a class="line" id="line-679" href="#line-679">  679</a> CH              3 the CHAOS class                                          
<a class="line" id="line-680" href="#line-680">  680</a>                                                                            
<a class="line" id="line-681" href="#line-681">  681</a> HS              4 Hesiod [Dyer 87]                                         
<a class="line" id="line-682" href="#line-682">  682</a>                                                                            
<a class="line" id="line-683" href="#line-683">  683</a> <span class="h4"><a class="selflink" id="section-3.2.5" href="#section-3.2.5">3.2.5</a>. QCLASS values</span>                                                       
<a class="line" id="line-684" href="#line-684">  684</a>                                                                            
<a class="line" id="line-685" href="#line-685">  685</a> QCLASS fields appear in the question section of a query.  QCLASS values    
<a class="line" id="line-686" href="#line-686">  686</a> are a superset of CLASS values; every CLASS is a valid QCLASS.  In         
<a class="line" id="line-687" href="#line-687">  687</a> addition to CLASS values, the following QCLASSes are defined:              
<a class="line" id="line-688" href="#line-688">  688</a>                                                                            
<a class="line" id="line-689" href="#line-689">  689</a> *               255 any class                                              
<a class="line" id="line-690" href="#line-690">  690</a>                                                                            
<a class="line" id="line-691" href="#line-691">  691</a> <span class="h3"><a class="selflink" id="section-3.3" href="#section-3.3">3.3</a>. Standard RRs</span>                                                          
<a class="line" id="line-692" href="#line-692">  692</a>                                                                            
<a class="line" id="line-693" href="#line-693">  693</a> The following RR definitions are expected to occur, at least               
<a class="line" id="line-694" href="#line-694">  694</a> potentially, in all classes.  In particular, NS, SOA, CNAME, and PTR       
<a class="line" id="line-695" href="#line-695">  695</a> will be used in all classes, and have the same format in all classes.      
<a class="line" id="line-696" href="#line-696">  696</a> Because their RDATA format is known, all domain names in the RDATA         
<a class="line" id="line-697" href="#line-697">  697</a> section of these RRs may be compressed.                                    
<a class="line" id="line-698" href="#line-698">  698</a>                                                                            
<a class="line" id="line-699" href="#line-699">  699</a> &lt;domain-name&gt; is a domain name represented as a series of labels, and      
<a class="line" id="line-700" href="#line-700">  700</a> terminated by a label with zero length.  &lt;character-string&gt; is a single    
<a class="line" id="line-701" href="#line-701">  701</a> length octet followed by that number of characters.  &lt;character-string&gt;    
<a class="line" id="line-702" href="#line-702">  702</a> is treated as binary information, and can be up to 256 characters in       
<a class="line" id="line-703" href="#line-703">  703</a> length (including the length octet).                                       
<a class="line" id="line-704" href="#line-704">  704</a>                                                                            
<a class="line" id="line-705" href="#line-705">  705</a>                                                                            
<a class="line" id="line-706" href="#line-706">  706</a>                                                                            
<a class="line" id="line-707" href="#line-707">  707</a>                                                                            
<a class="line" id="line-708" href="#line-708">  708</a>                                                                            
<a class="line" id="line-709" href="#line-709">  709</a>                                                                            
<a class="line" id="line-710" href="#line-710">  710</a>                                                                            
<a class="line" id="line-711" href="#line-711">  711</a>                                                                            
<a class="line" id="line-712" href="#line-712">  712</a> <span class="grey">Mockapetris                                                    [Page 13]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-14" ></span><a class="line" id="line-713" href="#line-713">  713</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-714" href="#line-714">  714</a>                                                                            
<a class="line" id="line-715" href="#line-715">  715</a>                                                                            
<a class="line" id="line-716" href="#line-716">  716</a> <span class="h4"><a class="selflink" id="section-3.3.1" href="#section-3.3.1">3.3.1</a>. CNAME RDATA format</span>                                                  
<a class="line" id="line-717" href="#line-717">  717</a>                                                                            
<a class="line" id="line-718" href="#line-718">  718</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-719" href="#line-719">  719</a>     /                     CNAME                     /                      
<a class="line" id="line-720" href="#line-720">  720</a>     /                                               /                      
<a class="line" id="line-721" href="#line-721">  721</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-722" href="#line-722">  722</a>                                                                            
<a class="line" id="line-723" href="#line-723">  723</a> where:                                                                     
<a class="line" id="line-724" href="#line-724">  724</a>                                                                            
<a class="line" id="line-725" href="#line-725">  725</a> CNAME           A &lt;domain-name&gt; which specifies the canonical or primary   
<a class="line" id="line-726" href="#line-726">  726</a>                 name for the owner.  The owner name is an alias.           
<a class="line" id="line-727" href="#line-727">  727</a>                                                                            
<a class="line" id="line-728" href="#line-728">  728</a> CNAME RRs cause no additional section processing, but name servers may     
<a class="line" id="line-729" href="#line-729">  729</a> choose to restart the query at the canonical name in certain cases.  See   
<a class="line" id="line-730" href="#line-730">  730</a> the description of name server logic in [<a href="./rfc1034.html">RFC-1034</a>] for details.            
<a class="line" id="line-731" href="#line-731">  731</a>                                                                            
<a class="line" id="line-732" href="#line-732">  732</a> <span class="h4"><a class="selflink" id="section-3.3.2" href="#section-3.3.2">3.3.2</a>. HINFO RDATA format</span>                                                  
<a class="line" id="line-733" href="#line-733">  733</a>                                                                            
<a class="line" id="line-734" href="#line-734">  734</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-735" href="#line-735">  735</a>     /                      CPU                      /                      
<a class="line" id="line-736" href="#line-736">  736</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-737" href="#line-737">  737</a>     /                       OS                      /                      
<a class="line" id="line-738" href="#line-738">  738</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-739" href="#line-739">  739</a>                                                                            
<a class="line" id="line-740" href="#line-740">  740</a> where:                                                                     
<a class="line" id="line-741" href="#line-741">  741</a>                                                                            
<a class="line" id="line-742" href="#line-742">  742</a> CPU             A &lt;character-string&gt; which specifies the CPU type.         
<a class="line" id="line-743" href="#line-743">  743</a>                                                                            
<a class="line" id="line-744" href="#line-744">  744</a> OS              A &lt;character-string&gt; which specifies the operating         
<a class="line" id="line-745" href="#line-745">  745</a>                 system type.                                               
<a class="line" id="line-746" href="#line-746">  746</a>                                                                            
<a class="line" id="line-747" href="#line-747">  747</a> Standard values for CPU and OS can be found in [<a href="https://datatracker.ietf.org/doc/rfc1010/" title="&quot;Assigned Numbers&quot;">RFC-1010</a>].                 
<a class="line" id="line-748" href="#line-748">  748</a>                                                                            
<a class="line" id="line-749" href="#line-749">  749</a> HINFO records are used to acquire general information about a host.  The   
<a class="line" id="line-750" href="#line-750">  750</a> main use is for protocols such as FTP that can use special procedures      
<a class="line" id="line-751" href="#line-751">  751</a> when talking between machines or operating systems of the same type.       
<a class="line" id="line-752" href="#line-752">  752</a>                                                                            
<a class="line" id="line-753" href="#line-753">  753</a> <span class="h4"><a class="selflink" id="section-3.3.3" href="#section-3.3.3">3.3.3</a>. MB RDATA format (EXPERIMENTAL)</span>                                      
<a class="line" id="line-754" href="#line-754">  754</a>                                                                            
<a class="line" id="line-755" href="#line-755">  755</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-756" href="#line-756">  756</a>     /                   MADNAME                     /                      
<a class="line" id="line-757" href="#line-757">  757</a>     /                                               /                      
<a class="line" id="line-758" href="#line-758">  758</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-759" href="#line-759">  759</a>                                                                            
<a class="line" id="line-760" href="#line-760">  760</a> where:                                                                     
<a class="line" id="line-761" href="#line-761">  761</a>                                                                            
<a class="line" id="line-762" href="#line-762">  762</a> MADNAME         A &lt;domain-name&gt; which specifies a host which has the       
<a class="line" id="line-763" href="#line-763">  763</a>                 specified mailbox.                                         
<a class="line" id="line-764" href="#line-764">  764</a>                                                                            
<a class="line" id="line-765" href="#line-765">  765</a>                                                                            
<a class="line" id="line-766" href="#line-766">  766</a>                                                                            
<a class="line" id="line-767" href="#line-767">  767</a> <span class="grey">Mockapetris                                                    [Page 14]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-15" ></span><a class="line" id="line-768" href="#line-768">  768</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-769" href="#line-769">  769</a>                                                                            
<a class="line" id="line-770" href="#line-770">  770</a>                                                                            
<a class="line" id="line-771" href="#line-771">  771</a> MB records cause additional section processing which looks up an A type    
<a class="line" id="line-772" href="#line-772">  772</a> RRs corresponding to MADNAME.                                              
<a class="line" id="line-773" href="#line-773">  773</a>                                                                            
<a class="line" id="line-774" href="#line-774">  774</a> <span class="h4"><a class="selflink" id="section-3.3.4" href="#section-3.3.4">3.3.4</a>. MD RDATA format (Obsolete)</span>                                          
<a class="line" id="line-775" href="#line-775">  775</a>                                                                            
<a class="line" id="line-776" href="#line-776">  776</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-777" href="#line-777">  777</a>     /                   MADNAME                     /                      
<a class="line" id="line-778" href="#line-778">  778</a>     /                                               /                      
<a class="line" id="line-779" href="#line-779">  779</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-780" href="#line-780">  780</a>                                                                            
<a class="line" id="line-781" href="#line-781">  781</a> where:                                                                     
<a class="line" id="line-782" href="#line-782">  782</a>                                                                            
<a class="line" id="line-783" href="#line-783">  783</a> MADNAME         A &lt;domain-name&gt; which specifies a host which has a mail    
<a class="line" id="line-784" href="#line-784">  784</a>                 agent for the domain which should be able to deliver       
<a class="line" id="line-785" href="#line-785">  785</a>                 mail for the domain.                                       
<a class="line" id="line-786" href="#line-786">  786</a>                                                                            
<a class="line" id="line-787" href="#line-787">  787</a> MD records cause additional section processing which looks up an A type    
<a class="line" id="line-788" href="#line-788">  788</a> record corresponding to MADNAME.                                           
<a class="line" id="line-789" href="#line-789">  789</a>                                                                            
<a class="line" id="line-790" href="#line-790">  790</a> MD is obsolete.  See the definition of MX and [<a href="https://datatracker.ietf.org/doc/rfc974/" title="&quot;Mail routing and the domain system&quot;">RFC-974</a>] for details of     
<a class="line" id="line-791" href="#line-791">  791</a> the new scheme.  The recommended policy for dealing with MD RRs found in   
<a class="line" id="line-792" href="#line-792">  792</a> a master file is to reject them, or to convert them to MX RRs with a       
<a class="line" id="line-793" href="#line-793">  793</a> preference of 0.                                                           
<a class="line" id="line-794" href="#line-794">  794</a>                                                                            
<a class="line" id="line-795" href="#line-795">  795</a> <span class="h4"><a class="selflink" id="section-3.3.5" href="#section-3.3.5">3.3.5</a>. MF RDATA format (Obsolete)</span>                                          
<a class="line" id="line-796" href="#line-796">  796</a>                                                                            
<a class="line" id="line-797" href="#line-797">  797</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-798" href="#line-798">  798</a>     /                   MADNAME                     /                      
<a class="line" id="line-799" href="#line-799">  799</a>     /                                               /                      
<a class="line" id="line-800" href="#line-800">  800</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-801" href="#line-801">  801</a>                                                                            
<a class="line" id="line-802" href="#line-802">  802</a> where:                                                                     
<a class="line" id="line-803" href="#line-803">  803</a>                                                                            
<a class="line" id="line-804" href="#line-804">  804</a> MADNAME         A &lt;domain-name&gt; which specifies a host which has a mail    
<a class="line" id="line-805" href="#line-805">  805</a>                 agent for the domain which will accept mail for            
<a class="line" id="line-806" href="#line-806">  806</a>                 forwarding to the domain.                                  
<a class="line" id="line-807" href="#line-807">  807</a>                                                                            
<a class="line" id="line-808" href="#line-808">  808</a> MF records cause additional section processing which looks up an A type    
<a class="line" id="line-809" href="#line-809">  809</a> record corresponding to MADNAME.                                           
<a class="line" id="line-810" href="#line-810">  810</a>                                                                            
<a class="line" id="line-811" href="#line-811">  811</a> MF is obsolete.  See the definition of MX and [<a href="https://datatracker.ietf.org/doc/rfc974/" title="&quot;Mail routing and the domain system&quot;">RFC-974</a>] for details ofw    
<a class="line" id="line-812" href="#line-812">  812</a> the new scheme.  The recommended policy for dealing with MD RRs found in   
<a class="line" id="line-813" href="#line-813">  813</a> a master file is to reject them, or to convert them to MX RRs with a       
<a class="line" id="line-814" href="#line-814">  814</a> preference of 10.                                                          
<a class="line" id="line-815" href="#line-815">  815</a>                                                                            
<a class="line" id="line-816" href="#line-816">  816</a>                                                                            
<a class="line" id="line-817" href="#line-817">  817</a>                                                                            
<a class="line" id="line-818" href="#line-818">  818</a>                                                                            
<a class="line" id="line-819" href="#line-819">  819</a>                                                                            
<a class="line" id="line-820" href="#line-820">  820</a>                                                                            
<a class="line" id="line-821" href="#line-821">  821</a>                                                                            
<a class="line" id="line-822" href="#line-822">  822</a> <span class="grey">Mockapetris                                                    [Page 15]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-16" ></span><a class="line" id="line-823" href="#line-823">  823</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-824" href="#line-824">  824</a>                                                                            
<a class="line" id="line-825" href="#line-825">  825</a>                                                                            
<a class="line" id="line-826" href="#line-826">  826</a> <span class="h4"><a class="selflink" id="section-3.3.6" href="#section-3.3.6">3.3.6</a>. MG RDATA format (EXPERIMENTAL)</span>                                      
<a class="line" id="line-827" href="#line-827">  827</a>                                                                            
<a class="line" id="line-828" href="#line-828">  828</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-829" href="#line-829">  829</a>     /                   MGMNAME                     /                      
<a class="line" id="line-830" href="#line-830">  830</a>     /                                               /                      
<a class="line" id="line-831" href="#line-831">  831</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-832" href="#line-832">  832</a>                                                                            
<a class="line" id="line-833" href="#line-833">  833</a> where:                                                                     
<a class="line" id="line-834" href="#line-834">  834</a>                                                                            
<a class="line" id="line-835" href="#line-835">  835</a> MGMNAME         A &lt;domain-name&gt; which specifies a mailbox which is a       
<a class="line" id="line-836" href="#line-836">  836</a>                 member of the mail group specified by the domain name.     
<a class="line" id="line-837" href="#line-837">  837</a>                                                                            
<a class="line" id="line-838" href="#line-838">  838</a> MG records cause no additional section processing.                         
<a class="line" id="line-839" href="#line-839">  839</a>                                                                            
<a class="line" id="line-840" href="#line-840">  840</a> <span class="h4"><a class="selflink" id="section-3.3.7" href="#section-3.3.7">3.3.7</a>. MINFO RDATA format (EXPERIMENTAL)</span>                                   
<a class="line" id="line-841" href="#line-841">  841</a>                                                                            
<a class="line" id="line-842" href="#line-842">  842</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-843" href="#line-843">  843</a>     /                    RMAILBX                    /                      
<a class="line" id="line-844" href="#line-844">  844</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-845" href="#line-845">  845</a>     /                    EMAILBX                    /                      
<a class="line" id="line-846" href="#line-846">  846</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-847" href="#line-847">  847</a>                                                                            
<a class="line" id="line-848" href="#line-848">  848</a> where:                                                                     
<a class="line" id="line-849" href="#line-849">  849</a>                                                                            
<a class="line" id="line-850" href="#line-850">  850</a> RMAILBX         A &lt;domain-name&gt; which specifies a mailbox which is         
<a class="line" id="line-851" href="#line-851">  851</a>                 responsible for the mailing list or mailbox.  If this      
<a class="line" id="line-852" href="#line-852">  852</a>                 domain name names the root, the owner of the MINFO RR is   
<a class="line" id="line-853" href="#line-853">  853</a>                 responsible for itself.  Note that many existing mailing   
<a class="line" id="line-854" href="#line-854">  854</a>                 lists use a mailbox X-request for the RMAILBX field of     
<a class="line" id="line-855" href="#line-855">  855</a>                 mailing list X, e.g., Msgroup-request for Msgroup.  This   
<a class="line" id="line-856" href="#line-856">  856</a>                 field provides a more general mechanism.                   
<a class="line" id="line-857" href="#line-857">  857</a>                                                                            
<a class="line" id="line-858" href="#line-858">  858</a>                                                                            
<a class="line" id="line-859" href="#line-859">  859</a> EMAILBX         A &lt;domain-name&gt; which specifies a mailbox which is to      
<a class="line" id="line-860" href="#line-860">  860</a>                 receive error messages related to the mailing list or      
<a class="line" id="line-861" href="#line-861">  861</a>                 mailbox specified by the owner of the MINFO RR (similar    
<a class="line" id="line-862" href="#line-862">  862</a>                 to the ERRORS-TO: field which has been proposed).  If      
<a class="line" id="line-863" href="#line-863">  863</a>                 this domain name names the root, errors should be          
<a class="line" id="line-864" href="#line-864">  864</a>                 returned to the sender of the message.                     
<a class="line" id="line-865" href="#line-865">  865</a>                                                                            
<a class="line" id="line-866" href="#line-866">  866</a> MINFO records cause no additional section processing.  Although these      
<a class="line" id="line-867" href="#line-867">  867</a> records can be associated with a simple mailbox, they are usually used     
<a class="line" id="line-868" href="#line-868">  868</a> with a mailing list.                                                       
<a class="line" id="line-869" href="#line-869">  869</a>                                                                            
<a class="line" id="line-870" href="#line-870">  870</a>                                                                            
<a class="line" id="line-871" href="#line-871">  871</a>                                                                            
<a class="line" id="line-872" href="#line-872">  872</a>                                                                            
<a class="line" id="line-873" href="#line-873">  873</a>                                                                            
<a class="line" id="line-874" href="#line-874">  874</a>                                                                            
<a class="line" id="line-875" href="#line-875">  875</a>                                                                            
<a class="line" id="line-876" href="#line-876">  876</a>                                                                            
<a class="line" id="line-877" href="#line-877">  877</a> <span class="grey">Mockapetris                                                    [Page 16]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-17" ></span><a class="line" id="line-878" href="#line-878">  878</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-879" href="#line-879">  879</a>                                                                            
<a class="line" id="line-880" href="#line-880">  880</a>                                                                            
<a class="line" id="line-881" href="#line-881">  881</a> <span class="h4"><a class="selflink" id="section-3.3.8" href="#section-3.3.8">3.3.8</a>. MR RDATA format (EXPERIMENTAL)</span>                                      
<a class="line" id="line-882" href="#line-882">  882</a>                                                                            
<a class="line" id="line-883" href="#line-883">  883</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-884" href="#line-884">  884</a>     /                   NEWNAME                     /                      
<a class="line" id="line-885" href="#line-885">  885</a>     /                                               /                      
<a class="line" id="line-886" href="#line-886">  886</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-887" href="#line-887">  887</a>                                                                            
<a class="line" id="line-888" href="#line-888">  888</a> where:                                                                     
<a class="line" id="line-889" href="#line-889">  889</a>                                                                            
<a class="line" id="line-890" href="#line-890">  890</a> NEWNAME         A &lt;domain-name&gt; which specifies a mailbox which is the     
<a class="line" id="line-891" href="#line-891">  891</a>                 proper rename of the specified mailbox.                    
<a class="line" id="line-892" href="#line-892">  892</a>                                                                            
<a class="line" id="line-893" href="#line-893">  893</a> MR records cause no additional section processing.  The main use for MR    
<a class="line" id="line-894" href="#line-894">  894</a> is as a forwarding entry for a user who has moved to a different           
<a class="line" id="line-895" href="#line-895">  895</a> mailbox.                                                                   
<a class="line" id="line-896" href="#line-896">  896</a>                                                                            
<a class="line" id="line-897" href="#line-897">  897</a> <span class="h4"><a class="selflink" id="section-3.3.9" href="#section-3.3.9">3.3.9</a>. MX RDATA format</span>                                                     
<a class="line" id="line-898" href="#line-898">  898</a>                                                                            
<a class="line" id="line-899" href="#line-899">  899</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-900" href="#line-900">  900</a>     |                  PREFERENCE                   |                      
<a class="line" id="line-901" href="#line-901">  901</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-902" href="#line-902">  902</a>     /                   EXCHANGE                    /                      
<a class="line" id="line-903" href="#line-903">  903</a>     /                                               /                      
<a class="line" id="line-904" href="#line-904">  904</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-905" href="#line-905">  905</a>                                                                            
<a class="line" id="line-906" href="#line-906">  906</a> where:                                                                     
<a class="line" id="line-907" href="#line-907">  907</a>                                                                            
<a class="line" id="line-908" href="#line-908">  908</a> PREFERENCE      A 16 bit integer which specifies the preference given to   
<a class="line" id="line-909" href="#line-909">  909</a>                 this RR among others at the same owner.  Lower values      
<a class="line" id="line-910" href="#line-910">  910</a>                 are preferred.                                             
<a class="line" id="line-911" href="#line-911">  911</a>                                                                            
<a class="line" id="line-912" href="#line-912">  912</a> EXCHANGE        A &lt;domain-name&gt; which specifies a host willing to act as   
<a class="line" id="line-913" href="#line-913">  913</a>                 a mail exchange for the owner name.                        
<a class="line" id="line-914" href="#line-914">  914</a>                                                                            
<a class="line" id="line-915" href="#line-915">  915</a> MX records cause type A additional section processing for the host         
<a class="line" id="line-916" href="#line-916">  916</a> specified by EXCHANGE.  The use of MX RRs is explained in detail in        
<a class="line" id="line-917" href="#line-917">  917</a> [<a href="https://datatracker.ietf.org/doc/rfc974/" title="&quot;Mail routing and the domain system&quot;">RFC-974</a>].                                                                 
<a class="line" id="line-918" href="#line-918">  918</a>                                                                            
<a class="line" id="line-919" href="#line-919">  919</a> <span class="h4"><a class="selflink" id="section-3.3.10" href="#section-3.3.10">3.3.10</a>. NULL RDATA format (EXPERIMENTAL)</span>                                   
<a class="line" id="line-920" href="#line-920">  920</a>                                                                            
<a class="line" id="line-921" href="#line-921">  921</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-922" href="#line-922">  922</a>     /                  &lt;anything&gt;                   /                      
<a class="line" id="line-923" href="#line-923">  923</a>     /                                               /                      
<a class="line" id="line-924" href="#line-924">  924</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-925" href="#line-925">  925</a>                                                                            
<a class="line" id="line-926" href="#line-926">  926</a> Anything at all may be in the RDATA field so long as it is 65535 octets    
<a class="line" id="line-927" href="#line-927">  927</a> or less.                                                                   
<a class="line" id="line-928" href="#line-928">  928</a>                                                                            
<a class="line" id="line-929" href="#line-929">  929</a>                                                                            
<a class="line" id="line-930" href="#line-930">  930</a>                                                                            
<a class="line" id="line-931" href="#line-931">  931</a>                                                                            
<a class="line" id="line-932" href="#line-932">  932</a> <span class="grey">Mockapetris                                                    [Page 17]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-18" ></span><a class="line" id="line-933" href="#line-933">  933</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-934" href="#line-934">  934</a>                                                                            
<a class="line" id="line-935" href="#line-935">  935</a>                                                                            
<a class="line" id="line-936" href="#line-936">  936</a> NULL records cause no additional section processing.  NULL RRs are not     
<a class="line" id="line-937" href="#line-937">  937</a> allowed in master files.  NULLs are used as placeholders in some           
<a class="line" id="line-938" href="#line-938">  938</a> experimental extensions of the DNS.                                        
<a class="line" id="line-939" href="#line-939">  939</a>                                                                            
<a class="line" id="line-940" href="#line-940">  940</a> <span class="h4"><a class="selflink" id="section-3.3.11" href="#section-3.3.11">3.3.11</a>. NS RDATA format</span>                                                    
<a class="line" id="line-941" href="#line-941">  941</a>                                                                            
<a class="line" id="line-942" href="#line-942">  942</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-943" href="#line-943">  943</a>     /                   NSDNAME                     /                      
<a class="line" id="line-944" href="#line-944">  944</a>     /                                               /                      
<a class="line" id="line-945" href="#line-945">  945</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-946" href="#line-946">  946</a>                                                                            
<a class="line" id="line-947" href="#line-947">  947</a> where:                                                                     
<a class="line" id="line-948" href="#line-948">  948</a>                                                                            
<a class="line" id="line-949" href="#line-949">  949</a> NSDNAME         A &lt;domain-name&gt; which specifies a host which should be     
<a class="line" id="line-950" href="#line-950">  950</a>                 authoritative for the specified class and domain.          
<a class="line" id="line-951" href="#line-951">  951</a>                                                                            
<a class="line" id="line-952" href="#line-952">  952</a> NS records cause both the usual additional section processing to locate    
<a class="line" id="line-953" href="#line-953">  953</a> a type A record, and, when used in a referral, a special search of the     
<a class="line" id="line-954" href="#line-954">  954</a> zone in which they reside for glue information.                            
<a class="line" id="line-955" href="#line-955">  955</a>                                                                            
<a class="line" id="line-956" href="#line-956">  956</a> The NS RR states that the named host should be expected to have a zone     
<a class="line" id="line-957" href="#line-957">  957</a> starting at owner name of the specified class.  Note that the class may    
<a class="line" id="line-958" href="#line-958">  958</a> not indicate the protocol family which should be used to communicate       
<a class="line" id="line-959" href="#line-959">  959</a> with the host, although it is typically a strong hint.  For example,       
<a class="line" id="line-960" href="#line-960">  960</a> hosts which are name servers for either Internet (IN) or Hesiod (HS)       
<a class="line" id="line-961" href="#line-961">  961</a> class information are normally queried using IN class protocols.           
<a class="line" id="line-962" href="#line-962">  962</a>                                                                            
<a class="line" id="line-963" href="#line-963">  963</a> <span class="h4"><a class="selflink" id="section-3.3.12" href="#section-3.3.12">3.3.12</a>. PTR RDATA format</span>                                                   
<a class="line" id="line-964" href="#line-964">  964</a>                                                                            
<a class="line" id="line-965" href="#line-965">  965</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-966" href="#line-966">  966</a>     /                   PTRDNAME                    /                      
<a class="line" id="line-967" href="#line-967">  967</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-968" href="#line-968">  968</a>                                                                            
<a class="line" id="line-969" href="#line-969">  969</a> where:                                                                     
<a class="line" id="line-970" href="#line-970">  970</a>                                                                            
<a class="line" id="line-971" href="#line-971">  971</a> PTRDNAME        A &lt;domain-name&gt; which points to some location in the       
<a class="line" id="line-972" href="#line-972">  972</a>                 domain name space.                                         
<a class="line" id="line-973" href="#line-973">  973</a>                                                                            
<a class="line" id="line-974" href="#line-974">  974</a> PTR records cause no additional section processing.  These RRs are used    
<a class="line" id="line-975" href="#line-975">  975</a> in special domains to point to some other location in the domain space.    
<a class="line" id="line-976" href="#line-976">  976</a> These records are simple data, and don&#x27;t imply any special processing      
<a class="line" id="line-977" href="#line-977">  977</a> similar to that performed by CNAME, which identifies aliases.  See the     
<a class="line" id="line-978" href="#line-978">  978</a> description of the IN-ADDR.ARPA domain for an example.                     
<a class="line" id="line-979" href="#line-979">  979</a>                                                                            
<a class="line" id="line-980" href="#line-980">  980</a>                                                                            
<a class="line" id="line-981" href="#line-981">  981</a>                                                                            
<a class="line" id="line-982" href="#line-982">  982</a>                                                                            
<a class="line" id="line-983" href="#line-983">  983</a>                                                                            
<a class="line" id="line-984" href="#line-984">  984</a>                                                                            
<a class="line" id="line-985" href="#line-985">  985</a>                                                                            
<a class="line" id="line-986" href="#line-986">  986</a>                                                                            
<a class="line" id="line-987" href="#line-987">  987</a> <span class="grey">Mockapetris                                                    [Page 18]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-19" ></span><a class="line" id="line-988" href="#line-988">  988</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-989" href="#line-989">  989</a>                                                                            
<a class="line" id="line-990" href="#line-990">  990</a>                                                                            
<a class="line" id="line-991" href="#line-991">  991</a> <span class="h4"><a class="selflink" id="section-3.3.13" href="#section-3.3.13">3.3.13</a>. SOA RDATA format</span>                                                   
<a class="line" id="line-992" href="#line-992">  992</a>                                                                            
<a class="line" id="line-993" href="#line-993">  993</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-994" href="#line-994">  994</a>     /                     MNAME                     /                      
<a class="line" id="line-995" href="#line-995">  995</a>     /                                               /                      
<a class="line" id="line-996" href="#line-996">  996</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-997" href="#line-997">  997</a>     /                     RNAME                     /                      
<a class="line" id="line-998" href="#line-998">  998</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-999" href="#line-999">  999</a>     |                    SERIAL                     |                      
<a class="line" id="line-1000" href="#line-1000"> 1000</a>     |                                               |                      
<a class="line" id="line-1001" href="#line-1001"> 1001</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-1002" href="#line-1002"> 1002</a>     |                    REFRESH                    |                      
<a class="line" id="line-1003" href="#line-1003"> 1003</a>     |                                               |                      
<a class="line" id="line-1004" href="#line-1004"> 1004</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-1005" href="#line-1005"> 1005</a>     |                     RETRY                     |                      
<a class="line" id="line-1006" href="#line-1006"> 1006</a>     |                                               |                      
<a class="line" id="line-1007" href="#line-1007"> 1007</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-1008" href="#line-1008"> 1008</a>     |                    EXPIRE                     |                      
<a class="line" id="line-1009" href="#line-1009"> 1009</a>     |                                               |                      
<a class="line" id="line-1010" href="#line-1010"> 1010</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-1011" href="#line-1011"> 1011</a>     |                    MINIMUM                    |                      
<a class="line" id="line-1012" href="#line-1012"> 1012</a>     |                                               |                      
<a class="line" id="line-1013" href="#line-1013"> 1013</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-1014" href="#line-1014"> 1014</a>                                                                            
<a class="line" id="line-1015" href="#line-1015"> 1015</a> where:                                                                     
<a class="line" id="line-1016" href="#line-1016"> 1016</a>                                                                            
<a class="line" id="line-1017" href="#line-1017"> 1017</a> MNAME           The &lt;domain-name&gt; of the name server that was the          
<a class="line" id="line-1018" href="#line-1018"> 1018</a>                 original or primary source of data for this zone.          
<a class="line" id="line-1019" href="#line-1019"> 1019</a>                                                                            
<a class="line" id="line-1020" href="#line-1020"> 1020</a> RNAME           A &lt;domain-name&gt; which specifies the mailbox of the         
<a class="line" id="line-1021" href="#line-1021"> 1021</a>                 person responsible for this zone.                          
<a class="line" id="line-1022" href="#line-1022"> 1022</a>                                                                            
<a class="line" id="line-1023" href="#line-1023"> 1023</a> SERIAL          The unsigned 32 bit version number of the original copy    
<a class="line" id="line-1024" href="#line-1024"> 1024</a>                 of the zone.  Zone transfers preserve this value.  This    
<a class="line" id="line-1025" href="#line-1025"> 1025</a>                 value wraps and should be compared using sequence space    
<a class="line" id="line-1026" href="#line-1026"> 1026</a>                 arithmetic.                                                
<a class="line" id="line-1027" href="#line-1027"> 1027</a>                                                                            
<a class="line" id="line-1028" href="#line-1028"> 1028</a> REFRESH         A 32 bit time interval before the zone should be           
<a class="line" id="line-1029" href="#line-1029"> 1029</a>                 refreshed.                                                 
<a class="line" id="line-1030" href="#line-1030"> 1030</a>                                                                            
<a class="line" id="line-1031" href="#line-1031"> 1031</a> RETRY           A 32 bit time interval that should elapse before a         
<a class="line" id="line-1032" href="#line-1032"> 1032</a>                 failed refresh should be retried.                          
<a class="line" id="line-1033" href="#line-1033"> 1033</a>                                                                            
<a class="line" id="line-1034" href="#line-1034"> 1034</a> EXPIRE          A 32 bit time value that specifies the upper limit on      
<a class="line" id="line-1035" href="#line-1035"> 1035</a>                 the time interval that can elapse before the zone is no    
<a class="line" id="line-1036" href="#line-1036"> 1036</a>                 longer authoritative.                                      
<a class="line" id="line-1037" href="#line-1037"> 1037</a>                                                                            
<a class="line" id="line-1038" href="#line-1038"> 1038</a>                                                                            
<a class="line" id="line-1039" href="#line-1039"> 1039</a>                                                                            
<a class="line" id="line-1040" href="#line-1040"> 1040</a>                                                                            
<a class="line" id="line-1041" href="#line-1041"> 1041</a>                                                                            
<a class="line" id="line-1042" href="#line-1042"> 1042</a> <span class="grey">Mockapetris                                                    [Page 19]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-20" ></span><a class="line" id="line-1043" href="#line-1043"> 1043</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-1044" href="#line-1044"> 1044</a>                                                                            
<a class="line" id="line-1045" href="#line-1045"> 1045</a>                                                                            
<a class="line" id="line-1046" href="#line-1046"> 1046</a> MINIMUM         The unsigned 32 bit minimum TTL field that should be       
<a class="line" id="line-1047" href="#line-1047"> 1047</a>                 exported with any RR from this zone.                       
<a class="line" id="line-1048" href="#line-1048"> 1048</a>                                                                            
<a class="line" id="line-1049" href="#line-1049"> 1049</a> SOA records cause no additional section processing.                        
<a class="line" id="line-1050" href="#line-1050"> 1050</a>                                                                            
<a class="line" id="line-1051" href="#line-1051"> 1051</a> All times are in units of seconds.                                         
<a class="line" id="line-1052" href="#line-1052"> 1052</a>                                                                            
<a class="line" id="line-1053" href="#line-1053"> 1053</a> Most of these fields are pertinent only for name server maintenance        
<a class="line" id="line-1054" href="#line-1054"> 1054</a> operations.  However, MINIMUM is used in all query operations that         
<a class="line" id="line-1055" href="#line-1055"> 1055</a> retrieve RRs from a zone.  Whenever a RR is sent in a response to a        
<a class="line" id="line-1056" href="#line-1056"> 1056</a> query, the TTL field is set to the maximum of the TTL field from the RR    
<a class="line" id="line-1057" href="#line-1057"> 1057</a> and the MINIMUM field in the appropriate SOA.  Thus MINIMUM is a lower     
<a class="line" id="line-1058" href="#line-1058"> 1058</a> bound on the TTL field for all RRs in a zone.  Note that this use of       
<a class="line" id="line-1059" href="#line-1059"> 1059</a> MINIMUM should occur when the RRs are copied into the response and not     
<a class="line" id="line-1060" href="#line-1060"> 1060</a> when the zone is loaded from a master file or via a zone transfer.  The    
<a class="line" id="line-1061" href="#line-1061"> 1061</a> reason for this provison is to allow future dynamic update facilities to   
<a class="line" id="line-1062" href="#line-1062"> 1062</a> change the SOA RR with known semantics.                                    
<a class="line" id="line-1063" href="#line-1063"> 1063</a>                                                                            
<a class="line" id="line-1064" href="#line-1064"> 1064</a>                                                                            
<a class="line" id="line-1065" href="#line-1065"> 1065</a> <span class="h4"><a class="selflink" id="section-3.3.14" href="#section-3.3.14">3.3.14</a>. TXT RDATA format</span>                                                   
<a class="line" id="line-1066" href="#line-1066"> 1066</a>                                                                            
<a class="line" id="line-1067" href="#line-1067"> 1067</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-1068" href="#line-1068"> 1068</a>     /                   TXT-DATA                    /                      
<a class="line" id="line-1069" href="#line-1069"> 1069</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-1070" href="#line-1070"> 1070</a>                                                                            
<a class="line" id="line-1071" href="#line-1071"> 1071</a> where:                                                                     
<a class="line" id="line-1072" href="#line-1072"> 1072</a>                                                                            
<a class="line" id="line-1073" href="#line-1073"> 1073</a> TXT-DATA        One or more &lt;character-string&gt;s.                           
<a class="line" id="line-1074" href="#line-1074"> 1074</a>                                                                            
<a class="line" id="line-1075" href="#line-1075"> 1075</a> TXT RRs are used to hold descriptive text.  The semantics of the text      
<a class="line" id="line-1076" href="#line-1076"> 1076</a> depends on the domain where it is found.                                   
<a class="line" id="line-1077" href="#line-1077"> 1077</a>                                                                            
<a class="line" id="line-1078" href="#line-1078"> 1078</a> <span class="h3"><a class="selflink" id="section-3.4" href="#section-3.4">3.4</a>. Internet specific RRs</span>                                                 
<a class="line" id="line-1079" href="#line-1079"> 1079</a>                                                                            
<a class="line" id="line-1080" href="#line-1080"> 1080</a> <span class="h4"><a class="selflink" id="section-3.4.1" href="#section-3.4.1">3.4.1</a>. A RDATA format</span>                                                      
<a class="line" id="line-1081" href="#line-1081"> 1081</a>                                                                            
<a class="line" id="line-1082" href="#line-1082"> 1082</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-1083" href="#line-1083"> 1083</a>     |                    ADDRESS                    |                      
<a class="line" id="line-1084" href="#line-1084"> 1084</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-1085" href="#line-1085"> 1085</a>                                                                            
<a class="line" id="line-1086" href="#line-1086"> 1086</a> where:                                                                     
<a class="line" id="line-1087" href="#line-1087"> 1087</a>                                                                            
<a class="line" id="line-1088" href="#line-1088"> 1088</a> ADDRESS         A 32 bit Internet address.                                 
<a class="line" id="line-1089" href="#line-1089"> 1089</a>                                                                            
<a class="line" id="line-1090" href="#line-1090"> 1090</a> Hosts that have multiple Internet addresses will have multiple A           
<a class="line" id="line-1091" href="#line-1091"> 1091</a> records.                                                                   
<a class="line" id="line-1092" href="#line-1092"> 1092</a>                                                                            
<a class="line" id="line-1093" href="#line-1093"> 1093</a>                                                                            
<a class="line" id="line-1094" href="#line-1094"> 1094</a>                                                                            
<a class="line" id="line-1095" href="#line-1095"> 1095</a>                                                                            
<a class="line" id="line-1096" href="#line-1096"> 1096</a>                                                                            
<a class="line" id="line-1097" href="#line-1097"> 1097</a> <span class="grey">Mockapetris                                                    [Page 20]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-21" ></span><a class="line" id="line-1098" href="#line-1098"> 1098</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-1099" href="#line-1099"> 1099</a>                                                                            
<a class="line" id="line-1100" href="#line-1100"> 1100</a>                                                                            
<a class="line" id="line-1101" href="#line-1101"> 1101</a> A records cause no additional section processing.  The RDATA section of    
<a class="line" id="line-1102" href="#line-1102"> 1102</a> an A line in a master file is an Internet address expressed as four        
<a class="line" id="line-1103" href="#line-1103"> 1103</a> decimal numbers separated by dots without any imbedded spaces (e.g.,       
<a class="line" id="line-1104" href="#line-1104"> 1104</a> &quot;10.2.0.52&quot; or &quot;192.0.5.6&quot;).                                               
<a class="line" id="line-1105" href="#line-1105"> 1105</a>                                                                            
<a class="line" id="line-1106" href="#line-1106"> 1106</a> <span class="h4"><a class="selflink" id="section-3.4.2" href="#section-3.4.2">3.4.2</a>. WKS RDATA format</span>                                                    
<a class="line" id="line-1107" href="#line-1107"> 1107</a>                                                                            
<a class="line" id="line-1108" href="#line-1108"> 1108</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-1109" href="#line-1109"> 1109</a>     |                    ADDRESS                    |                      
<a class="line" id="line-1110" href="#line-1110"> 1110</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-1111" href="#line-1111"> 1111</a>     |       PROTOCOL        |                       |                      
<a class="line" id="line-1112" href="#line-1112"> 1112</a>     +--+--+--+--+--+--+--+--+                       |                      
<a class="line" id="line-1113" href="#line-1113"> 1113</a>     |                                               |                      
<a class="line" id="line-1114" href="#line-1114"> 1114</a>     /                   &lt;BIT MAP&gt;                   /                      
<a class="line" id="line-1115" href="#line-1115"> 1115</a>     /                                               /                      
<a class="line" id="line-1116" href="#line-1116"> 1116</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-1117" href="#line-1117"> 1117</a>                                                                            
<a class="line" id="line-1118" href="#line-1118"> 1118</a> where:                                                                     
<a class="line" id="line-1119" href="#line-1119"> 1119</a>                                                                            
<a class="line" id="line-1120" href="#line-1120"> 1120</a> ADDRESS         An 32 bit Internet address                                 
<a class="line" id="line-1121" href="#line-1121"> 1121</a>                                                                            
<a class="line" id="line-1122" href="#line-1122"> 1122</a> PROTOCOL        An 8 bit IP protocol number                                
<a class="line" id="line-1123" href="#line-1123"> 1123</a>                                                                            
<a class="line" id="line-1124" href="#line-1124"> 1124</a> &lt;BIT MAP&gt;       A variable length bit map.  The bit map must be a          
<a class="line" id="line-1125" href="#line-1125"> 1125</a>                 multiple of 8 bits long.                                   
<a class="line" id="line-1126" href="#line-1126"> 1126</a>                                                                            
<a class="line" id="line-1127" href="#line-1127"> 1127</a> The WKS record is used to describe the well known services supported by    
<a class="line" id="line-1128" href="#line-1128"> 1128</a> a particular protocol on a particular internet address.  The PROTOCOL      
<a class="line" id="line-1129" href="#line-1129"> 1129</a> field specifies an IP protocol number, and the bit map has one bit per     
<a class="line" id="line-1130" href="#line-1130"> 1130</a> port of the specified protocol.  The first bit corresponds to port 0,      
<a class="line" id="line-1131" href="#line-1131"> 1131</a> the second to port 1, etc.  If the bit map does not include a bit for a    
<a class="line" id="line-1132" href="#line-1132"> 1132</a> protocol of interest, that bit is assumed zero.  The appropriate values    
<a class="line" id="line-1133" href="#line-1133"> 1133</a> and mnemonics for ports and protocols are specified in [<a href="https://datatracker.ietf.org/doc/rfc1010/" title="&quot;Assigned Numbers&quot;">RFC-1010</a>].         
<a class="line" id="line-1134" href="#line-1134"> 1134</a>                                                                            
<a class="line" id="line-1135" href="#line-1135"> 1135</a> For example, if PROTOCOL=TCP (6), the 26th bit corresponds to TCP port     
<a class="line" id="line-1136" href="#line-1136"> 1136</a> <span class="h2"><a class="selflink" id="section-25" href="#section-25">25</a> (SMTP).  </span>If this bit is set, a SMTP server should be listening on TCP   
<a class="line" id="line-1137" href="#line-1137"> 1137</a> port 25; if zero, SMTP service is not supported on the specified           
<a class="line" id="line-1138" href="#line-1138"> 1138</a> address.                                                                   
<a class="line" id="line-1139" href="#line-1139"> 1139</a>                                                                            
<a class="line" id="line-1140" href="#line-1140"> 1140</a> The purpose of WKS RRs is to provide availability information for          
<a class="line" id="line-1141" href="#line-1141"> 1141</a> servers for TCP and UDP.  If a server supports both TCP and UDP, or has    
<a class="line" id="line-1142" href="#line-1142"> 1142</a> multiple Internet addresses, then multiple WKS RRs are used.               
<a class="line" id="line-1143" href="#line-1143"> 1143</a>                                                                            
<a class="line" id="line-1144" href="#line-1144"> 1144</a> WKS RRs cause no additional section processing.                            
<a class="line" id="line-1145" href="#line-1145"> 1145</a>                                                                            
<a class="line" id="line-1146" href="#line-1146"> 1146</a> In master files, both ports and protocols are expressed using mnemonics    
<a class="line" id="line-1147" href="#line-1147"> 1147</a> or decimal numbers.                                                        
<a class="line" id="line-1148" href="#line-1148"> 1148</a>                                                                            
<a class="line" id="line-1149" href="#line-1149"> 1149</a>                                                                            
<a class="line" id="line-1150" href="#line-1150"> 1150</a>                                                                            
<a class="line" id="line-1151" href="#line-1151"> 1151</a>                                                                            
<a class="line" id="line-1152" href="#line-1152"> 1152</a> <span class="grey">Mockapetris                                                    [Page 21]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-22" ></span><a class="line" id="line-1153" href="#line-1153"> 1153</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-1154" href="#line-1154"> 1154</a>                                                                            
<a class="line" id="line-1155" href="#line-1155"> 1155</a>                                                                            
<a class="line" id="line-1156" href="#line-1156"> 1156</a> <span class="h3"><a class="selflink" id="section-3.5" href="#section-3.5">3.5</a>. IN-ADDR.ARPA domain</span>                                                   
<a class="line" id="line-1157" href="#line-1157"> 1157</a>                                                                            
<a class="line" id="line-1158" href="#line-1158"> 1158</a> The Internet uses a special domain to support gateway location and         
<a class="line" id="line-1159" href="#line-1159"> 1159</a> Internet address to host mapping.  Other classes may employ a similar      
<a class="line" id="line-1160" href="#line-1160"> 1160</a> strategy in other domains.  The intent of this domain is to provide a      
<a class="line" id="line-1161" href="#line-1161"> 1161</a> guaranteed method to perform host address to host name mapping, and to     
<a class="line" id="line-1162" href="#line-1162"> 1162</a> facilitate queries to locate all gateways on a particular network in the   
<a class="line" id="line-1163" href="#line-1163"> 1163</a> Internet.                                                                  
<a class="line" id="line-1164" href="#line-1164"> 1164</a>                                                                            
<a class="line" id="line-1165" href="#line-1165"> 1165</a> Note that both of these services are similar to functions that could be    
<a class="line" id="line-1166" href="#line-1166"> 1166</a> performed by inverse queries; the difference is that this part of the      
<a class="line" id="line-1167" href="#line-1167"> 1167</a> domain name space is structured according to address, and hence can        
<a class="line" id="line-1168" href="#line-1168"> 1168</a> guarantee that the appropriate data can be located without an exhaustive   
<a class="line" id="line-1169" href="#line-1169"> 1169</a> search of the domain space.                                                
<a class="line" id="line-1170" href="#line-1170"> 1170</a>                                                                            
<a class="line" id="line-1171" href="#line-1171"> 1171</a> The domain begins at IN-ADDR.ARPA and has a substructure which follows     
<a class="line" id="line-1172" href="#line-1172"> 1172</a> the Internet addressing structure.                                         
<a class="line" id="line-1173" href="#line-1173"> 1173</a>                                                                            
<a class="line" id="line-1174" href="#line-1174"> 1174</a> Domain names in the IN-ADDR.ARPA domain are defined to have up to four     
<a class="line" id="line-1175" href="#line-1175"> 1175</a> labels in addition to the IN-ADDR.ARPA suffix.  Each label represents      
<a class="line" id="line-1176" href="#line-1176"> 1176</a> one octet of an Internet address, and is expressed as a character string   
<a class="line" id="line-1177" href="#line-1177"> 1177</a> for a decimal value in the range 0-255 (with leading zeros omitted         
<a class="line" id="line-1178" href="#line-1178"> 1178</a> except in the case of a zero octet which is represented by a single        
<a class="line" id="line-1179" href="#line-1179"> 1179</a> zero).                                                                     
<a class="line" id="line-1180" href="#line-1180"> 1180</a>                                                                            
<a class="line" id="line-1181" href="#line-1181"> 1181</a> Host addresses are represented by domain names that have all four labels   
<a class="line" id="line-1182" href="#line-1182"> 1182</a> specified.  Thus data for Internet address 10.2.0.52 is located at         
<a class="line" id="line-1183" href="#line-1183"> 1183</a> domain name 52.0.2.10.IN-ADDR.ARPA.  The reversal, though awkward to       
<a class="line" id="line-1184" href="#line-1184"> 1184</a> read, allows zones to be delegated which are exactly one network of        
<a class="line" id="line-1185" href="#line-1185"> 1185</a> address space.  For example, 10.IN-ADDR.ARPA can be a zone containing      
<a class="line" id="line-1186" href="#line-1186"> 1186</a> data for the ARPANET, while 26.IN-ADDR.ARPA can be a separate zone for     
<a class="line" id="line-1187" href="#line-1187"> 1187</a> MILNET.  Address nodes are used to hold pointers to primary host names     
<a class="line" id="line-1188" href="#line-1188"> 1188</a> in the normal domain space.                                                
<a class="line" id="line-1189" href="#line-1189"> 1189</a>                                                                            
<a class="line" id="line-1190" href="#line-1190"> 1190</a> Network numbers correspond to some non-terminal nodes at various depths    
<a class="line" id="line-1191" href="#line-1191"> 1191</a> in the IN-ADDR.ARPA domain, since Internet network numbers are either 1,   
<a class="line" id="line-1192" href="#line-1192"> 1192</a> 2, or 3 octets.  Network nodes are used to hold pointers to the primary    
<a class="line" id="line-1193" href="#line-1193"> 1193</a> host names of gateways attached to that network.  Since a gateway is, by   
<a class="line" id="line-1194" href="#line-1194"> 1194</a> definition, on more than one network, it will typically have two or more   
<a class="line" id="line-1195" href="#line-1195"> 1195</a> network nodes which point at it.  Gateways will also have host level       
<a class="line" id="line-1196" href="#line-1196"> 1196</a> pointers at their fully qualified addresses.                               
<a class="line" id="line-1197" href="#line-1197"> 1197</a>                                                                            
<a class="line" id="line-1198" href="#line-1198"> 1198</a> Both the gateway pointers at network nodes and the normal host pointers    
<a class="line" id="line-1199" href="#line-1199"> 1199</a> at full address nodes use the PTR RR to point back to the primary domain   
<a class="line" id="line-1200" href="#line-1200"> 1200</a> names of the corresponding hosts.                                          
<a class="line" id="line-1201" href="#line-1201"> 1201</a>                                                                            
<a class="line" id="line-1202" href="#line-1202"> 1202</a> For example, the IN-ADDR.ARPA domain will contain information about the    
<a class="line" id="line-1203" href="#line-1203"> 1203</a> ISI gateway between net 10 and 26, an MIT gateway from net 10 to MIT&#x27;s     
<a class="line" id="line-1204" href="#line-1204"> 1204</a>                                                                            
<a class="line" id="line-1205" href="#line-1205"> 1205</a>                                                                            
<a class="line" id="line-1206" href="#line-1206"> 1206</a>                                                                            
<a class="line" id="line-1207" href="#line-1207"> 1207</a> <span class="grey">Mockapetris                                                    [Page 22]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-23" ></span><a class="line" id="line-1208" href="#line-1208"> 1208</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-1209" href="#line-1209"> 1209</a>                                                                            
<a class="line" id="line-1210" href="#line-1210"> 1210</a>                                                                            
<a class="line" id="line-1211" href="#line-1211"> 1211</a> net 18, and hosts A.ISI.EDU and MULTICS.MIT.EDU.  Assuming that ISI        
<a class="line" id="line-1212" href="#line-1212"> 1212</a> gateway has addresses 10.2.0.22 and 26.0.0.103, and a name MILNET-         
<a class="line" id="line-1213" href="#line-1213"> 1213</a> GW.ISI.EDU, and the MIT gateway has addresses 10.0.0.77 and 18.10.0.4      
<a class="line" id="line-1214" href="#line-1214"> 1214</a> and a name GW.LCS.MIT.EDU, the domain database would contain:              
<a class="line" id="line-1215" href="#line-1215"> 1215</a>                                                                            
<a class="line" id="line-1216" href="#line-1216"> 1216</a>     10.IN-ADDR.ARPA.           PTR MILNET-GW.ISI.EDU.                      
<a class="line" id="line-1217" href="#line-1217"> 1217</a>     10.IN-ADDR.ARPA.           PTR GW.LCS.MIT.EDU.                         
<a class="line" id="line-1218" href="#line-1218"> 1218</a>     18.IN-ADDR.ARPA.           PTR GW.LCS.MIT.EDU.                         
<a class="line" id="line-1219" href="#line-1219"> 1219</a>     26.IN-ADDR.ARPA.           PTR MILNET-GW.ISI.EDU.                      
<a class="line" id="line-1220" href="#line-1220"> 1220</a>     22.0.2.10.IN-ADDR.ARPA.    PTR MILNET-GW.ISI.EDU.                      
<a class="line" id="line-1221" href="#line-1221"> 1221</a>     103.0.0.26.IN-ADDR.ARPA.   PTR MILNET-GW.ISI.EDU.                      
<a class="line" id="line-1222" href="#line-1222"> 1222</a>     77.0.0.10.IN-ADDR.ARPA.    PTR GW.LCS.MIT.EDU.                         
<a class="line" id="line-1223" href="#line-1223"> 1223</a>     4.0.10.18.IN-ADDR.ARPA.    PTR GW.LCS.MIT.EDU.                         
<a class="line" id="line-1224" href="#line-1224"> 1224</a>     103.0.3.26.IN-ADDR.ARPA.   PTR A.ISI.EDU.                              
<a class="line" id="line-1225" href="#line-1225"> 1225</a>     6.0.0.10.IN-ADDR.ARPA.     PTR MULTICS.MIT.EDU.                        
<a class="line" id="line-1226" href="#line-1226"> 1226</a>                                                                            
<a class="line" id="line-1227" href="#line-1227"> 1227</a> Thus a program which wanted to locate gateways on net 10 would originate   
<a class="line" id="line-1228" href="#line-1228"> 1228</a> a query of the form QTYPE=PTR, QCLASS=IN, QNAME=10.IN-ADDR.ARPA.  It       
<a class="line" id="line-1229" href="#line-1229"> 1229</a> would receive two RRs in response:                                         
<a class="line" id="line-1230" href="#line-1230"> 1230</a>                                                                            
<a class="line" id="line-1231" href="#line-1231"> 1231</a>     10.IN-ADDR.ARPA.           PTR MILNET-GW.ISI.EDU.                      
<a class="line" id="line-1232" href="#line-1232"> 1232</a>     10.IN-ADDR.ARPA.           PTR GW.LCS.MIT.EDU.                         
<a class="line" id="line-1233" href="#line-1233"> 1233</a>                                                                            
<a class="line" id="line-1234" href="#line-1234"> 1234</a> The program could then originate QTYPE=A, QCLASS=IN queries for MILNET-    
<a class="line" id="line-1235" href="#line-1235"> 1235</a> GW.ISI.EDU. and GW.LCS.MIT.EDU. to discover the Internet addresses of      
<a class="line" id="line-1236" href="#line-1236"> 1236</a> these gateways.                                                            
<a class="line" id="line-1237" href="#line-1237"> 1237</a>                                                                            
<a class="line" id="line-1238" href="#line-1238"> 1238</a> A resolver which wanted to find the host name corresponding to Internet    
<a class="line" id="line-1239" href="#line-1239"> 1239</a> host address 10.0.0.6 would pursue a query of the form QTYPE=PTR,          
<a class="line" id="line-1240" href="#line-1240"> 1240</a> QCLASS=IN, QNAME=6.0.0.10.IN-ADDR.ARPA, and would receive:                 
<a class="line" id="line-1241" href="#line-1241"> 1241</a>                                                                            
<a class="line" id="line-1242" href="#line-1242"> 1242</a>     6.0.0.10.IN-ADDR.ARPA.     PTR MULTICS.MIT.EDU.                        
<a class="line" id="line-1243" href="#line-1243"> 1243</a>                                                                            
<a class="line" id="line-1244" href="#line-1244"> 1244</a> Several cautions apply to the use of these services:                       
<a class="line" id="line-1245" href="#line-1245"> 1245</a>    - Since the IN-ADDR.ARPA special domain and the normal domain           
<a class="line" id="line-1246" href="#line-1246"> 1246</a>      for a particular host or gateway will be in different zones,          
<a class="line" id="line-1247" href="#line-1247"> 1247</a>      the possibility exists that that the data may be inconsistent.        
<a class="line" id="line-1248" href="#line-1248"> 1248</a>                                                                            
<a class="line" id="line-1249" href="#line-1249"> 1249</a>    - Gateways will often have two names in separate domains, only          
<a class="line" id="line-1250" href="#line-1250"> 1250</a>      one of which can be primary.                                          
<a class="line" id="line-1251" href="#line-1251"> 1251</a>                                                                            
<a class="line" id="line-1252" href="#line-1252"> 1252</a>    - Systems that use the domain database to initialize their              
<a class="line" id="line-1253" href="#line-1253"> 1253</a>      routing tables must start with enough gateway information to          
<a class="line" id="line-1254" href="#line-1254"> 1254</a>      guarantee that they can access the appropriate name server.           
<a class="line" id="line-1255" href="#line-1255"> 1255</a>                                                                            
<a class="line" id="line-1256" href="#line-1256"> 1256</a>    - The gateway data only reflects the existence of a gateway in a        
<a class="line" id="line-1257" href="#line-1257"> 1257</a>      manner equivalent to the current HOSTS.TXT file.  It doesn&#x27;t          
<a class="line" id="line-1258" href="#line-1258"> 1258</a>      replace the dynamic availability information from GGP or EGP.         
<a class="line" id="line-1259" href="#line-1259"> 1259</a>                                                                            
<a class="line" id="line-1260" href="#line-1260"> 1260</a>                                                                            
<a class="line" id="line-1261" href="#line-1261"> 1261</a>                                                                            
<a class="line" id="line-1262" href="#line-1262"> 1262</a> <span class="grey">Mockapetris                                                    [Page 23]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-24" ></span><a class="line" id="line-1263" href="#line-1263"> 1263</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-1264" href="#line-1264"> 1264</a>                                                                            
<a class="line" id="line-1265" href="#line-1265"> 1265</a>                                                                            
<a class="line" id="line-1266" href="#line-1266"> 1266</a> <span class="h3"><a class="selflink" id="section-3.6" href="#section-3.6">3.6</a>. Defining new types, classes, and special namespaces</span>                   
<a class="line" id="line-1267" href="#line-1267"> 1267</a>                                                                            
<a class="line" id="line-1268" href="#line-1268"> 1268</a> The previously defined types and classes are the ones in use as of the     
<a class="line" id="line-1269" href="#line-1269"> 1269</a> date of this memo.  New definitions should be expected.  This section      
<a class="line" id="line-1270" href="#line-1270"> 1270</a> makes some recommendations to designers considering additions to the       
<a class="line" id="line-1271" href="#line-1271"> 1271</a> existing facilities.  The mailing list NAMEDROPPERS@SRI-NIC.ARPA is the    
<a class="line" id="line-1272" href="#line-1272"> 1272</a> forum where general discussion of design issues takes place.               
<a class="line" id="line-1273" href="#line-1273"> 1273</a>                                                                            
<a class="line" id="line-1274" href="#line-1274"> 1274</a> In general, a new type is appropriate when new information is to be        
<a class="line" id="line-1275" href="#line-1275"> 1275</a> added to the database about an existing object, or we need new data        
<a class="line" id="line-1276" href="#line-1276"> 1276</a> formats for some totally new object.  Designers should attempt to define   
<a class="line" id="line-1277" href="#line-1277"> 1277</a> types and their RDATA formats that are generally applicable to all         
<a class="line" id="line-1278" href="#line-1278"> 1278</a> classes, and which avoid duplication of information.  New classes are      
<a class="line" id="line-1279" href="#line-1279"> 1279</a> appropriate when the DNS is to be used for a new protocol, etc which       
<a class="line" id="line-1280" href="#line-1280"> 1280</a> requires new class-specific data formats, or when a copy of the existing   
<a class="line" id="line-1281" href="#line-1281"> 1281</a> name space is desired, but a separate management domain is necessary.      
<a class="line" id="line-1282" href="#line-1282"> 1282</a>                                                                            
<a class="line" id="line-1283" href="#line-1283"> 1283</a> New types and classes need mnemonics for master files; the format of the   
<a class="line" id="line-1284" href="#line-1284"> 1284</a> master files requires that the mnemonics for type and class be disjoint.   
<a class="line" id="line-1285" href="#line-1285"> 1285</a>                                                                            
<a class="line" id="line-1286" href="#line-1286"> 1286</a> TYPE and CLASS values must be a proper subset of QTYPEs and QCLASSes       
<a class="line" id="line-1287" href="#line-1287"> 1287</a> respectively.                                                              
<a class="line" id="line-1288" href="#line-1288"> 1288</a>                                                                            
<a class="line" id="line-1289" href="#line-1289"> 1289</a> The present system uses multiple RRs to represent multiple values of a     
<a class="line" id="line-1290" href="#line-1290"> 1290</a> type rather than storing multiple values in the RDATA section of a         
<a class="line" id="line-1291" href="#line-1291"> 1291</a> single RR.  This is less efficient for most applications, but does keep    
<a class="line" id="line-1292" href="#line-1292"> 1292</a> RRs shorter.  The multiple RRs assumption is incorporated in some          
<a class="line" id="line-1293" href="#line-1293"> 1293</a> experimental work on dynamic update methods.                               
<a class="line" id="line-1294" href="#line-1294"> 1294</a>                                                                            
<a class="line" id="line-1295" href="#line-1295"> 1295</a> The present system attempts to minimize the duplication of data in the     
<a class="line" id="line-1296" href="#line-1296"> 1296</a> database in order to insure consistency.  Thus, in order to find the       
<a class="line" id="line-1297" href="#line-1297"> 1297</a> address of the host for a mail exchange, you map the mail domain name to   
<a class="line" id="line-1298" href="#line-1298"> 1298</a> a host name, then the host name to addresses, rather than a direct         
<a class="line" id="line-1299" href="#line-1299"> 1299</a> mapping to host address.  This approach is preferred because it avoids     
<a class="line" id="line-1300" href="#line-1300"> 1300</a> the opportunity for inconsistency.                                         
<a class="line" id="line-1301" href="#line-1301"> 1301</a>                                                                            
<a class="line" id="line-1302" href="#line-1302"> 1302</a> In defining a new type of data, multiple RR types should not be used to    
<a class="line" id="line-1303" href="#line-1303"> 1303</a> create an ordering between entries or express different formats for        
<a class="line" id="line-1304" href="#line-1304"> 1304</a> equivalent bindings, instead this information should be carried in the     
<a class="line" id="line-1305" href="#line-1305"> 1305</a> body of the RR and a single type used.  This policy avoids problems with   
<a class="line" id="line-1306" href="#line-1306"> 1306</a> caching multiple types and defining QTYPEs to match multiple types.        
<a class="line" id="line-1307" href="#line-1307"> 1307</a>                                                                            
<a class="line" id="line-1308" href="#line-1308"> 1308</a> For example, the original form of mail exchange binding used two RR        
<a class="line" id="line-1309" href="#line-1309"> 1309</a> types one to represent a &quot;closer&quot; exchange (MD) and one to represent a     
<a class="line" id="line-1310" href="#line-1310"> 1310</a> &quot;less close&quot; exchange (MF).  The difficulty is that the presence of one    
<a class="line" id="line-1311" href="#line-1311"> 1311</a> RR type in a cache doesn&#x27;t convey any information about the other          
<a class="line" id="line-1312" href="#line-1312"> 1312</a> because the query which acquired the cached information might have used    
<a class="line" id="line-1313" href="#line-1313"> 1313</a> a QTYPE of MF, MD, or MAILA (which matched both).  The redesigned          
<a class="line" id="line-1314" href="#line-1314"> 1314</a>                                                                            
<a class="line" id="line-1315" href="#line-1315"> 1315</a>                                                                            
<a class="line" id="line-1316" href="#line-1316"> 1316</a>                                                                            
<a class="line" id="line-1317" href="#line-1317"> 1317</a> <span class="grey">Mockapetris                                                    [Page 24]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-25" ></span><a class="line" id="line-1318" href="#line-1318"> 1318</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-1319" href="#line-1319"> 1319</a>                                                                            
<a class="line" id="line-1320" href="#line-1320"> 1320</a>                                                                            
<a class="line" id="line-1321" href="#line-1321"> 1321</a> service used a single type (MX) with a &quot;preference&quot; value in the RDATA     
<a class="line" id="line-1322" href="#line-1322"> 1322</a> section which can order different RRs.  However, if any MX RRs are found   
<a class="line" id="line-1323" href="#line-1323"> 1323</a> in the cache, then all should be there.                                    
<a class="line" id="line-1324" href="#line-1324"> 1324</a>                                                                            
<a class="line" id="line-1325" href="#line-1325"> 1325</a> <span class="h2"><a class="selflink" id="section-4" href="#section-4">4</a>. MESSAGES</span>                                                                
<a class="line" id="line-1326" href="#line-1326"> 1326</a>                                                                            
<a class="line" id="line-1327" href="#line-1327"> 1327</a> <span class="h3"><a class="selflink" id="section-4.1" href="#section-4.1">4.1</a>. Format</span>                                                                
<a class="line" id="line-1328" href="#line-1328"> 1328</a>                                                                            
<a class="line" id="line-1329" href="#line-1329"> 1329</a> All communications inside of the domain protocol are carried in a single   
<a class="line" id="line-1330" href="#line-1330"> 1330</a> format called a message.  The top level format of message is divided       
<a class="line" id="line-1331" href="#line-1331"> 1331</a> into 5 sections (some of which are empty in certain cases) shown below:    
<a class="line" id="line-1332" href="#line-1332"> 1332</a>                                                                            
<a class="line" id="line-1333" href="#line-1333"> 1333</a>     +---------------------+                                                
<a class="line" id="line-1334" href="#line-1334"> 1334</a>     |        Header       |                                                
<a class="line" id="line-1335" href="#line-1335"> 1335</a>     +---------------------+                                                
<a class="line" id="line-1336" href="#line-1336"> 1336</a>     |       Question      | the question for the name server               
<a class="line" id="line-1337" href="#line-1337"> 1337</a>     +---------------------+                                                
<a class="line" id="line-1338" href="#line-1338"> 1338</a>     |        Answer       | RRs answering the question                     
<a class="line" id="line-1339" href="#line-1339"> 1339</a>     +---------------------+                                                
<a class="line" id="line-1340" href="#line-1340"> 1340</a>     |      Authority      | RRs pointing toward an authority               
<a class="line" id="line-1341" href="#line-1341"> 1341</a>     +---------------------+                                                
<a class="line" id="line-1342" href="#line-1342"> 1342</a>     |      Additional     | RRs holding additional information             
<a class="line" id="line-1343" href="#line-1343"> 1343</a>     +---------------------+                                                
<a class="line" id="line-1344" href="#line-1344"> 1344</a>                                                                            
<a class="line" id="line-1345" href="#line-1345"> 1345</a> The header section is always present.  The header includes fields that     
<a class="line" id="line-1346" href="#line-1346"> 1346</a> specify which of the remaining sections are present, and also specify      
<a class="line" id="line-1347" href="#line-1347"> 1347</a> whether the message is a query or a response, a standard query or some     
<a class="line" id="line-1348" href="#line-1348"> 1348</a> other opcode, etc.                                                         
<a class="line" id="line-1349" href="#line-1349"> 1349</a>                                                                            
<a class="line" id="line-1350" href="#line-1350"> 1350</a> The names of the sections after the header are derived from their use in   
<a class="line" id="line-1351" href="#line-1351"> 1351</a> standard queries.  The question section contains fields that describe a    
<a class="line" id="line-1352" href="#line-1352"> 1352</a> question to a name server.  These fields are a query type (QTYPE), a       
<a class="line" id="line-1353" href="#line-1353"> 1353</a> query class (QCLASS), and a query domain name (QNAME).  The last three     
<a class="line" id="line-1354" href="#line-1354"> 1354</a> sections have the same format: a possibly empty list of concatenated       
<a class="line" id="line-1355" href="#line-1355"> 1355</a> resource records (RRs).  The answer section contains RRs that answer the   
<a class="line" id="line-1356" href="#line-1356"> 1356</a> question; the authority section contains RRs that point toward an          
<a class="line" id="line-1357" href="#line-1357"> 1357</a> authoritative name server; the additional records section contains RRs     
<a class="line" id="line-1358" href="#line-1358"> 1358</a> which relate to the query, but are not strictly answers for the            
<a class="line" id="line-1359" href="#line-1359"> 1359</a> question.                                                                  
<a class="line" id="line-1360" href="#line-1360"> 1360</a>                                                                            
<a class="line" id="line-1361" href="#line-1361"> 1361</a>                                                                            
<a class="line" id="line-1362" href="#line-1362"> 1362</a>                                                                            
<a class="line" id="line-1363" href="#line-1363"> 1363</a>                                                                            
<a class="line" id="line-1364" href="#line-1364"> 1364</a>                                                                            
<a class="line" id="line-1365" href="#line-1365"> 1365</a>                                                                            
<a class="line" id="line-1366" href="#line-1366"> 1366</a>                                                                            
<a class="line" id="line-1367" href="#line-1367"> 1367</a>                                                                            
<a class="line" id="line-1368" href="#line-1368"> 1368</a>                                                                            
<a class="line" id="line-1369" href="#line-1369"> 1369</a>                                                                            
<a class="line" id="line-1370" href="#line-1370"> 1370</a>                                                                            
<a class="line" id="line-1371" href="#line-1371"> 1371</a>                                                                            
<a class="line" id="line-1372" href="#line-1372"> 1372</a> <span class="grey">Mockapetris                                                    [Page 25]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-26" ></span><a class="line" id="line-1373" href="#line-1373"> 1373</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-1374" href="#line-1374"> 1374</a>                                                                            
<a class="line" id="line-1375" href="#line-1375"> 1375</a>                                                                            
<a class="line" id="line-1376" href="#line-1376"> 1376</a> <span class="h4"><a class="selflink" id="section-4.1.1" href="#section-4.1.1">4.1.1</a>. Header section format</span>                                               
<a class="line" id="line-1377" href="#line-1377"> 1377</a>                                                                            
<a class="line" id="line-1378" href="#line-1378"> 1378</a> The header contains the following fields:                                  
<a class="line" id="line-1379" href="#line-1379"> 1379</a>                                                                            
<a class="line" id="line-1380" href="#line-1380"> 1380</a>                                     1  1  1  1  1  1                       
<a class="line" id="line-1381" href="#line-1381"> 1381</a>       0  1  2  3  4  5  6  7  8  9  0  1  2  3  4  5                       
<a class="line" id="line-1382" href="#line-1382"> 1382</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-1383" href="#line-1383"> 1383</a>     |                      ID                       |                      
<a class="line" id="line-1384" href="#line-1384"> 1384</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-1385" href="#line-1385"> 1385</a>     |QR|   Opcode  |AA|TC|RD|RA|   Z    |   RCODE   |                      
<a class="line" id="line-1386" href="#line-1386"> 1386</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-1387" href="#line-1387"> 1387</a>     |                    QDCOUNT                    |                      
<a class="line" id="line-1388" href="#line-1388"> 1388</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-1389" href="#line-1389"> 1389</a>     |                    ANCOUNT                    |                      
<a class="line" id="line-1390" href="#line-1390"> 1390</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-1391" href="#line-1391"> 1391</a>     |                    NSCOUNT                    |                      
<a class="line" id="line-1392" href="#line-1392"> 1392</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-1393" href="#line-1393"> 1393</a>     |                    ARCOUNT                    |                      
<a class="line" id="line-1394" href="#line-1394"> 1394</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-1395" href="#line-1395"> 1395</a>                                                                            
<a class="line" id="line-1396" href="#line-1396"> 1396</a> where:                                                                     
<a class="line" id="line-1397" href="#line-1397"> 1397</a>                                                                            
<a class="line" id="line-1398" href="#line-1398"> 1398</a> ID              A 16 bit identifier assigned by the program that           
<a class="line" id="line-1399" href="#line-1399"> 1399</a>                 generates any kind of query.  This identifier is copied    
<a class="line" id="line-1400" href="#line-1400"> 1400</a>                 the corresponding reply and can be used by the requester   
<a class="line" id="line-1401" href="#line-1401"> 1401</a>                 to match up replies to outstanding queries.                
<a class="line" id="line-1402" href="#line-1402"> 1402</a>                                                                            
<a class="line" id="line-1403" href="#line-1403"> 1403</a> QR              A one bit field that specifies whether this message is a   
<a class="line" id="line-1404" href="#line-1404"> 1404</a>                 query (0), or a response (1).                              
<a class="line" id="line-1405" href="#line-1405"> 1405</a>                                                                            
<a class="line" id="line-1406" href="#line-1406"> 1406</a> OPCODE          A four bit field that specifies kind of query in this      
<a class="line" id="line-1407" href="#line-1407"> 1407</a>                 message.  This value is set by the originator of a query   
<a class="line" id="line-1408" href="#line-1408"> 1408</a>                 and copied into the response.  The values are:             
<a class="line" id="line-1409" href="#line-1409"> 1409</a>                                                                            
<a class="line" id="line-1410" href="#line-1410"> 1410</a>                 0               a standard query (QUERY)                   
<a class="line" id="line-1411" href="#line-1411"> 1411</a>                                                                            
<a class="line" id="line-1412" href="#line-1412"> 1412</a>                 1               an inverse query (IQUERY)                  
<a class="line" id="line-1413" href="#line-1413"> 1413</a>                                                                            
<a class="line" id="line-1414" href="#line-1414"> 1414</a>                 2               a server status request (STATUS)           
<a class="line" id="line-1415" href="#line-1415"> 1415</a>                                                                            
<a class="line" id="line-1416" href="#line-1416"> 1416</a>                 3-15            reserved for future use                    
<a class="line" id="line-1417" href="#line-1417"> 1417</a>                                                                            
<a class="line" id="line-1418" href="#line-1418"> 1418</a> AA              Authoritative Answer - this bit is valid in responses,     
<a class="line" id="line-1419" href="#line-1419"> 1419</a>                 and specifies that the responding name server is an        
<a class="line" id="line-1420" href="#line-1420"> 1420</a>                 authority for the domain name in question section.         
<a class="line" id="line-1421" href="#line-1421"> 1421</a>                                                                            
<a class="line" id="line-1422" href="#line-1422"> 1422</a>                 Note that the contents of the answer section may have      
<a class="line" id="line-1423" href="#line-1423"> 1423</a>                 multiple owner names because of aliases.  The AA bit       
<a class="line" id="line-1424" href="#line-1424"> 1424</a>                                                                            
<a class="line" id="line-1425" href="#line-1425"> 1425</a>                                                                            
<a class="line" id="line-1426" href="#line-1426"> 1426</a>                                                                            
<a class="line" id="line-1427" href="#line-1427"> 1427</a> <span class="grey">Mockapetris                                                    [Page 26]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-27" ></span><a class="line" id="line-1428" href="#line-1428"> 1428</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-1429" href="#line-1429"> 1429</a>                                                                            
<a class="line" id="line-1430" href="#line-1430"> 1430</a>                                                                            
<a class="line" id="line-1431" href="#line-1431"> 1431</a>                 corresponds to the name which matches the query name, or   
<a class="line" id="line-1432" href="#line-1432"> 1432</a>                 the first owner name in the answer section.                
<a class="line" id="line-1433" href="#line-1433"> 1433</a>                                                                            
<a class="line" id="line-1434" href="#line-1434"> 1434</a> TC              TrunCation - specifies that this message was truncated     
<a class="line" id="line-1435" href="#line-1435"> 1435</a>                 due to length greater than that permitted on the           
<a class="line" id="line-1436" href="#line-1436"> 1436</a>                 transmission channel.                                      
<a class="line" id="line-1437" href="#line-1437"> 1437</a>                                                                            
<a class="line" id="line-1438" href="#line-1438"> 1438</a> RD              Recursion Desired - this bit may be set in a query and     
<a class="line" id="line-1439" href="#line-1439"> 1439</a>                 is copied into the response.  If RD is set, it directs     
<a class="line" id="line-1440" href="#line-1440"> 1440</a>                 the name server to pursue the query recursively.           
<a class="line" id="line-1441" href="#line-1441"> 1441</a>                 Recursive query support is optional.                       
<a class="line" id="line-1442" href="#line-1442"> 1442</a>                                                                            
<a class="line" id="line-1443" href="#line-1443"> 1443</a> RA              Recursion Available - this be is set or cleared in a       
<a class="line" id="line-1444" href="#line-1444"> 1444</a>                 response, and denotes whether recursive query support is   
<a class="line" id="line-1445" href="#line-1445"> 1445</a>                 available in the name server.                              
<a class="line" id="line-1446" href="#line-1446"> 1446</a>                                                                            
<a class="line" id="line-1447" href="#line-1447"> 1447</a> Z               Reserved for future use.  Must be zero in all queries      
<a class="line" id="line-1448" href="#line-1448"> 1448</a>                 and responses.                                             
<a class="line" id="line-1449" href="#line-1449"> 1449</a>                                                                            
<a class="line" id="line-1450" href="#line-1450"> 1450</a> RCODE           Response code - this 4 bit field is set as part of         
<a class="line" id="line-1451" href="#line-1451"> 1451</a>                 responses.  The values have the following                  
<a class="line" id="line-1452" href="#line-1452"> 1452</a>                 interpretation:                                            
<a class="line" id="line-1453" href="#line-1453"> 1453</a>                                                                            
<a class="line" id="line-1454" href="#line-1454"> 1454</a>                 0               No error condition                         
<a class="line" id="line-1455" href="#line-1455"> 1455</a>                                                                            
<a class="line" id="line-1456" href="#line-1456"> 1456</a>                 1               Format error - The name server was         
<a class="line" id="line-1457" href="#line-1457"> 1457</a>                                 unable to interpret the query.             
<a class="line" id="line-1458" href="#line-1458"> 1458</a>                                                                            
<a class="line" id="line-1459" href="#line-1459"> 1459</a>                 2               Server failure - The name server was       
<a class="line" id="line-1460" href="#line-1460"> 1460</a>                                 unable to process this query due to a      
<a class="line" id="line-1461" href="#line-1461"> 1461</a>                                 problem with the name server.              
<a class="line" id="line-1462" href="#line-1462"> 1462</a>                                                                            
<a class="line" id="line-1463" href="#line-1463"> 1463</a>                 3               Name Error - Meaningful only for           
<a class="line" id="line-1464" href="#line-1464"> 1464</a>                                 responses from an authoritative name       
<a class="line" id="line-1465" href="#line-1465"> 1465</a>                                 server, this code signifies that the       
<a class="line" id="line-1466" href="#line-1466"> 1466</a>                                 domain name referenced in the query does   
<a class="line" id="line-1467" href="#line-1467"> 1467</a>                                 not exist.                                 
<a class="line" id="line-1468" href="#line-1468"> 1468</a>                                                                            
<a class="line" id="line-1469" href="#line-1469"> 1469</a>                 4               Not Implemented - The name server does     
<a class="line" id="line-1470" href="#line-1470"> 1470</a>                                 not support the requested kind of query.   
<a class="line" id="line-1471" href="#line-1471"> 1471</a>                                                                            
<a class="line" id="line-1472" href="#line-1472"> 1472</a>                 5               Refused - The name server refuses to       
<a class="line" id="line-1473" href="#line-1473"> 1473</a>                                 perform the specified operation for        
<a class="line" id="line-1474" href="#line-1474"> 1474</a>                                 policy reasons.  For example, a name       
<a class="line" id="line-1475" href="#line-1475"> 1475</a>                                 server may not wish to provide the         
<a class="line" id="line-1476" href="#line-1476"> 1476</a>                                 information to the particular requester,   
<a class="line" id="line-1477" href="#line-1477"> 1477</a>                                 or a name server may not wish to perform   
<a class="line" id="line-1478" href="#line-1478"> 1478</a>                                 a particular operation (e.g., zone         
<a class="line" id="line-1479" href="#line-1479"> 1479</a>                                                                            
<a class="line" id="line-1480" href="#line-1480"> 1480</a>                                                                            
<a class="line" id="line-1481" href="#line-1481"> 1481</a>                                                                            
<a class="line" id="line-1482" href="#line-1482"> 1482</a> <span class="grey">Mockapetris                                                    [Page 27]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-28" ></span><a class="line" id="line-1483" href="#line-1483"> 1483</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-1484" href="#line-1484"> 1484</a>                                                                            
<a class="line" id="line-1485" href="#line-1485"> 1485</a>                                                                            
<a class="line" id="line-1486" href="#line-1486"> 1486</a>                                 transfer) for particular data.             
<a class="line" id="line-1487" href="#line-1487"> 1487</a>                                                                            
<a class="line" id="line-1488" href="#line-1488"> 1488</a>                 6-15            Reserved for future use.                   
<a class="line" id="line-1489" href="#line-1489"> 1489</a>                                                                            
<a class="line" id="line-1490" href="#line-1490"> 1490</a> QDCOUNT         an unsigned 16 bit integer specifying the number of        
<a class="line" id="line-1491" href="#line-1491"> 1491</a>                 entries in the question section.                           
<a class="line" id="line-1492" href="#line-1492"> 1492</a>                                                                            
<a class="line" id="line-1493" href="#line-1493"> 1493</a> ANCOUNT         an unsigned 16 bit integer specifying the number of        
<a class="line" id="line-1494" href="#line-1494"> 1494</a>                 resource records in the answer section.                    
<a class="line" id="line-1495" href="#line-1495"> 1495</a>                                                                            
<a class="line" id="line-1496" href="#line-1496"> 1496</a> NSCOUNT         an unsigned 16 bit integer specifying the number of name   
<a class="line" id="line-1497" href="#line-1497"> 1497</a>                 server resource records in the authority records           
<a class="line" id="line-1498" href="#line-1498"> 1498</a>                 section.                                                   
<a class="line" id="line-1499" href="#line-1499"> 1499</a>                                                                            
<a class="line" id="line-1500" href="#line-1500"> 1500</a> ARCOUNT         an unsigned 16 bit integer specifying the number of        
<a class="line" id="line-1501" href="#line-1501"> 1501</a>                 resource records in the additional records section.        
<a class="line" id="line-1502" href="#line-1502"> 1502</a>                                                                            
<a class="line" id="line-1503" href="#line-1503"> 1503</a> <span class="h4"><a class="selflink" id="section-4.1.2" href="#section-4.1.2">4.1.2</a>. Question section format</span>                                             
<a class="line" id="line-1504" href="#line-1504"> 1504</a>                                                                            
<a class="line" id="line-1505" href="#line-1505"> 1505</a> The question section is used to carry the &quot;question&quot; in most queries,      
<a class="line" id="line-1506" href="#line-1506"> 1506</a> i.e., the parameters that define what is being asked.  The section         
<a class="line" id="line-1507" href="#line-1507"> 1507</a> contains QDCOUNT (usually 1) entries, each of the following format:        
<a class="line" id="line-1508" href="#line-1508"> 1508</a>                                                                            
<a class="line" id="line-1509" href="#line-1509"> 1509</a>                                     1  1  1  1  1  1                       
<a class="line" id="line-1510" href="#line-1510"> 1510</a>       0  1  2  3  4  5  6  7  8  9  0  1  2  3  4  5                       
<a class="line" id="line-1511" href="#line-1511"> 1511</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-1512" href="#line-1512"> 1512</a>     |                                               |                      
<a class="line" id="line-1513" href="#line-1513"> 1513</a>     /                     QNAME                     /                      
<a class="line" id="line-1514" href="#line-1514"> 1514</a>     /                                               /                      
<a class="line" id="line-1515" href="#line-1515"> 1515</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-1516" href="#line-1516"> 1516</a>     |                     QTYPE                     |                      
<a class="line" id="line-1517" href="#line-1517"> 1517</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-1518" href="#line-1518"> 1518</a>     |                     QCLASS                    |                      
<a class="line" id="line-1519" href="#line-1519"> 1519</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-1520" href="#line-1520"> 1520</a>                                                                            
<a class="line" id="line-1521" href="#line-1521"> 1521</a> where:                                                                     
<a class="line" id="line-1522" href="#line-1522"> 1522</a>                                                                            
<a class="line" id="line-1523" href="#line-1523"> 1523</a> QNAME           a domain name represented as a sequence of labels, where   
<a class="line" id="line-1524" href="#line-1524"> 1524</a>                 each label consists of a length octet followed by that     
<a class="line" id="line-1525" href="#line-1525"> 1525</a>                 number of octets.  The domain name terminates with the     
<a class="line" id="line-1526" href="#line-1526"> 1526</a>                 zero length octet for the null label of the root.  Note    
<a class="line" id="line-1527" href="#line-1527"> 1527</a>                 that this field may be an odd number of octets; no         
<a class="line" id="line-1528" href="#line-1528"> 1528</a>                 padding is used.                                           
<a class="line" id="line-1529" href="#line-1529"> 1529</a>                                                                            
<a class="line" id="line-1530" href="#line-1530"> 1530</a> QTYPE           a two octet code which specifies the type of the query.    
<a class="line" id="line-1531" href="#line-1531"> 1531</a>                 The values for this field include all codes valid for a    
<a class="line" id="line-1532" href="#line-1532"> 1532</a>                 TYPE field, together with some more general codes which    
<a class="line" id="line-1533" href="#line-1533"> 1533</a>                 can match more than one type of RR.                        
<a class="line" id="line-1534" href="#line-1534"> 1534</a>                                                                            
<a class="line" id="line-1535" href="#line-1535"> 1535</a>                                                                            
<a class="line" id="line-1536" href="#line-1536"> 1536</a>                                                                            
<a class="line" id="line-1537" href="#line-1537"> 1537</a> <span class="grey">Mockapetris                                                    [Page 28]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-29" ></span><a class="line" id="line-1538" href="#line-1538"> 1538</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-1539" href="#line-1539"> 1539</a>                                                                            
<a class="line" id="line-1540" href="#line-1540"> 1540</a>                                                                            
<a class="line" id="line-1541" href="#line-1541"> 1541</a> QCLASS          a two octet code that specifies the class of the query.    
<a class="line" id="line-1542" href="#line-1542"> 1542</a>                 For example, the QCLASS field is IN for the Internet.      
<a class="line" id="line-1543" href="#line-1543"> 1543</a>                                                                            
<a class="line" id="line-1544" href="#line-1544"> 1544</a> <span class="h4"><a class="selflink" id="section-4.1.3" href="#section-4.1.3">4.1.3</a>. Resource record format</span>                                              
<a class="line" id="line-1545" href="#line-1545"> 1545</a>                                                                            
<a class="line" id="line-1546" href="#line-1546"> 1546</a> The answer, authority, and additional sections all share the same          
<a class="line" id="line-1547" href="#line-1547"> 1547</a> format: a variable number of resource records, where the number of         
<a class="line" id="line-1548" href="#line-1548"> 1548</a> records is specified in the corresponding count field in the header.       
<a class="line" id="line-1549" href="#line-1549"> 1549</a> Each resource record has the following format:                             
<a class="line" id="line-1550" href="#line-1550"> 1550</a>                                     1  1  1  1  1  1                       
<a class="line" id="line-1551" href="#line-1551"> 1551</a>       0  1  2  3  4  5  6  7  8  9  0  1  2  3  4  5                       
<a class="line" id="line-1552" href="#line-1552"> 1552</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-1553" href="#line-1553"> 1553</a>     |                                               |                      
<a class="line" id="line-1554" href="#line-1554"> 1554</a>     /                                               /                      
<a class="line" id="line-1555" href="#line-1555"> 1555</a>     /                      NAME                     /                      
<a class="line" id="line-1556" href="#line-1556"> 1556</a>     |                                               |                      
<a class="line" id="line-1557" href="#line-1557"> 1557</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-1558" href="#line-1558"> 1558</a>     |                      TYPE                     |                      
<a class="line" id="line-1559" href="#line-1559"> 1559</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-1560" href="#line-1560"> 1560</a>     |                     CLASS                     |                      
<a class="line" id="line-1561" href="#line-1561"> 1561</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-1562" href="#line-1562"> 1562</a>     |                      TTL                      |                      
<a class="line" id="line-1563" href="#line-1563"> 1563</a>     |                                               |                      
<a class="line" id="line-1564" href="#line-1564"> 1564</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-1565" href="#line-1565"> 1565</a>     |                   RDLENGTH                    |                      
<a class="line" id="line-1566" href="#line-1566"> 1566</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--|                      
<a class="line" id="line-1567" href="#line-1567"> 1567</a>     /                     RDATA                     /                      
<a class="line" id="line-1568" href="#line-1568"> 1568</a>     /                                               /                      
<a class="line" id="line-1569" href="#line-1569"> 1569</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-1570" href="#line-1570"> 1570</a>                                                                            
<a class="line" id="line-1571" href="#line-1571"> 1571</a> where:                                                                     
<a class="line" id="line-1572" href="#line-1572"> 1572</a>                                                                            
<a class="line" id="line-1573" href="#line-1573"> 1573</a> NAME            a domain name to which this resource record pertains.      
<a class="line" id="line-1574" href="#line-1574"> 1574</a>                                                                            
<a class="line" id="line-1575" href="#line-1575"> 1575</a> TYPE            two octets containing one of the RR type codes.  This      
<a class="line" id="line-1576" href="#line-1576"> 1576</a>                 field specifies the meaning of the data in the RDATA       
<a class="line" id="line-1577" href="#line-1577"> 1577</a>                 field.                                                     
<a class="line" id="line-1578" href="#line-1578"> 1578</a>                                                                            
<a class="line" id="line-1579" href="#line-1579"> 1579</a> CLASS           two octets which specify the class of the data in the      
<a class="line" id="line-1580" href="#line-1580"> 1580</a>                 RDATA field.                                               
<a class="line" id="line-1581" href="#line-1581"> 1581</a>                                                                            
<a class="line" id="line-1582" href="#line-1582"> 1582</a> TTL             a 32 bit unsigned integer that specifies the time          
<a class="line" id="line-1583" href="#line-1583"> 1583</a>                 interval (in seconds) that the resource record may be      
<a class="line" id="line-1584" href="#line-1584"> 1584</a>                 cached before it should be discarded.  Zero values are     
<a class="line" id="line-1585" href="#line-1585"> 1585</a>                 interpreted to mean that the RR can only be used for the   
<a class="line" id="line-1586" href="#line-1586"> 1586</a>                 transaction in progress, and should not be cached.         
<a class="line" id="line-1587" href="#line-1587"> 1587</a>                                                                            
<a class="line" id="line-1588" href="#line-1588"> 1588</a>                                                                            
<a class="line" id="line-1589" href="#line-1589"> 1589</a>                                                                            
<a class="line" id="line-1590" href="#line-1590"> 1590</a>                                                                            
<a class="line" id="line-1591" href="#line-1591"> 1591</a>                                                                            
<a class="line" id="line-1592" href="#line-1592"> 1592</a> <span class="grey">Mockapetris                                                    [Page 29]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-30" ></span><a class="line" id="line-1593" href="#line-1593"> 1593</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-1594" href="#line-1594"> 1594</a>                                                                            
<a class="line" id="line-1595" href="#line-1595"> 1595</a>                                                                            
<a class="line" id="line-1596" href="#line-1596"> 1596</a> RDLENGTH        an unsigned 16 bit integer that specifies the length in    
<a class="line" id="line-1597" href="#line-1597"> 1597</a>                 octets of the RDATA field.                                 
<a class="line" id="line-1598" href="#line-1598"> 1598</a>                                                                            
<a class="line" id="line-1599" href="#line-1599"> 1599</a> RDATA           a variable length string of octets that describes the      
<a class="line" id="line-1600" href="#line-1600"> 1600</a>                 resource.  The format of this information varies           
<a class="line" id="line-1601" href="#line-1601"> 1601</a>                 according to the TYPE and CLASS of the resource record.    
<a class="line" id="line-1602" href="#line-1602"> 1602</a>                 For example, the if the TYPE is A and the CLASS is IN,     
<a class="line" id="line-1603" href="#line-1603"> 1603</a>                 the RDATA field is a 4 octet ARPA Internet address.        
<a class="line" id="line-1604" href="#line-1604"> 1604</a>                                                                            
<a class="line" id="line-1605" href="#line-1605"> 1605</a> <span class="h4"><a class="selflink" id="section-4.1.4" href="#section-4.1.4">4.1.4</a>. Message compression</span>                                                 
<a class="line" id="line-1606" href="#line-1606"> 1606</a>                                                                            
<a class="line" id="line-1607" href="#line-1607"> 1607</a> In order to reduce the size of messages, the domain system utilizes a      
<a class="line" id="line-1608" href="#line-1608"> 1608</a> compression scheme which eliminates the repetition of domain names in a    
<a class="line" id="line-1609" href="#line-1609"> 1609</a> message.  In this scheme, an entire domain name or a list of labels at     
<a class="line" id="line-1610" href="#line-1610"> 1610</a> the end of a domain name is replaced with a pointer to a prior occurance   
<a class="line" id="line-1611" href="#line-1611"> 1611</a> of the same name.                                                          
<a class="line" id="line-1612" href="#line-1612"> 1612</a>                                                                            
<a class="line" id="line-1613" href="#line-1613"> 1613</a> The pointer takes the form of a two octet sequence:                        
<a class="line" id="line-1614" href="#line-1614"> 1614</a>                                                                            
<a class="line" id="line-1615" href="#line-1615"> 1615</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-1616" href="#line-1616"> 1616</a>     | 1  1|                OFFSET                   |                      
<a class="line" id="line-1617" href="#line-1617"> 1617</a>     +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                      
<a class="line" id="line-1618" href="#line-1618"> 1618</a>                                                                            
<a class="line" id="line-1619" href="#line-1619"> 1619</a> The first two bits are ones.  This allows a pointer to be distinguished    
<a class="line" id="line-1620" href="#line-1620"> 1620</a> from a label, since the label must begin with two zero bits because        
<a class="line" id="line-1621" href="#line-1621"> 1621</a> labels are restricted to 63 octets or less.  (The 10 and 01 combinations   
<a class="line" id="line-1622" href="#line-1622"> 1622</a> are reserved for future use.)  The OFFSET field specifies an offset from   
<a class="line" id="line-1623" href="#line-1623"> 1623</a> the start of the message (i.e., the first octet of the ID field in the     
<a class="line" id="line-1624" href="#line-1624"> 1624</a> domain header).  A zero offset specifies the first byte of the ID field,   
<a class="line" id="line-1625" href="#line-1625"> 1625</a> etc.                                                                       
<a class="line" id="line-1626" href="#line-1626"> 1626</a>                                                                            
<a class="line" id="line-1627" href="#line-1627"> 1627</a> The compression scheme allows a domain name in a message to be             
<a class="line" id="line-1628" href="#line-1628"> 1628</a> represented as either:                                                     
<a class="line" id="line-1629" href="#line-1629"> 1629</a>                                                                            
<a class="line" id="line-1630" href="#line-1630"> 1630</a>    - a sequence of labels ending in a zero octet                           
<a class="line" id="line-1631" href="#line-1631"> 1631</a>                                                                            
<a class="line" id="line-1632" href="#line-1632"> 1632</a>    - a pointer                                                             
<a class="line" id="line-1633" href="#line-1633"> 1633</a>                                                                            
<a class="line" id="line-1634" href="#line-1634"> 1634</a>    - a sequence of labels ending with a pointer                            
<a class="line" id="line-1635" href="#line-1635"> 1635</a>                                                                            
<a class="line" id="line-1636" href="#line-1636"> 1636</a> Pointers can only be used for occurances of a domain name where the        
<a class="line" id="line-1637" href="#line-1637"> 1637</a> format is not class specific.  If this were not the case, a name server    
<a class="line" id="line-1638" href="#line-1638"> 1638</a> or resolver would be required to know the format of all RRs it handled.    
<a class="line" id="line-1639" href="#line-1639"> 1639</a> As yet, there are no such cases, but they may occur in future RDATA        
<a class="line" id="line-1640" href="#line-1640"> 1640</a> formats.                                                                   
<a class="line" id="line-1641" href="#line-1641"> 1641</a>                                                                            
<a class="line" id="line-1642" href="#line-1642"> 1642</a> If a domain name is contained in a part of the message subject to a        
<a class="line" id="line-1643" href="#line-1643"> 1643</a> length field (such as the RDATA section of an RR), and compression is      
<a class="line" id="line-1644" href="#line-1644"> 1644</a>                                                                            
<a class="line" id="line-1645" href="#line-1645"> 1645</a>                                                                            
<a class="line" id="line-1646" href="#line-1646"> 1646</a>                                                                            
<a class="line" id="line-1647" href="#line-1647"> 1647</a> <span class="grey">Mockapetris                                                    [Page 30]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-31" ></span><a class="line" id="line-1648" href="#line-1648"> 1648</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-1649" href="#line-1649"> 1649</a>                                                                            
<a class="line" id="line-1650" href="#line-1650"> 1650</a>                                                                            
<a class="line" id="line-1651" href="#line-1651"> 1651</a> used, the length of the compressed name is used in the length              
<a class="line" id="line-1652" href="#line-1652"> 1652</a> calculation, rather than the length of the expanded name.                  
<a class="line" id="line-1653" href="#line-1653"> 1653</a>                                                                            
<a class="line" id="line-1654" href="#line-1654"> 1654</a> Programs are free to avoid using pointers in messages they generate,       
<a class="line" id="line-1655" href="#line-1655"> 1655</a> although this will reduce datagram capacity, and may cause truncation.     
<a class="line" id="line-1656" href="#line-1656"> 1656</a> However all programs are required to understand arriving messages that     
<a class="line" id="line-1657" href="#line-1657"> 1657</a> contain pointers.                                                          
<a class="line" id="line-1658" href="#line-1658"> 1658</a>                                                                            
<a class="line" id="line-1659" href="#line-1659"> 1659</a> For example, a datagram might need to use the domain names F.ISI.ARPA,     
<a class="line" id="line-1660" href="#line-1660"> 1660</a> FOO.F.ISI.ARPA, ARPA, and the root.  Ignoring the other fields of the      
<a class="line" id="line-1661" href="#line-1661"> 1661</a> message, these domain names might be represented as:                       
<a class="line" id="line-1662" href="#line-1662"> 1662</a>                                                                            
<a class="line" id="line-1663" href="#line-1663"> 1663</a>        +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                   
<a class="line" id="line-1664" href="#line-1664"> 1664</a>     20 |           1           |           F           |                   
<a class="line" id="line-1665" href="#line-1665"> 1665</a>        +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                   
<a class="line" id="line-1666" href="#line-1666"> 1666</a>     22 |           3           |           I           |                   
<a class="line" id="line-1667" href="#line-1667"> 1667</a>        +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                   
<a class="line" id="line-1668" href="#line-1668"> 1668</a>     24 |           S           |           I           |                   
<a class="line" id="line-1669" href="#line-1669"> 1669</a>        +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                   
<a class="line" id="line-1670" href="#line-1670"> 1670</a>     26 |           4           |           A           |                   
<a class="line" id="line-1671" href="#line-1671"> 1671</a>        +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                   
<a class="line" id="line-1672" href="#line-1672"> 1672</a>     28 |           R           |           P           |                   
<a class="line" id="line-1673" href="#line-1673"> 1673</a>        +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                   
<a class="line" id="line-1674" href="#line-1674"> 1674</a>     30 |           A           |           0           |                   
<a class="line" id="line-1675" href="#line-1675"> 1675</a>        +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                   
<a class="line" id="line-1676" href="#line-1676"> 1676</a>                                                                            
<a class="line" id="line-1677" href="#line-1677"> 1677</a>        +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                   
<a class="line" id="line-1678" href="#line-1678"> 1678</a>     40 |           3           |           F           |                   
<a class="line" id="line-1679" href="#line-1679"> 1679</a>        +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                   
<a class="line" id="line-1680" href="#line-1680"> 1680</a>     42 |           O           |           O           |                   
<a class="line" id="line-1681" href="#line-1681"> 1681</a>        +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                   
<a class="line" id="line-1682" href="#line-1682"> 1682</a>     44 | 1  1|                20                       |                   
<a class="line" id="line-1683" href="#line-1683"> 1683</a>        +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                   
<a class="line" id="line-1684" href="#line-1684"> 1684</a>                                                                            
<a class="line" id="line-1685" href="#line-1685"> 1685</a>        +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                   
<a class="line" id="line-1686" href="#line-1686"> 1686</a>     64 | 1  1|                26                       |                   
<a class="line" id="line-1687" href="#line-1687"> 1687</a>        +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                   
<a class="line" id="line-1688" href="#line-1688"> 1688</a>                                                                            
<a class="line" id="line-1689" href="#line-1689"> 1689</a>        +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                   
<a class="line" id="line-1690" href="#line-1690"> 1690</a>     92 |           0           |                       |                   
<a class="line" id="line-1691" href="#line-1691"> 1691</a>        +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+                   
<a class="line" id="line-1692" href="#line-1692"> 1692</a>                                                                            
<a class="line" id="line-1693" href="#line-1693"> 1693</a> The domain name for F.ISI.ARPA is shown at offset 20.  The domain name     
<a class="line" id="line-1694" href="#line-1694"> 1694</a> FOO.F.ISI.ARPA is shown at offset 40; this definition uses a pointer to    
<a class="line" id="line-1695" href="#line-1695"> 1695</a> concatenate a label for FOO to the previously defined F.ISI.ARPA.  The     
<a class="line" id="line-1696" href="#line-1696"> 1696</a> domain name ARPA is defined at offset 64 using a pointer to the ARPA       
<a class="line" id="line-1697" href="#line-1697"> 1697</a> component of the name F.ISI.ARPA at 20; note that this pointer relies on   
<a class="line" id="line-1698" href="#line-1698"> 1698</a> ARPA being the last label in the string at 20.  The root domain name is    
<a class="line" id="line-1699" href="#line-1699"> 1699</a>                                                                            
<a class="line" id="line-1700" href="#line-1700"> 1700</a>                                                                            
<a class="line" id="line-1701" href="#line-1701"> 1701</a>                                                                            
<a class="line" id="line-1702" href="#line-1702"> 1702</a> <span class="grey">Mockapetris                                                    [Page 31]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-32" ></span><a class="line" id="line-1703" href="#line-1703"> 1703</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-1704" href="#line-1704"> 1704</a>                                                                            
<a class="line" id="line-1705" href="#line-1705"> 1705</a>                                                                            
<a class="line" id="line-1706" href="#line-1706"> 1706</a> defined by a single octet of zeros at 92; the root domain name has no      
<a class="line" id="line-1707" href="#line-1707"> 1707</a> labels.                                                                    
<a class="line" id="line-1708" href="#line-1708"> 1708</a>                                                                            
<a class="line" id="line-1709" href="#line-1709"> 1709</a> <span class="h3"><a class="selflink" id="section-4.2" href="#section-4.2">4.2</a>. Transport</span>                                                             
<a class="line" id="line-1710" href="#line-1710"> 1710</a>                                                                            
<a class="line" id="line-1711" href="#line-1711"> 1711</a> The DNS assumes that messages will be transmitted as datagrams or in a     
<a class="line" id="line-1712" href="#line-1712"> 1712</a> byte stream carried by a virtual circuit.  While virtual circuits can be   
<a class="line" id="line-1713" href="#line-1713"> 1713</a> used for any DNS activity, datagrams are preferred for queries due to      
<a class="line" id="line-1714" href="#line-1714"> 1714</a> their lower overhead and better performance.  Zone refresh activities      
<a class="line" id="line-1715" href="#line-1715"> 1715</a> must use virtual circuits because of the need for reliable transfer.       
<a class="line" id="line-1716" href="#line-1716"> 1716</a>                                                                            
<a class="line" id="line-1717" href="#line-1717"> 1717</a> The Internet supports name server access using TCP [<a href="https://datatracker.ietf.org/doc/rfc793/" title="&quot;Transmission Control Protocol&quot;">RFC-793</a>] on server     
<a class="line" id="line-1718" href="#line-1718"> 1718</a> port 53 (decimal) as well as datagram access using UDP [<a href="https://datatracker.ietf.org/doc/rfc768/" title="&quot;User Datagram Protocol&quot;">RFC-768</a>] on UDP    
<a class="line" id="line-1719" href="#line-1719"> 1719</a> port 53 (decimal).                                                         
<a class="line" id="line-1720" href="#line-1720"> 1720</a>                                                                            
<a class="line" id="line-1721" href="#line-1721"> 1721</a> <span class="h4"><a class="selflink" id="section-4.2.1" href="#section-4.2.1">4.2.1</a>. UDP usage</span>                                                           
<a class="line" id="line-1722" href="#line-1722"> 1722</a>                                                                            
<a class="line" id="line-1723" href="#line-1723"> 1723</a> Messages sent using UDP user server port 53 (decimal).                     
<a class="line" id="line-1724" href="#line-1724"> 1724</a>                                                                            
<a class="line" id="line-1725" href="#line-1725"> 1725</a> Messages carried by UDP are restricted to 512 bytes (not counting the IP   
<a class="line" id="line-1726" href="#line-1726"> 1726</a> or UDP headers).  Longer messages are truncated and the TC bit is set in   
<a class="line" id="line-1727" href="#line-1727"> 1727</a> the header.                                                                
<a class="line" id="line-1728" href="#line-1728"> 1728</a>                                                                            
<a class="line" id="line-1729" href="#line-1729"> 1729</a> UDP is not acceptable for zone transfers, but is the recommended method    
<a class="line" id="line-1730" href="#line-1730"> 1730</a> for standard queries in the Internet.  Queries sent using UDP may be       
<a class="line" id="line-1731" href="#line-1731"> 1731</a> lost, and hence a retransmission strategy is required.  Queries or their   
<a class="line" id="line-1732" href="#line-1732"> 1732</a> responses may be reordered by the network, or by processing in name        
<a class="line" id="line-1733" href="#line-1733"> 1733</a> servers, so resolvers should not depend on them being returned in order.   
<a class="line" id="line-1734" href="#line-1734"> 1734</a>                                                                            
<a class="line" id="line-1735" href="#line-1735"> 1735</a> The optimal UDP retransmission policy will vary with performance of the    
<a class="line" id="line-1736" href="#line-1736"> 1736</a> Internet and the needs of the client, but the following are recommended:   
<a class="line" id="line-1737" href="#line-1737"> 1737</a>                                                                            
<a class="line" id="line-1738" href="#line-1738"> 1738</a>    - The client should try other servers and server addresses              
<a class="line" id="line-1739" href="#line-1739"> 1739</a>      before repeating a query to a specific address of a server.           
<a class="line" id="line-1740" href="#line-1740"> 1740</a>                                                                            
<a class="line" id="line-1741" href="#line-1741"> 1741</a>    - The retransmission interval should be based on prior                  
<a class="line" id="line-1742" href="#line-1742"> 1742</a>      statistics if possible.  Too aggressive retransmission can            
<a class="line" id="line-1743" href="#line-1743"> 1743</a>      easily slow responses for the community at large.  Depending          
<a class="line" id="line-1744" href="#line-1744"> 1744</a>      on how well connected the client is to its expected servers,          
<a class="line" id="line-1745" href="#line-1745"> 1745</a>      the minimum retransmission interval should be 2-5 seconds.            
<a class="line" id="line-1746" href="#line-1746"> 1746</a>                                                                            
<a class="line" id="line-1747" href="#line-1747"> 1747</a> More suggestions on server selection and retransmission policy can be      
<a class="line" id="line-1748" href="#line-1748"> 1748</a> found in the resolver section of this memo.                                
<a class="line" id="line-1749" href="#line-1749"> 1749</a>                                                                            
<a class="line" id="line-1750" href="#line-1750"> 1750</a> <span class="h4"><a class="selflink" id="section-4.2.2" href="#section-4.2.2">4.2.2</a>. TCP usage</span>                                                           
<a class="line" id="line-1751" href="#line-1751"> 1751</a>                                                                            
<a class="line" id="line-1752" href="#line-1752"> 1752</a> Messages sent over TCP connections use server port 53 (decimal).  The      
<a class="line" id="line-1753" href="#line-1753"> 1753</a> message is prefixed with a two byte length field which gives the message   
<a class="line" id="line-1754" href="#line-1754"> 1754</a>                                                                            
<a class="line" id="line-1755" href="#line-1755"> 1755</a>                                                                            
<a class="line" id="line-1756" href="#line-1756"> 1756</a>                                                                            
<a class="line" id="line-1757" href="#line-1757"> 1757</a> <span class="grey">Mockapetris                                                    [Page 32]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-33" ></span><a class="line" id="line-1758" href="#line-1758"> 1758</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-1759" href="#line-1759"> 1759</a>                                                                            
<a class="line" id="line-1760" href="#line-1760"> 1760</a>                                                                            
<a class="line" id="line-1761" href="#line-1761"> 1761</a> length, excluding the two byte length field.  This length field allows     
<a class="line" id="line-1762" href="#line-1762"> 1762</a> the low-level processing to assemble a complete message before beginning   
<a class="line" id="line-1763" href="#line-1763"> 1763</a> to parse it.                                                               
<a class="line" id="line-1764" href="#line-1764"> 1764</a>                                                                            
<a class="line" id="line-1765" href="#line-1765"> 1765</a> Several connection management policies are recommended:                    
<a class="line" id="line-1766" href="#line-1766"> 1766</a>                                                                            
<a class="line" id="line-1767" href="#line-1767"> 1767</a>    - The server should not block other activities waiting for TCP          
<a class="line" id="line-1768" href="#line-1768"> 1768</a>      data.                                                                 
<a class="line" id="line-1769" href="#line-1769"> 1769</a>                                                                            
<a class="line" id="line-1770" href="#line-1770"> 1770</a>    - The server should support multiple connections.                       
<a class="line" id="line-1771" href="#line-1771"> 1771</a>                                                                            
<a class="line" id="line-1772" href="#line-1772"> 1772</a>    - The server should assume that the client will initiate                
<a class="line" id="line-1773" href="#line-1773"> 1773</a>      connection closing, and should delay closing its end of the           
<a class="line" id="line-1774" href="#line-1774"> 1774</a>      connection until all outstanding client requests have been            
<a class="line" id="line-1775" href="#line-1775"> 1775</a>      satisfied.                                                            
<a class="line" id="line-1776" href="#line-1776"> 1776</a>                                                                            
<a class="line" id="line-1777" href="#line-1777"> 1777</a>    - If the server needs to close a dormant connection to reclaim          
<a class="line" id="line-1778" href="#line-1778"> 1778</a>      resources, it should wait until the connection has been idle          
<a class="line" id="line-1779" href="#line-1779"> 1779</a>      for a period on the order of two minutes.  In particular, the         
<a class="line" id="line-1780" href="#line-1780"> 1780</a>      server should allow the SOA and AXFR request sequence (which          
<a class="line" id="line-1781" href="#line-1781"> 1781</a>      begins a refresh operation) to be made on a single connection.        
<a class="line" id="line-1782" href="#line-1782"> 1782</a>      Since the server would be unable to answer queries anyway, a          
<a class="line" id="line-1783" href="#line-1783"> 1783</a>      unilateral close or reset may be used instead of a graceful           
<a class="line" id="line-1784" href="#line-1784"> 1784</a>      close.                                                                
<a class="line" id="line-1785" href="#line-1785"> 1785</a>                                                                            
<a class="line" id="line-1786" href="#line-1786"> 1786</a> <span class="h2"><a class="selflink" id="section-5" href="#section-5">5</a>. MASTER FILES</span>                                                            
<a class="line" id="line-1787" href="#line-1787"> 1787</a>                                                                            
<a class="line" id="line-1788" href="#line-1788"> 1788</a> Master files are text files that contain RRs in text form.  Since the      
<a class="line" id="line-1789" href="#line-1789"> 1789</a> contents of a zone can be expressed in the form of a list of RRs a         
<a class="line" id="line-1790" href="#line-1790"> 1790</a> master file is most often used to define a zone, though it can be used     
<a class="line" id="line-1791" href="#line-1791"> 1791</a> to list a cache&#x27;s contents.  Hence, this section first discusses the       
<a class="line" id="line-1792" href="#line-1792"> 1792</a> format of RRs in a master file, and then the special considerations when   
<a class="line" id="line-1793" href="#line-1793"> 1793</a> a master file is used to create a zone in some name server.                
<a class="line" id="line-1794" href="#line-1794"> 1794</a>                                                                            
<a class="line" id="line-1795" href="#line-1795"> 1795</a> <span class="h3"><a class="selflink" id="section-5.1" href="#section-5.1">5.1</a>. Format</span>                                                                
<a class="line" id="line-1796" href="#line-1796"> 1796</a>                                                                            
<a class="line" id="line-1797" href="#line-1797"> 1797</a> The format of these files is a sequence of entries.  Entries are           
<a class="line" id="line-1798" href="#line-1798"> 1798</a> predominantly line-oriented, though parentheses can be used to continue    
<a class="line" id="line-1799" href="#line-1799"> 1799</a> a list of items across a line boundary, and text literals can contain      
<a class="line" id="line-1800" href="#line-1800"> 1800</a> CRLF within the text.  Any combination of tabs and spaces act as a         
<a class="line" id="line-1801" href="#line-1801"> 1801</a> delimiter between the separate items that make up an entry.  The end of    
<a class="line" id="line-1802" href="#line-1802"> 1802</a> any line in the master file can end with a comment.  The comment starts    
<a class="line" id="line-1803" href="#line-1803"> 1803</a> with a &quot;;&quot; (semicolon).                                                    
<a class="line" id="line-1804" href="#line-1804"> 1804</a>                                                                            
<a class="line" id="line-1805" href="#line-1805"> 1805</a> The following entries are defined:                                         
<a class="line" id="line-1806" href="#line-1806"> 1806</a>                                                                            
<a class="line" id="line-1807" href="#line-1807"> 1807</a>     &lt;blank&gt;[&lt;comment&gt;]                                                     
<a class="line" id="line-1808" href="#line-1808"> 1808</a>                                                                            
<a class="line" id="line-1809" href="#line-1809"> 1809</a>                                                                            
<a class="line" id="line-1810" href="#line-1810"> 1810</a>                                                                            
<a class="line" id="line-1811" href="#line-1811"> 1811</a>                                                                            
<a class="line" id="line-1812" href="#line-1812"> 1812</a> <span class="grey">Mockapetris                                                    [Page 33]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-34" ></span><a class="line" id="line-1813" href="#line-1813"> 1813</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-1814" href="#line-1814"> 1814</a>                                                                            
<a class="line" id="line-1815" href="#line-1815"> 1815</a>                                                                            
<a class="line" id="line-1816" href="#line-1816"> 1816</a>     $ORIGIN &lt;domain-name&gt; [&lt;comment&gt;]                                      
<a class="line" id="line-1817" href="#line-1817"> 1817</a>                                                                            
<a class="line" id="line-1818" href="#line-1818"> 1818</a>     $INCLUDE &lt;file-name&gt; [&lt;domain-name&gt;] [&lt;comment&gt;]                       
<a class="line" id="line-1819" href="#line-1819"> 1819</a>                                                                            
<a class="line" id="line-1820" href="#line-1820"> 1820</a>     &lt;domain-name&gt;&lt;rr&gt; [&lt;comment&gt;]                                          
<a class="line" id="line-1821" href="#line-1821"> 1821</a>                                                                            
<a class="line" id="line-1822" href="#line-1822"> 1822</a>     &lt;blank&gt;&lt;rr&gt; [&lt;comment&gt;]                                                
<a class="line" id="line-1823" href="#line-1823"> 1823</a>                                                                            
<a class="line" id="line-1824" href="#line-1824"> 1824</a> Blank lines, with or without comments, are allowed anywhere in the file.   
<a class="line" id="line-1825" href="#line-1825"> 1825</a>                                                                            
<a class="line" id="line-1826" href="#line-1826"> 1826</a> Two control entries are defined: $ORIGIN and $INCLUDE.  $ORIGIN is         
<a class="line" id="line-1827" href="#line-1827"> 1827</a> followed by a domain name, and resets the current origin for relative      
<a class="line" id="line-1828" href="#line-1828"> 1828</a> domain names to the stated name.  $INCLUDE inserts the named file into     
<a class="line" id="line-1829" href="#line-1829"> 1829</a> the current file, and may optionally specify a domain name that sets the   
<a class="line" id="line-1830" href="#line-1830"> 1830</a> relative domain name origin for the included file.  $INCLUDE may also      
<a class="line" id="line-1831" href="#line-1831"> 1831</a> have a comment.  Note that a $INCLUDE entry never changes the relative     
<a class="line" id="line-1832" href="#line-1832"> 1832</a> origin of the parent file, regardless of changes to the relative origin    
<a class="line" id="line-1833" href="#line-1833"> 1833</a> made within the included file.                                             
<a class="line" id="line-1834" href="#line-1834"> 1834</a>                                                                            
<a class="line" id="line-1835" href="#line-1835"> 1835</a> The last two forms represent RRs.  If an entry for an RR begins with a     
<a class="line" id="line-1836" href="#line-1836"> 1836</a> blank, then the RR is assumed to be owned by the last stated owner.  If    
<a class="line" id="line-1837" href="#line-1837"> 1837</a> an RR entry begins with a &lt;domain-name&gt;, then the owner name is reset.     
<a class="line" id="line-1838" href="#line-1838"> 1838</a>                                                                            
<a class="line" id="line-1839" href="#line-1839"> 1839</a> &lt;rr&gt; contents take one of the following forms:                             
<a class="line" id="line-1840" href="#line-1840"> 1840</a>                                                                            
<a class="line" id="line-1841" href="#line-1841"> 1841</a>     [&lt;TTL&gt;] [&lt;class&gt;] &lt;type&gt; &lt;RDATA&gt;                                       
<a class="line" id="line-1842" href="#line-1842"> 1842</a>                                                                            
<a class="line" id="line-1843" href="#line-1843"> 1843</a>     [&lt;class&gt;] [&lt;TTL&gt;] &lt;type&gt; &lt;RDATA&gt;                                       
<a class="line" id="line-1844" href="#line-1844"> 1844</a>                                                                            
<a class="line" id="line-1845" href="#line-1845"> 1845</a> The RR begins with optional TTL and class fields, followed by a type and   
<a class="line" id="line-1846" href="#line-1846"> 1846</a> RDATA field appropriate to the type and class.  Class and type use the     
<a class="line" id="line-1847" href="#line-1847"> 1847</a> standard mnemonics, TTL is a decimal integer.  Omitted class and TTL       
<a class="line" id="line-1848" href="#line-1848"> 1848</a> values are default to the last explicitly stated values.  Since type and   
<a class="line" id="line-1849" href="#line-1849"> 1849</a> class mnemonics are disjoint, the parse is unique.  (Note that this        
<a class="line" id="line-1850" href="#line-1850"> 1850</a> order is different from the order used in examples and the order used in   
<a class="line" id="line-1851" href="#line-1851"> 1851</a> the actual RRs; the given order allows easier parsing and defaulting.)     
<a class="line" id="line-1852" href="#line-1852"> 1852</a>                                                                            
<a class="line" id="line-1853" href="#line-1853"> 1853</a> &lt;domain-name&gt;s make up a large share of the data in the master file.       
<a class="line" id="line-1854" href="#line-1854"> 1854</a> The labels in the domain name are expressed as character strings and       
<a class="line" id="line-1855" href="#line-1855"> 1855</a> separated by dots.  Quoting conventions allow arbitrary characters to be   
<a class="line" id="line-1856" href="#line-1856"> 1856</a> stored in domain names.  Domain names that end in a dot are called         
<a class="line" id="line-1857" href="#line-1857"> 1857</a> absolute, and are taken as complete.  Domain names which do not end in a   
<a class="line" id="line-1858" href="#line-1858"> 1858</a> dot are called relative; the actual domain name is the concatenation of    
<a class="line" id="line-1859" href="#line-1859"> 1859</a> the relative part with an origin specified in a $ORIGIN, $INCLUDE, or as   
<a class="line" id="line-1860" href="#line-1860"> 1860</a> an argument to the master file loading routine.  A relative name is an     
<a class="line" id="line-1861" href="#line-1861"> 1861</a> error when no origin is available.                                         
<a class="line" id="line-1862" href="#line-1862"> 1862</a>                                                                            
<a class="line" id="line-1863" href="#line-1863"> 1863</a>                                                                            
<a class="line" id="line-1864" href="#line-1864"> 1864</a>                                                                            
<a class="line" id="line-1865" href="#line-1865"> 1865</a>                                                                            
<a class="line" id="line-1866" href="#line-1866"> 1866</a>                                                                            
<a class="line" id="line-1867" href="#line-1867"> 1867</a> <span class="grey">Mockapetris                                                    [Page 34]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-35" ></span><a class="line" id="line-1868" href="#line-1868"> 1868</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-1869" href="#line-1869"> 1869</a>                                                                            
<a class="line" id="line-1870" href="#line-1870"> 1870</a>                                                                            
<a class="line" id="line-1871" href="#line-1871"> 1871</a> &lt;character-string&gt; is expressed in one or two ways: as a contiguous set    
<a class="line" id="line-1872" href="#line-1872"> 1872</a> of characters without interior spaces, or as a string beginning with a &quot;   
<a class="line" id="line-1873" href="#line-1873"> 1873</a> and ending with a &quot;.  Inside a &quot; delimited string any character can        
<a class="line" id="line-1874" href="#line-1874"> 1874</a> occur, except for a &quot; itself, which must be quoted using \ (back slash).   
<a class="line" id="line-1875" href="#line-1875"> 1875</a>                                                                            
<a class="line" id="line-1876" href="#line-1876"> 1876</a> Because these files are text files several special encodings are           
<a class="line" id="line-1877" href="#line-1877"> 1877</a> necessary to allow arbitrary data to be loaded.  In particular:            
<a class="line" id="line-1878" href="#line-1878"> 1878</a>                                                                            
<a class="line" id="line-1879" href="#line-1879"> 1879</a>                 of the root.                                               
<a class="line" id="line-1880" href="#line-1880"> 1880</a>                                                                            
<a class="line" id="line-1881" href="#line-1881"> 1881</a> @               A free standing @ is used to denote the current origin.    
<a class="line" id="line-1882" href="#line-1882"> 1882</a>                                                                            
<a class="line" id="line-1883" href="#line-1883"> 1883</a> \X              where X is any character other than a digit (0-9), is      
<a class="line" id="line-1884" href="#line-1884"> 1884</a>                 used to quote that character so that its special meaning   
<a class="line" id="line-1885" href="#line-1885"> 1885</a>                 does not apply.  For example, &quot;\.&quot; can be used to place    
<a class="line" id="line-1886" href="#line-1886"> 1886</a>                 a dot character in a label.                                
<a class="line" id="line-1887" href="#line-1887"> 1887</a>                                                                            
<a class="line" id="line-1888" href="#line-1888"> 1888</a> \DDD            where each D is a digit is the octet corresponding to      
<a class="line" id="line-1889" href="#line-1889"> 1889</a>                 the decimal number described by DDD.  The resulting        
<a class="line" id="line-1890" href="#line-1890"> 1890</a>                 octet is assumed to be text and is not checked for         
<a class="line" id="line-1891" href="#line-1891"> 1891</a>                 special meaning.                                           
<a class="line" id="line-1892" href="#line-1892"> 1892</a>                                                                            
<a class="line" id="line-1893" href="#line-1893"> 1893</a> ( )             Parentheses are used to group data that crosses a line     
<a class="line" id="line-1894" href="#line-1894"> 1894</a>                 boundary.  In effect, line terminations are not            
<a class="line" id="line-1895" href="#line-1895"> 1895</a>                 recognized within parentheses.                             
<a class="line" id="line-1896" href="#line-1896"> 1896</a>                                                                            
<a class="line" id="line-1897" href="#line-1897"> 1897</a> ;               Semicolon is used to start a comment; the remainder of     
<a class="line" id="line-1898" href="#line-1898"> 1898</a>                 the line is ignored.                                       
<a class="line" id="line-1899" href="#line-1899"> 1899</a>                                                                            
<a class="line" id="line-1900" href="#line-1900"> 1900</a> <span class="h3"><a class="selflink" id="section-5.2" href="#section-5.2">5.2</a>. Use of master files to define zones</span>                                   
<a class="line" id="line-1901" href="#line-1901"> 1901</a>                                                                            
<a class="line" id="line-1902" href="#line-1902"> 1902</a> When a master file is used to load a zone, the operation should be         
<a class="line" id="line-1903" href="#line-1903"> 1903</a> suppressed if any errors are encountered in the master file.  The          
<a class="line" id="line-1904" href="#line-1904"> 1904</a> rationale for this is that a single error can have widespread              
<a class="line" id="line-1905" href="#line-1905"> 1905</a> consequences.  For example, suppose that the RRs defining a delegation     
<a class="line" id="line-1906" href="#line-1906"> 1906</a> have syntax errors; then the server will return authoritative name         
<a class="line" id="line-1907" href="#line-1907"> 1907</a> errors for all names in the subzone (except in the case where the          
<a class="line" id="line-1908" href="#line-1908"> 1908</a> subzone is also present on the server).                                    
<a class="line" id="line-1909" href="#line-1909"> 1909</a>                                                                            
<a class="line" id="line-1910" href="#line-1910"> 1910</a> Several other validity checks that should be performed in addition to      
<a class="line" id="line-1911" href="#line-1911"> 1911</a> insuring that the file is syntactically correct:                           
<a class="line" id="line-1912" href="#line-1912"> 1912</a>                                                                            
<a class="line" id="line-1913" href="#line-1913"> 1913</a>    1. All RRs in the file should have the same class.                      
<a class="line" id="line-1914" href="#line-1914"> 1914</a>                                                                            
<a class="line" id="line-1915" href="#line-1915"> 1915</a>    2. Exactly one SOA RR should be present at the top of the zone.         
<a class="line" id="line-1916" href="#line-1916"> 1916</a>                                                                            
<a class="line" id="line-1917" href="#line-1917"> 1917</a>    3. If delegations are present and glue information is required,         
<a class="line" id="line-1918" href="#line-1918"> 1918</a>       it should be present.                                                
<a class="line" id="line-1919" href="#line-1919"> 1919</a>                                                                            
<a class="line" id="line-1920" href="#line-1920"> 1920</a>                                                                            
<a class="line" id="line-1921" href="#line-1921"> 1921</a>                                                                            
<a class="line" id="line-1922" href="#line-1922"> 1922</a> <span class="grey">Mockapetris                                                    [Page 35]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-36" ></span><a class="line" id="line-1923" href="#line-1923"> 1923</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-1924" href="#line-1924"> 1924</a>                                                                            
<a class="line" id="line-1925" href="#line-1925"> 1925</a>                                                                            
<a class="line" id="line-1926" href="#line-1926"> 1926</a>    4. Information present outside of the authoritative nodes in the        
<a class="line" id="line-1927" href="#line-1927"> 1927</a>       zone should be glue information, rather than the result of an        
<a class="line" id="line-1928" href="#line-1928"> 1928</a>       origin or similar error.                                             
<a class="line" id="line-1929" href="#line-1929"> 1929</a>                                                                            
<a class="line" id="line-1930" href="#line-1930"> 1930</a> <span class="h3"><a class="selflink" id="section-5.3" href="#section-5.3">5.3</a>. Master file example</span>                                                   
<a class="line" id="line-1931" href="#line-1931"> 1931</a>                                                                            
<a class="line" id="line-1932" href="#line-1932"> 1932</a> The following is an example file which might be used to define the         
<a class="line" id="line-1933" href="#line-1933"> 1933</a> ISI.EDU zone.and is loaded with an origin of ISI.EDU:                      
<a class="line" id="line-1934" href="#line-1934"> 1934</a>                                                                            
<a class="line" id="line-1935" href="#line-1935"> 1935</a> @   IN  SOA     VENERA      Action\.domains (                              
<a class="line" id="line-1936" href="#line-1936"> 1936</a>                                  20     ; SERIAL                           
<a class="line" id="line-1937" href="#line-1937"> 1937</a>                                  7200   ; REFRESH                          
<a class="line" id="line-1938" href="#line-1938"> 1938</a>                                  600    ; RETRY                            
<a class="line" id="line-1939" href="#line-1939"> 1939</a>                                  3600000; EXPIRE                           
<a class="line" id="line-1940" href="#line-1940"> 1940</a>                                  60)    ; MINIMUM                          
<a class="line" id="line-1941" href="#line-1941"> 1941</a>                                                                            
<a class="line" id="line-1942" href="#line-1942"> 1942</a>         NS      A.ISI.EDU.                                                 
<a class="line" id="line-1943" href="#line-1943"> 1943</a>         NS      VENERA                                                     
<a class="line" id="line-1944" href="#line-1944"> 1944</a>         NS      VAXA                                                       
<a class="line" id="line-1945" href="#line-1945"> 1945</a>         MX      10      VENERA                                             
<a class="line" id="line-1946" href="#line-1946"> 1946</a>         MX      20      VAXA                                               
<a class="line" id="line-1947" href="#line-1947"> 1947</a>                                                                            
<a class="line" id="line-1948" href="#line-1948"> 1948</a> A       A       26.3.0.103                                                 
<a class="line" id="line-1949" href="#line-1949"> 1949</a>                                                                            
<a class="line" id="line-1950" href="#line-1950"> 1950</a> VENERA  A       10.1.0.52                                                  
<a class="line" id="line-1951" href="#line-1951"> 1951</a>         A       128.9.0.32                                                 
<a class="line" id="line-1952" href="#line-1952"> 1952</a>                                                                            
<a class="line" id="line-1953" href="#line-1953"> 1953</a> VAXA    A       10.2.0.27                                                  
<a class="line" id="line-1954" href="#line-1954"> 1954</a>         A       128.9.0.33                                                 
<a class="line" id="line-1955" href="#line-1955"> 1955</a>                                                                            
<a class="line" id="line-1956" href="#line-1956"> 1956</a>                                                                            
<a class="line" id="line-1957" href="#line-1957"> 1957</a> $INCLUDE &lt;SUBSYS&gt;ISI-MAILBOXES.TXT                                         
<a class="line" id="line-1958" href="#line-1958"> 1958</a>                                                                            
<a class="line" id="line-1959" href="#line-1959"> 1959</a> Where the file &lt;SUBSYS&gt;ISI-MAILBOXES.TXT is:                               
<a class="line" id="line-1960" href="#line-1960"> 1960</a>                                                                            
<a class="line" id="line-1961" href="#line-1961"> 1961</a>     MOE     MB      A.ISI.EDU.                                             
<a class="line" id="line-1962" href="#line-1962"> 1962</a>     LARRY   MB      A.ISI.EDU.                                             
<a class="line" id="line-1963" href="#line-1963"> 1963</a>     CURLEY  MB      A.ISI.EDU.                                             
<a class="line" id="line-1964" href="#line-1964"> 1964</a>     STOOGES MG      MOE                                                    
<a class="line" id="line-1965" href="#line-1965"> 1965</a>             MG      LARRY                                                  
<a class="line" id="line-1966" href="#line-1966"> 1966</a>             MG      CURLEY                                                 
<a class="line" id="line-1967" href="#line-1967"> 1967</a>                                                                            
<a class="line" id="line-1968" href="#line-1968"> 1968</a> Note the use of the \ character in the SOA RR to specify the responsible   
<a class="line" id="line-1969" href="#line-1969"> 1969</a> person mailbox &quot;Action.domains@E.ISI.EDU&quot;.                                 
<a class="line" id="line-1970" href="#line-1970"> 1970</a>                                                                            
<a class="line" id="line-1971" href="#line-1971"> 1971</a>                                                                            
<a class="line" id="line-1972" href="#line-1972"> 1972</a>                                                                            
<a class="line" id="line-1973" href="#line-1973"> 1973</a>                                                                            
<a class="line" id="line-1974" href="#line-1974"> 1974</a>                                                                            
<a class="line" id="line-1975" href="#line-1975"> 1975</a>                                                                            
<a class="line" id="line-1976" href="#line-1976"> 1976</a>                                                                            
<a class="line" id="line-1977" href="#line-1977"> 1977</a> <span class="grey">Mockapetris                                                    [Page 36]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-37" ></span><a class="line" id="line-1978" href="#line-1978"> 1978</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-1979" href="#line-1979"> 1979</a>                                                                            
<a class="line" id="line-1980" href="#line-1980"> 1980</a>                                                                            
<a class="line" id="line-1981" href="#line-1981"> 1981</a> <span class="h2"><a class="selflink" id="section-6" href="#section-6">6</a>. NAME SERVER IMPLEMENTATION</span>                                              
<a class="line" id="line-1982" href="#line-1982"> 1982</a>                                                                            
<a class="line" id="line-1983" href="#line-1983"> 1983</a> <span class="h3"><a class="selflink" id="section-6.1" href="#section-6.1">6.1</a>. Architecture</span>                                                          
<a class="line" id="line-1984" href="#line-1984"> 1984</a>                                                                            
<a class="line" id="line-1985" href="#line-1985"> 1985</a> The optimal structure for the name server will depend on the host          
<a class="line" id="line-1986" href="#line-1986"> 1986</a> operating system and whether the name server is integrated with resolver   
<a class="line" id="line-1987" href="#line-1987"> 1987</a> operations, either by supporting recursive service, or by sharing its      
<a class="line" id="line-1988" href="#line-1988"> 1988</a> database with a resolver.  This section discusses implementation           
<a class="line" id="line-1989" href="#line-1989"> 1989</a> considerations for a name server which shares a database with a            
<a class="line" id="line-1990" href="#line-1990"> 1990</a> resolver, but most of these concerns are present in any name server.       
<a class="line" id="line-1991" href="#line-1991"> 1991</a>                                                                            
<a class="line" id="line-1992" href="#line-1992"> 1992</a> <span class="h4"><a class="selflink" id="section-6.1.1" href="#section-6.1.1">6.1.1</a>. Control</span>                                                             
<a class="line" id="line-1993" href="#line-1993"> 1993</a>                                                                            
<a class="line" id="line-1994" href="#line-1994"> 1994</a> A name server must employ multiple concurrent activities, whether they     
<a class="line" id="line-1995" href="#line-1995"> 1995</a> are implemented as separate tasks in the host&#x27;s OS or multiplexing         
<a class="line" id="line-1996" href="#line-1996"> 1996</a> inside a single name server program.  It is simply not acceptable for a    
<a class="line" id="line-1997" href="#line-1997"> 1997</a> name server to block the service of UDP requests while it waits for TCP    
<a class="line" id="line-1998" href="#line-1998"> 1998</a> data for refreshing or query activities.  Similarly, a name server         
<a class="line" id="line-1999" href="#line-1999"> 1999</a> should not attempt to provide recursive service without processing such    
<a class="line" id="line-2000" href="#line-2000"> 2000</a> requests in parallel, though it may choose to serialize requests from a    
<a class="line" id="line-2001" href="#line-2001"> 2001</a> single client, or to regard identical requests from the same client as     
<a class="line" id="line-2002" href="#line-2002"> 2002</a> duplicates.  A name server should not substantially delay requests while   
<a class="line" id="line-2003" href="#line-2003"> 2003</a> it reloads a zone from master files or while it incorporates a newly       
<a class="line" id="line-2004" href="#line-2004"> 2004</a> refreshed zone into its database.                                          
<a class="line" id="line-2005" href="#line-2005"> 2005</a>                                                                            
<a class="line" id="line-2006" href="#line-2006"> 2006</a> <span class="h4"><a class="selflink" id="section-6.1.2" href="#section-6.1.2">6.1.2</a>. Database</span>                                                            
<a class="line" id="line-2007" href="#line-2007"> 2007</a>                                                                            
<a class="line" id="line-2008" href="#line-2008"> 2008</a> While name server implementations are free to use any internal data        
<a class="line" id="line-2009" href="#line-2009"> 2009</a> structures they choose, the suggested structure consists of three major    
<a class="line" id="line-2010" href="#line-2010"> 2010</a> parts:                                                                     
<a class="line" id="line-2011" href="#line-2011"> 2011</a>                                                                            
<a class="line" id="line-2012" href="#line-2012"> 2012</a>    - A &quot;catalog&quot; data structure which lists the zones available to         
<a class="line" id="line-2013" href="#line-2013"> 2013</a>      this server, and a &quot;pointer&quot; to the zone data structure.  The         
<a class="line" id="line-2014" href="#line-2014"> 2014</a>      main purpose of this structure is to find the nearest ancestor        
<a class="line" id="line-2015" href="#line-2015"> 2015</a>      zone, if any, for arriving standard queries.                          
<a class="line" id="line-2016" href="#line-2016"> 2016</a>                                                                            
<a class="line" id="line-2017" href="#line-2017"> 2017</a>    - Separate data structures for each of the zones held by the            
<a class="line" id="line-2018" href="#line-2018"> 2018</a>      name server.                                                          
<a class="line" id="line-2019" href="#line-2019"> 2019</a>                                                                            
<a class="line" id="line-2020" href="#line-2020"> 2020</a>    - A data structure for cached data. (or perhaps separate caches         
<a class="line" id="line-2021" href="#line-2021"> 2021</a>      for different classes)                                                
<a class="line" id="line-2022" href="#line-2022"> 2022</a>                                                                            
<a class="line" id="line-2023" href="#line-2023"> 2023</a> All of these data structures can be implemented an identical tree          
<a class="line" id="line-2024" href="#line-2024"> 2024</a> structure format, with different data chained off the nodes in different   
<a class="line" id="line-2025" href="#line-2025"> 2025</a> parts: in the catalog the data is pointers to zones, while in the zone     
<a class="line" id="line-2026" href="#line-2026"> 2026</a> and cache data structures, the data will be RRs.  In designing the tree    
<a class="line" id="line-2027" href="#line-2027"> 2027</a> framework the designer should recognize that query processing will need    
<a class="line" id="line-2028" href="#line-2028"> 2028</a> to traverse the tree using case-insensitive label comparisons; and that    
<a class="line" id="line-2029" href="#line-2029"> 2029</a>                                                                            
<a class="line" id="line-2030" href="#line-2030"> 2030</a>                                                                            
<a class="line" id="line-2031" href="#line-2031"> 2031</a>                                                                            
<a class="line" id="line-2032" href="#line-2032"> 2032</a> <span class="grey">Mockapetris                                                    [Page 37]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-38" ></span><a class="line" id="line-2033" href="#line-2033"> 2033</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-2034" href="#line-2034"> 2034</a>                                                                            
<a class="line" id="line-2035" href="#line-2035"> 2035</a>                                                                            
<a class="line" id="line-2036" href="#line-2036"> 2036</a> in real data, a few nodes have a very high branching factor (100-1000 or   
<a class="line" id="line-2037" href="#line-2037"> 2037</a> more), but the vast majority have a very low branching factor (0-1).       
<a class="line" id="line-2038" href="#line-2038"> 2038</a>                                                                            
<a class="line" id="line-2039" href="#line-2039"> 2039</a> One way to solve the case problem is to store the labels for each node     
<a class="line" id="line-2040" href="#line-2040"> 2040</a> in two pieces: a standardized-case representation of the label where all   
<a class="line" id="line-2041" href="#line-2041"> 2041</a> ASCII characters are in a single case, together with a bit mask that       
<a class="line" id="line-2042" href="#line-2042"> 2042</a> denotes which characters are actually of a different case.  The            
<a class="line" id="line-2043" href="#line-2043"> 2043</a> branching factor diversity can be handled using a simple linked list for   
<a class="line" id="line-2044" href="#line-2044"> 2044</a> a node until the branching factor exceeds some threshold, and              
<a class="line" id="line-2045" href="#line-2045"> 2045</a> transitioning to a hash structure after the threshold is exceeded.  In     
<a class="line" id="line-2046" href="#line-2046"> 2046</a> any case, hash structures used to store tree sections must insure that     
<a class="line" id="line-2047" href="#line-2047"> 2047</a> hash functions and procedures preserve the casing conventions of the       
<a class="line" id="line-2048" href="#line-2048"> 2048</a> DNS.                                                                       
<a class="line" id="line-2049" href="#line-2049"> 2049</a>                                                                            
<a class="line" id="line-2050" href="#line-2050"> 2050</a> The use of separate structures for the different parts of the database     
<a class="line" id="line-2051" href="#line-2051"> 2051</a> is motivated by several factors:                                           
<a class="line" id="line-2052" href="#line-2052"> 2052</a>                                                                            
<a class="line" id="line-2053" href="#line-2053"> 2053</a>    - The catalog structure can be an almost static structure that          
<a class="line" id="line-2054" href="#line-2054"> 2054</a>      need change only when the system administrator changes the            
<a class="line" id="line-2055" href="#line-2055"> 2055</a>      zones supported by the server.  This structure can also be            
<a class="line" id="line-2056" href="#line-2056"> 2056</a>      used to store parameters used to control refreshing                   
<a class="line" id="line-2057" href="#line-2057"> 2057</a>      activities.                                                           
<a class="line" id="line-2058" href="#line-2058"> 2058</a>                                                                            
<a class="line" id="line-2059" href="#line-2059"> 2059</a>    - The individual data structures for zones allow a zone to be           
<a class="line" id="line-2060" href="#line-2060"> 2060</a>      replaced simply by changing a pointer in the catalog.  Zone           
<a class="line" id="line-2061" href="#line-2061"> 2061</a>      refresh operations can build a new structure and, when                
<a class="line" id="line-2062" href="#line-2062"> 2062</a>      complete, splice it into the database via a simple pointer            
<a class="line" id="line-2063" href="#line-2063"> 2063</a>      replacement.  It is very important that when a zone is                
<a class="line" id="line-2064" href="#line-2064"> 2064</a>      refreshed, queries should not use old and new data                    
<a class="line" id="line-2065" href="#line-2065"> 2065</a>      simultaneously.                                                       
<a class="line" id="line-2066" href="#line-2066"> 2066</a>                                                                            
<a class="line" id="line-2067" href="#line-2067"> 2067</a>    - With the proper search procedures, authoritative data in zones        
<a class="line" id="line-2068" href="#line-2068"> 2068</a>      will always &quot;hide&quot;, and hence take precedence over, cached            
<a class="line" id="line-2069" href="#line-2069"> 2069</a>      data.                                                                 
<a class="line" id="line-2070" href="#line-2070"> 2070</a>                                                                            
<a class="line" id="line-2071" href="#line-2071"> 2071</a>    - Errors in zone definitions that cause overlapping zones, etc.,        
<a class="line" id="line-2072" href="#line-2072"> 2072</a>      may cause erroneous responses to queries, but problem                 
<a class="line" id="line-2073" href="#line-2073"> 2073</a>      determination is simplified, and the contents of one &quot;bad&quot;            
<a class="line" id="line-2074" href="#line-2074"> 2074</a>      zone can&#x27;t corrupt another.                                           
<a class="line" id="line-2075" href="#line-2075"> 2075</a>                                                                            
<a class="line" id="line-2076" href="#line-2076"> 2076</a>    - Since the cache is most frequently updated, it is most                
<a class="line" id="line-2077" href="#line-2077"> 2077</a>      vulnerable to corruption during system restarts.  It can also         
<a class="line" id="line-2078" href="#line-2078"> 2078</a>      become full of expired RR data.  In either case, it can easily        
<a class="line" id="line-2079" href="#line-2079"> 2079</a>      be discarded without disturbing zone data.                            
<a class="line" id="line-2080" href="#line-2080"> 2080</a>                                                                            
<a class="line" id="line-2081" href="#line-2081"> 2081</a> A major aspect of database design is selecting a structure which allows    
<a class="line" id="line-2082" href="#line-2082"> 2082</a> the name server to deal with crashes of the name server&#x27;s host.  State     
<a class="line" id="line-2083" href="#line-2083"> 2083</a> information which a name server should save across system crashes          
<a class="line" id="line-2084" href="#line-2084"> 2084</a>                                                                            
<a class="line" id="line-2085" href="#line-2085"> 2085</a>                                                                            
<a class="line" id="line-2086" href="#line-2086"> 2086</a>                                                                            
<a class="line" id="line-2087" href="#line-2087"> 2087</a> <span class="grey">Mockapetris                                                    [Page 38]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-39" ></span><a class="line" id="line-2088" href="#line-2088"> 2088</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-2089" href="#line-2089"> 2089</a>                                                                            
<a class="line" id="line-2090" href="#line-2090"> 2090</a>                                                                            
<a class="line" id="line-2091" href="#line-2091"> 2091</a> includes the catalog structure (including the state of refreshing for      
<a class="line" id="line-2092" href="#line-2092"> 2092</a> each zone) and the zone data itself.                                       
<a class="line" id="line-2093" href="#line-2093"> 2093</a>                                                                            
<a class="line" id="line-2094" href="#line-2094"> 2094</a> <span class="h4"><a class="selflink" id="section-6.1.3" href="#section-6.1.3">6.1.3</a>. Time</span>                                                                
<a class="line" id="line-2095" href="#line-2095"> 2095</a>                                                                            
<a class="line" id="line-2096" href="#line-2096"> 2096</a> Both the TTL data for RRs and the timing data for refreshing activities    
<a class="line" id="line-2097" href="#line-2097"> 2097</a> depends on 32 bit timers in units of seconds.  Inside the database,        
<a class="line" id="line-2098" href="#line-2098"> 2098</a> refresh timers and TTLs for cached data conceptually &quot;count down&quot;, while   
<a class="line" id="line-2099" href="#line-2099"> 2099</a> data in the zone stays with constant TTLs.                                 
<a class="line" id="line-2100" href="#line-2100"> 2100</a>                                                                            
<a class="line" id="line-2101" href="#line-2101"> 2101</a> A recommended implementation strategy is to store time in two ways:  as    
<a class="line" id="line-2102" href="#line-2102"> 2102</a> a relative increment and as an absolute time.  One way to do this is to    
<a class="line" id="line-2103" href="#line-2103"> 2103</a> use positive 32 bit numbers for one type and negative numbers for the      
<a class="line" id="line-2104" href="#line-2104"> 2104</a> other.  The RRs in zones use relative times; the refresh timers and        
<a class="line" id="line-2105" href="#line-2105"> 2105</a> cache data use absolute times.  Absolute numbers are taken with respect    
<a class="line" id="line-2106" href="#line-2106"> 2106</a> to some known origin and converted to relative values when placed in the   
<a class="line" id="line-2107" href="#line-2107"> 2107</a> response to a query.  When an absolute TTL is negative after conversion    
<a class="line" id="line-2108" href="#line-2108"> 2108</a> to relative, then the data is expired and should be ignored.               
<a class="line" id="line-2109" href="#line-2109"> 2109</a>                                                                            
<a class="line" id="line-2110" href="#line-2110"> 2110</a> <span class="h3"><a class="selflink" id="section-6.2" href="#section-6.2">6.2</a>. Standard query processing</span>                                             
<a class="line" id="line-2111" href="#line-2111"> 2111</a>                                                                            
<a class="line" id="line-2112" href="#line-2112"> 2112</a> The major algorithm for standard query processing is presented in          
<a class="line" id="line-2113" href="#line-2113"> 2113</a> [<a href="./rfc1034.html">RFC-1034</a>].                                                                
<a class="line" id="line-2114" href="#line-2114"> 2114</a>                                                                            
<a class="line" id="line-2115" href="#line-2115"> 2115</a> When processing queries with QCLASS=*, or some other QCLASS which          
<a class="line" id="line-2116" href="#line-2116"> 2116</a> matches multiple classes, the response should never be authoritative       
<a class="line" id="line-2117" href="#line-2117"> 2117</a> unless the server can guarantee that the response covers all classes.      
<a class="line" id="line-2118" href="#line-2118"> 2118</a>                                                                            
<a class="line" id="line-2119" href="#line-2119"> 2119</a> When composing a response, RRs which are to be inserted in the             
<a class="line" id="line-2120" href="#line-2120"> 2120</a> additional section, but duplicate RRs in the answer or authority           
<a class="line" id="line-2121" href="#line-2121"> 2121</a> sections, may be omitted from the additional section.                      
<a class="line" id="line-2122" href="#line-2122"> 2122</a>                                                                            
<a class="line" id="line-2123" href="#line-2123"> 2123</a> When a response is so long that truncation is required, the truncation     
<a class="line" id="line-2124" href="#line-2124"> 2124</a> should start at the end of the response and work forward in the            
<a class="line" id="line-2125" href="#line-2125"> 2125</a> datagram.  Thus if there is any data for the authority section, the        
<a class="line" id="line-2126" href="#line-2126"> 2126</a> answer section is guaranteed to be unique.                                 
<a class="line" id="line-2127" href="#line-2127"> 2127</a>                                                                            
<a class="line" id="line-2128" href="#line-2128"> 2128</a> The MINIMUM value in the SOA should be used to set a floor on the TTL of   
<a class="line" id="line-2129" href="#line-2129"> 2129</a> data distributed from a zone.  This floor function should be done when     
<a class="line" id="line-2130" href="#line-2130"> 2130</a> the data is copied into a response.  This will allow future dynamic        
<a class="line" id="line-2131" href="#line-2131"> 2131</a> update protocols to change the SOA MINIMUM field without ambiguous         
<a class="line" id="line-2132" href="#line-2132"> 2132</a> semantics.                                                                 
<a class="line" id="line-2133" href="#line-2133"> 2133</a>                                                                            
<a class="line" id="line-2134" href="#line-2134"> 2134</a> <span class="h3"><a class="selflink" id="section-6.3" href="#section-6.3">6.3</a>. Zone refresh and reload processing</span>                                    
<a class="line" id="line-2135" href="#line-2135"> 2135</a>                                                                            
<a class="line" id="line-2136" href="#line-2136"> 2136</a> In spite of a server&#x27;s best efforts, it may be unable to load zone data    
<a class="line" id="line-2137" href="#line-2137"> 2137</a> from a master file due to syntax errors, etc., or be unable to refresh a   
<a class="line" id="line-2138" href="#line-2138"> 2138</a> zone within the its expiration parameter.  In this case, the name server   
<a class="line" id="line-2139" href="#line-2139"> 2139</a>                                                                            
<a class="line" id="line-2140" href="#line-2140"> 2140</a>                                                                            
<a class="line" id="line-2141" href="#line-2141"> 2141</a>                                                                            
<a class="line" id="line-2142" href="#line-2142"> 2142</a> <span class="grey">Mockapetris                                                    [Page 39]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-40" ></span><a class="line" id="line-2143" href="#line-2143"> 2143</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-2144" href="#line-2144"> 2144</a>                                                                            
<a class="line" id="line-2145" href="#line-2145"> 2145</a>                                                                            
<a class="line" id="line-2146" href="#line-2146"> 2146</a> should answer queries as if it were not supposed to possess the zone.      
<a class="line" id="line-2147" href="#line-2147"> 2147</a>                                                                            
<a class="line" id="line-2148" href="#line-2148"> 2148</a> If a master is sending a zone out via AXFR, and a new version is created   
<a class="line" id="line-2149" href="#line-2149"> 2149</a> during the transfer, the master should continue to send the old version    
<a class="line" id="line-2150" href="#line-2150"> 2150</a> if possible.  In any case, it should never send part of one version and    
<a class="line" id="line-2151" href="#line-2151"> 2151</a> part of another.  If completion is not possible, the master should reset   
<a class="line" id="line-2152" href="#line-2152"> 2152</a> the connection on which the zone transfer is taking place.                 
<a class="line" id="line-2153" href="#line-2153"> 2153</a>                                                                            
<a class="line" id="line-2154" href="#line-2154"> 2154</a> <span class="h3"><a class="selflink" id="section-6.4" href="#section-6.4">6.4</a>. Inverse queries (Optional)</span>                                            
<a class="line" id="line-2155" href="#line-2155"> 2155</a>                                                                            
<a class="line" id="line-2156" href="#line-2156"> 2156</a> Inverse queries are an optional part of the DNS.  Name servers are not     
<a class="line" id="line-2157" href="#line-2157"> 2157</a> required to support any form of inverse queries.  If a name server         
<a class="line" id="line-2158" href="#line-2158"> 2158</a> receives an inverse query that it does not support, it returns an error    
<a class="line" id="line-2159" href="#line-2159"> 2159</a> response with the &quot;Not Implemented&quot; error set in the header.  While        
<a class="line" id="line-2160" href="#line-2160"> 2160</a> inverse query support is optional, all name servers must be at least       
<a class="line" id="line-2161" href="#line-2161"> 2161</a> able to return the error response.                                         
<a class="line" id="line-2162" href="#line-2162"> 2162</a>                                                                            
<a class="line" id="line-2163" href="#line-2163"> 2163</a> <span class="h4"><a class="selflink" id="section-6.4.1" href="#section-6.4.1">6.4.1</a>. The contents of inverse queries and responses  </span>        Inverse      
<a class="line" id="line-2164" href="#line-2164"> 2164</a> queries reverse the mappings performed by standard query operations;       
<a class="line" id="line-2165" href="#line-2165"> 2165</a> while a standard query maps a domain name to a resource, an inverse        
<a class="line" id="line-2166" href="#line-2166"> 2166</a> query maps a resource to a domain name.  For example, a standard query     
<a class="line" id="line-2167" href="#line-2167"> 2167</a> might bind a domain name to a host address; the corresponding inverse      
<a class="line" id="line-2168" href="#line-2168"> 2168</a> query binds the host address to a domain name.                             
<a class="line" id="line-2169" href="#line-2169"> 2169</a>                                                                            
<a class="line" id="line-2170" href="#line-2170"> 2170</a> Inverse queries take the form of a single RR in the answer section of      
<a class="line" id="line-2171" href="#line-2171"> 2171</a> the message, with an empty question section.  The owner name of the        
<a class="line" id="line-2172" href="#line-2172"> 2172</a> query RR and its TTL are not significant.  The response carries            
<a class="line" id="line-2173" href="#line-2173"> 2173</a> questions in the question section which identify all names possessing      
<a class="line" id="line-2174" href="#line-2174"> 2174</a> the query RR WHICH THE NAME SERVER KNOWS.  Since no name server knows      
<a class="line" id="line-2175" href="#line-2175"> 2175</a> about all of the domain name space, the response can never be assumed to   
<a class="line" id="line-2176" href="#line-2176"> 2176</a> be complete.  Thus inverse queries are primarily useful for database       
<a class="line" id="line-2177" href="#line-2177"> 2177</a> management and debugging activities.  Inverse queries are NOT an           
<a class="line" id="line-2178" href="#line-2178"> 2178</a> acceptable method of mapping host addresses to host names; use the IN-     
<a class="line" id="line-2179" href="#line-2179"> 2179</a> ADDR.ARPA domain instead.                                                  
<a class="line" id="line-2180" href="#line-2180"> 2180</a>                                                                            
<a class="line" id="line-2181" href="#line-2181"> 2181</a> Where possible, name servers should provide case-insensitive comparisons   
<a class="line" id="line-2182" href="#line-2182"> 2182</a> for inverse queries.  Thus an inverse query asking for an MX RR of         
<a class="line" id="line-2183" href="#line-2183"> 2183</a> &quot;Venera.isi.edu&quot; should get the same response as a query for               
<a class="line" id="line-2184" href="#line-2184"> 2184</a> &quot;VENERA.ISI.EDU&quot;; an inverse query for HINFO RR &quot;IBM-PC UNIX&quot; should       
<a class="line" id="line-2185" href="#line-2185"> 2185</a> produce the same result as an inverse query for &quot;IBM-pc unix&quot;.  However,   
<a class="line" id="line-2186" href="#line-2186"> 2186</a> this cannot be guaranteed because name servers may possess RRs that        
<a class="line" id="line-2187" href="#line-2187"> 2187</a> contain character strings but the name server does not know that the       
<a class="line" id="line-2188" href="#line-2188"> 2188</a> data is character.                                                         
<a class="line" id="line-2189" href="#line-2189"> 2189</a>                                                                            
<a class="line" id="line-2190" href="#line-2190"> 2190</a> When a name server processes an inverse query, it either returns:          
<a class="line" id="line-2191" href="#line-2191"> 2191</a>                                                                            
<a class="line" id="line-2192" href="#line-2192"> 2192</a>    1. zero, one, or multiple domain names for the specified                
<a class="line" id="line-2193" href="#line-2193"> 2193</a>       resource as QNAMEs in the question section                           
<a class="line" id="line-2194" href="#line-2194"> 2194</a>                                                                            
<a class="line" id="line-2195" href="#line-2195"> 2195</a>                                                                            
<a class="line" id="line-2196" href="#line-2196"> 2196</a>                                                                            
<a class="line" id="line-2197" href="#line-2197"> 2197</a> <span class="grey">Mockapetris                                                    [Page 40]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-41" ></span><a class="line" id="line-2198" href="#line-2198"> 2198</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-2199" href="#line-2199"> 2199</a>                                                                            
<a class="line" id="line-2200" href="#line-2200"> 2200</a>                                                                            
<a class="line" id="line-2201" href="#line-2201"> 2201</a>    2. an error code indicating that the name server doesn&#x27;t support        
<a class="line" id="line-2202" href="#line-2202"> 2202</a>       inverse mapping of the specified resource type.                      
<a class="line" id="line-2203" href="#line-2203"> 2203</a>                                                                            
<a class="line" id="line-2204" href="#line-2204"> 2204</a> When the response to an inverse query contains one or more QNAMEs, the     
<a class="line" id="line-2205" href="#line-2205"> 2205</a> owner name and TTL of the RR in the answer section which defines the       
<a class="line" id="line-2206" href="#line-2206"> 2206</a> inverse query is modified to exactly match an RR found at the first        
<a class="line" id="line-2207" href="#line-2207"> 2207</a> QNAME.                                                                     
<a class="line" id="line-2208" href="#line-2208"> 2208</a>                                                                            
<a class="line" id="line-2209" href="#line-2209"> 2209</a> RRs returned in the inverse queries cannot be cached using the same        
<a class="line" id="line-2210" href="#line-2210"> 2210</a> mechanism as is used for the replies to standard queries.  One reason      
<a class="line" id="line-2211" href="#line-2211"> 2211</a> for this is that a name might have multiple RRs of the same type, and      
<a class="line" id="line-2212" href="#line-2212"> 2212</a> only one would appear.  For example, an inverse query for a single         
<a class="line" id="line-2213" href="#line-2213"> 2213</a> address of a multiply homed host might create the impression that only     
<a class="line" id="line-2214" href="#line-2214"> 2214</a> one address existed.                                                       
<a class="line" id="line-2215" href="#line-2215"> 2215</a>                                                                            
<a class="line" id="line-2216" href="#line-2216"> 2216</a> <span class="h4"><a class="selflink" id="section-6.4.2" href="#section-6.4.2">6.4.2</a>. Inverse query and response example  </span>        The overall structure   
<a class="line" id="line-2217" href="#line-2217"> 2217</a> of an inverse query for retrieving the domain name that corresponds to     
<a class="line" id="line-2218" href="#line-2218"> 2218</a> Internet address 10.1.0.52 is shown below:                                 
<a class="line" id="line-2219" href="#line-2219"> 2219</a>                                                                            
<a class="line" id="line-2220" href="#line-2220"> 2220</a>                          +-----------------------------------------+       
<a class="line" id="line-2221" href="#line-2221"> 2221</a>            Header        |          OPCODE=IQUERY, ID=997          |       
<a class="line" id="line-2222" href="#line-2222"> 2222</a>                          +-----------------------------------------+       
<a class="line" id="line-2223" href="#line-2223"> 2223</a>           Question       |                 &lt;empty&gt;                 |       
<a class="line" id="line-2224" href="#line-2224"> 2224</a>                          +-----------------------------------------+       
<a class="line" id="line-2225" href="#line-2225"> 2225</a>            Answer        |        &lt;anyname&gt; A IN 10.1.0.52         |       
<a class="line" id="line-2226" href="#line-2226"> 2226</a>                          +-----------------------------------------+       
<a class="line" id="line-2227" href="#line-2227"> 2227</a>           Authority      |                 &lt;empty&gt;                 |       
<a class="line" id="line-2228" href="#line-2228"> 2228</a>                          +-----------------------------------------+       
<a class="line" id="line-2229" href="#line-2229"> 2229</a>          Additional      |                 &lt;empty&gt;                 |       
<a class="line" id="line-2230" href="#line-2230"> 2230</a>                          +-----------------------------------------+       
<a class="line" id="line-2231" href="#line-2231"> 2231</a>                                                                            
<a class="line" id="line-2232" href="#line-2232"> 2232</a> This query asks for a question whose answer is the Internet style          
<a class="line" id="line-2233" href="#line-2233"> 2233</a> address 10.1.0.52.  Since the owner name is not known, any domain name     
<a class="line" id="line-2234" href="#line-2234"> 2234</a> can be used as a placeholder (and is ignored).  A single octet of zero,    
<a class="line" id="line-2235" href="#line-2235"> 2235</a> signifying the root, is usually used because it minimizes the length of    
<a class="line" id="line-2236" href="#line-2236"> 2236</a> the message.  The TTL of the RR is not significant.  The response to       
<a class="line" id="line-2237" href="#line-2237"> 2237</a> this query might be:                                                       
<a class="line" id="line-2238" href="#line-2238"> 2238</a>                                                                            
<a class="line" id="line-2239" href="#line-2239"> 2239</a>                                                                            
<a class="line" id="line-2240" href="#line-2240"> 2240</a>                                                                            
<a class="line" id="line-2241" href="#line-2241"> 2241</a>                                                                            
<a class="line" id="line-2242" href="#line-2242"> 2242</a>                                                                            
<a class="line" id="line-2243" href="#line-2243"> 2243</a>                                                                            
<a class="line" id="line-2244" href="#line-2244"> 2244</a>                                                                            
<a class="line" id="line-2245" href="#line-2245"> 2245</a>                                                                            
<a class="line" id="line-2246" href="#line-2246"> 2246</a>                                                                            
<a class="line" id="line-2247" href="#line-2247"> 2247</a>                                                                            
<a class="line" id="line-2248" href="#line-2248"> 2248</a>                                                                            
<a class="line" id="line-2249" href="#line-2249"> 2249</a>                                                                            
<a class="line" id="line-2250" href="#line-2250"> 2250</a>                                                                            
<a class="line" id="line-2251" href="#line-2251"> 2251</a>                                                                            
<a class="line" id="line-2252" href="#line-2252"> 2252</a> <span class="grey">Mockapetris                                                    [Page 41]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-42" ></span><a class="line" id="line-2253" href="#line-2253"> 2253</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-2254" href="#line-2254"> 2254</a>                                                                            
<a class="line" id="line-2255" href="#line-2255"> 2255</a>                                                                            
<a class="line" id="line-2256" href="#line-2256"> 2256</a>                          +-----------------------------------------+       
<a class="line" id="line-2257" href="#line-2257"> 2257</a>            Header        |         OPCODE=RESPONSE, ID=997         |       
<a class="line" id="line-2258" href="#line-2258"> 2258</a>                          +-----------------------------------------+       
<a class="line" id="line-2259" href="#line-2259"> 2259</a>           Question       |QTYPE=A, QCLASS=IN, QNAME=VENERA.ISI.EDU |       
<a class="line" id="line-2260" href="#line-2260"> 2260</a>                          +-----------------------------------------+       
<a class="line" id="line-2261" href="#line-2261"> 2261</a>            Answer        |  VENERA.ISI.EDU  A IN 10.1.0.52         |       
<a class="line" id="line-2262" href="#line-2262"> 2262</a>                          +-----------------------------------------+       
<a class="line" id="line-2263" href="#line-2263"> 2263</a>           Authority      |                 &lt;empty&gt;                 |       
<a class="line" id="line-2264" href="#line-2264"> 2264</a>                          +-----------------------------------------+       
<a class="line" id="line-2265" href="#line-2265"> 2265</a>          Additional      |                 &lt;empty&gt;                 |       
<a class="line" id="line-2266" href="#line-2266"> 2266</a>                          +-----------------------------------------+       
<a class="line" id="line-2267" href="#line-2267"> 2267</a>                                                                            
<a class="line" id="line-2268" href="#line-2268"> 2268</a> Note that the QTYPE in a response to an inverse query is the same as the   
<a class="line" id="line-2269" href="#line-2269"> 2269</a> TYPE field in the answer section of the inverse query.  Responses to       
<a class="line" id="line-2270" href="#line-2270"> 2270</a> inverse queries may contain multiple questions when the inverse is not     
<a class="line" id="line-2271" href="#line-2271"> 2271</a> unique.  If the question section in the response is not empty, then the    
<a class="line" id="line-2272" href="#line-2272"> 2272</a> RR in the answer section is modified to correspond to be an exact copy     
<a class="line" id="line-2273" href="#line-2273"> 2273</a> of an RR at the first QNAME.                                               
<a class="line" id="line-2274" href="#line-2274"> 2274</a>                                                                            
<a class="line" id="line-2275" href="#line-2275"> 2275</a> <span class="h4"><a class="selflink" id="section-6.4.3" href="#section-6.4.3">6.4.3</a>. Inverse query processing</span>                                            
<a class="line" id="line-2276" href="#line-2276"> 2276</a>                                                                            
<a class="line" id="line-2277" href="#line-2277"> 2277</a> Name servers that support inverse queries can support these operations     
<a class="line" id="line-2278" href="#line-2278"> 2278</a> through exhaustive searches of their databases, but this becomes           
<a class="line" id="line-2279" href="#line-2279"> 2279</a> impractical as the size of the database increases.  An alternative         
<a class="line" id="line-2280" href="#line-2280"> 2280</a> approach is to invert the database according to the search key.            
<a class="line" id="line-2281" href="#line-2281"> 2281</a>                                                                            
<a class="line" id="line-2282" href="#line-2282"> 2282</a> For name servers that support multiple zones and a large amount of data,   
<a class="line" id="line-2283" href="#line-2283"> 2283</a> the recommended approach is separate inversions for each zone.  When a     
<a class="line" id="line-2284" href="#line-2284"> 2284</a> particular zone is changed during a refresh, only its inversions need to   
<a class="line" id="line-2285" href="#line-2285"> 2285</a> be redone.                                                                 
<a class="line" id="line-2286" href="#line-2286"> 2286</a>                                                                            
<a class="line" id="line-2287" href="#line-2287"> 2287</a> Support for transfer of this type of inversion may be included in future   
<a class="line" id="line-2288" href="#line-2288"> 2288</a> versions of the domain system, but is not supported in this version.       
<a class="line" id="line-2289" href="#line-2289"> 2289</a>                                                                            
<a class="line" id="line-2290" href="#line-2290"> 2290</a> <span class="h3"><a class="selflink" id="section-6.5" href="#section-6.5">6.5</a>. Completion queries and responses</span>                                      
<a class="line" id="line-2291" href="#line-2291"> 2291</a>                                                                            
<a class="line" id="line-2292" href="#line-2292"> 2292</a> The optional completion services described in <a href="https://datatracker.ietf.org/doc/rfc882/">RFC-882</a> and <a href="https://datatracker.ietf.org/doc/rfc883/">RFC-883</a> have     
<a class="line" id="line-2293" href="#line-2293"> 2293</a> been deleted.  Redesigned services may become available in the future.     
<a class="line" id="line-2294" href="#line-2294"> 2294</a>                                                                            
<a class="line" id="line-2295" href="#line-2295"> 2295</a>                                                                            
<a class="line" id="line-2296" href="#line-2296"> 2296</a>                                                                            
<a class="line" id="line-2297" href="#line-2297"> 2297</a>                                                                            
<a class="line" id="line-2298" href="#line-2298"> 2298</a>                                                                            
<a class="line" id="line-2299" href="#line-2299"> 2299</a>                                                                            
<a class="line" id="line-2300" href="#line-2300"> 2300</a>                                                                            
<a class="line" id="line-2301" href="#line-2301"> 2301</a>                                                                            
<a class="line" id="line-2302" href="#line-2302"> 2302</a>                                                                            
<a class="line" id="line-2303" href="#line-2303"> 2303</a>                                                                            
<a class="line" id="line-2304" href="#line-2304"> 2304</a>                                                                            
<a class="line" id="line-2305" href="#line-2305"> 2305</a>                                                                            
<a class="line" id="line-2306" href="#line-2306"> 2306</a>                                                                            
<a class="line" id="line-2307" href="#line-2307"> 2307</a> <span class="grey">Mockapetris                                                    [Page 42]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-43" ></span><a class="line" id="line-2308" href="#line-2308"> 2308</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-2309" href="#line-2309"> 2309</a>                                                                            
<a class="line" id="line-2310" href="#line-2310"> 2310</a>                                                                            
<a class="line" id="line-2311" href="#line-2311"> 2311</a> <span class="h2"><a class="selflink" id="section-7" href="#section-7">7</a>. RESOLVER IMPLEMENTATION</span>                                                 
<a class="line" id="line-2312" href="#line-2312"> 2312</a>                                                                            
<a class="line" id="line-2313" href="#line-2313"> 2313</a> The top levels of the recommended resolver algorithm are discussed in      
<a class="line" id="line-2314" href="#line-2314"> 2314</a> [<a href="./rfc1034.html">RFC-1034</a>].  This section discusses implementation details assuming the    
<a class="line" id="line-2315" href="#line-2315"> 2315</a> database structure suggested in the name server implementation section     
<a class="line" id="line-2316" href="#line-2316"> 2316</a> of this memo.                                                              
<a class="line" id="line-2317" href="#line-2317"> 2317</a>                                                                            
<a class="line" id="line-2318" href="#line-2318"> 2318</a> <span class="h3"><a class="selflink" id="section-7.1" href="#section-7.1">7.1</a>. Transforming a user request into a query</span>                              
<a class="line" id="line-2319" href="#line-2319"> 2319</a>                                                                            
<a class="line" id="line-2320" href="#line-2320"> 2320</a> The first step a resolver takes is to transform the client&#x27;s request,      
<a class="line" id="line-2321" href="#line-2321"> 2321</a> stated in a format suitable to the local OS, into a search specification   
<a class="line" id="line-2322" href="#line-2322"> 2322</a> for RRs at a specific name which match a specific QTYPE and QCLASS.        
<a class="line" id="line-2323" href="#line-2323"> 2323</a> Where possible, the QTYPE and QCLASS should correspond to a single type    
<a class="line" id="line-2324" href="#line-2324"> 2324</a> and a single class, because this makes the use of cached data much         
<a class="line" id="line-2325" href="#line-2325"> 2325</a> simpler.  The reason for this is that the presence of data of one type     
<a class="line" id="line-2326" href="#line-2326"> 2326</a> in a cache doesn&#x27;t confirm the existence or non-existence of data of       
<a class="line" id="line-2327" href="#line-2327"> 2327</a> other types, hence the only way to be sure is to consult an                
<a class="line" id="line-2328" href="#line-2328"> 2328</a> authoritative source.  If QCLASS=* is used, then authoritative answers     
<a class="line" id="line-2329" href="#line-2329"> 2329</a> won&#x27;t be available.                                                        
<a class="line" id="line-2330" href="#line-2330"> 2330</a>                                                                            
<a class="line" id="line-2331" href="#line-2331"> 2331</a> Since a resolver must be able to multiplex multiple requests if it is to   
<a class="line" id="line-2332" href="#line-2332"> 2332</a> perform its function efficiently, each pending request is usually          
<a class="line" id="line-2333" href="#line-2333"> 2333</a> represented in some block of state information.  This state block will     
<a class="line" id="line-2334" href="#line-2334"> 2334</a> typically contain:                                                         
<a class="line" id="line-2335" href="#line-2335"> 2335</a>                                                                            
<a class="line" id="line-2336" href="#line-2336"> 2336</a>    - A timestamp indicating the time the request began.                    
<a class="line" id="line-2337" href="#line-2337"> 2337</a>      The timestamp is used to decide whether RRs in the database           
<a class="line" id="line-2338" href="#line-2338"> 2338</a>      can be used or are out of date.  This timestamp uses the              
<a class="line" id="line-2339" href="#line-2339"> 2339</a>      absolute time format previously discussed for RR storage in           
<a class="line" id="line-2340" href="#line-2340"> 2340</a>      zones and caches.  Note that when an RRs TTL indicates a              
<a class="line" id="line-2341" href="#line-2341"> 2341</a>      relative time, the RR must be timely, since it is part of a           
<a class="line" id="line-2342" href="#line-2342"> 2342</a>      zone.  When the RR has an absolute time, it is part of a              
<a class="line" id="line-2343" href="#line-2343"> 2343</a>      cache, and the TTL of the RR is compared against the timestamp        
<a class="line" id="line-2344" href="#line-2344"> 2344</a>      for the start of the request.                                         
<a class="line" id="line-2345" href="#line-2345"> 2345</a>                                                                            
<a class="line" id="line-2346" href="#line-2346"> 2346</a>      Note that using the timestamp is superior to using a current          
<a class="line" id="line-2347" href="#line-2347"> 2347</a>      time, since it allows RRs with TTLs of zero to be entered in          
<a class="line" id="line-2348" href="#line-2348"> 2348</a>      the cache in the usual manner, but still used by the current          
<a class="line" id="line-2349" href="#line-2349"> 2349</a>      request, even after intervals of many seconds due to system           
<a class="line" id="line-2350" href="#line-2350"> 2350</a>      load, query retransmission timeouts, etc.                             
<a class="line" id="line-2351" href="#line-2351"> 2351</a>                                                                            
<a class="line" id="line-2352" href="#line-2352"> 2352</a>    - Some sort of parameters to limit the amount of work which will        
<a class="line" id="line-2353" href="#line-2353"> 2353</a>      be performed for this request.                                        
<a class="line" id="line-2354" href="#line-2354"> 2354</a>                                                                            
<a class="line" id="line-2355" href="#line-2355"> 2355</a>      The amount of work which a resolver will do in response to a          
<a class="line" id="line-2356" href="#line-2356"> 2356</a>      client request must be limited to guard against errors in the         
<a class="line" id="line-2357" href="#line-2357"> 2357</a>      database, such as circular CNAME references, and operational          
<a class="line" id="line-2358" href="#line-2358"> 2358</a>      problems, such as network partition which prevents the                
<a class="line" id="line-2359" href="#line-2359"> 2359</a>                                                                            
<a class="line" id="line-2360" href="#line-2360"> 2360</a>                                                                            
<a class="line" id="line-2361" href="#line-2361"> 2361</a>                                                                            
<a class="line" id="line-2362" href="#line-2362"> 2362</a> <span class="grey">Mockapetris                                                    [Page 43]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-44" ></span><a class="line" id="line-2363" href="#line-2363"> 2363</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-2364" href="#line-2364"> 2364</a>                                                                            
<a class="line" id="line-2365" href="#line-2365"> 2365</a>                                                                            
<a class="line" id="line-2366" href="#line-2366"> 2366</a>      resolver from accessing the name servers it needs.  While             
<a class="line" id="line-2367" href="#line-2367"> 2367</a>      local limits on the number of times a resolver will retransmit        
<a class="line" id="line-2368" href="#line-2368"> 2368</a>      a particular query to a particular name server address are            
<a class="line" id="line-2369" href="#line-2369"> 2369</a>      essential, the resolver should have a global per-request              
<a class="line" id="line-2370" href="#line-2370"> 2370</a>      counter to limit work on a single request.  The counter should        
<a class="line" id="line-2371" href="#line-2371"> 2371</a>      be set to some initial value and decremented whenever the             
<a class="line" id="line-2372" href="#line-2372"> 2372</a>      resolver performs any action (retransmission timeout,                 
<a class="line" id="line-2373" href="#line-2373"> 2373</a>      retransmission, etc.)  If the counter passes zero, the request        
<a class="line" id="line-2374" href="#line-2374"> 2374</a>      is terminated with a temporary error.                                 
<a class="line" id="line-2375" href="#line-2375"> 2375</a>                                                                            
<a class="line" id="line-2376" href="#line-2376"> 2376</a>      Note that if the resolver structure allows one request to             
<a class="line" id="line-2377" href="#line-2377"> 2377</a>      start others in parallel, such as when the need to access a           
<a class="line" id="line-2378" href="#line-2378"> 2378</a>      name server for one request causes a parallel resolve for the         
<a class="line" id="line-2379" href="#line-2379"> 2379</a>      name server&#x27;s addresses, the spawned request should be started        
<a class="line" id="line-2380" href="#line-2380"> 2380</a>      with a lower counter.  This prevents circular references in           
<a class="line" id="line-2381" href="#line-2381"> 2381</a>      the database from starting a chain reaction of resolver               
<a class="line" id="line-2382" href="#line-2382"> 2382</a>      activity.                                                             
<a class="line" id="line-2383" href="#line-2383"> 2383</a>                                                                            
<a class="line" id="line-2384" href="#line-2384"> 2384</a>    - The SLIST data structure discussed in [<a href="./rfc1034.html">RFC-1034</a>].                     
<a class="line" id="line-2385" href="#line-2385"> 2385</a>                                                                            
<a class="line" id="line-2386" href="#line-2386"> 2386</a>      This structure keeps track of the state of a request if it            
<a class="line" id="line-2387" href="#line-2387"> 2387</a>      must wait for answers from foreign name servers.                      
<a class="line" id="line-2388" href="#line-2388"> 2388</a>                                                                            
<a class="line" id="line-2389" href="#line-2389"> 2389</a> <span class="h3"><a class="selflink" id="section-7.2" href="#section-7.2">7.2</a>. Sending the queries</span>                                                   
<a class="line" id="line-2390" href="#line-2390"> 2390</a>                                                                            
<a class="line" id="line-2391" href="#line-2391"> 2391</a> As described in [<a href="./rfc1034.html">RFC-1034</a>], the basic task of the resolver is to           
<a class="line" id="line-2392" href="#line-2392"> 2392</a> formulate a query which will answer the client&#x27;s request and direct that   
<a class="line" id="line-2393" href="#line-2393"> 2393</a> query to name servers which can provide the information.  The resolver     
<a class="line" id="line-2394" href="#line-2394"> 2394</a> will usually only have very strong hints about which servers to ask, in    
<a class="line" id="line-2395" href="#line-2395"> 2395</a> the form of NS RRs, and may have to revise the query, in response to       
<a class="line" id="line-2396" href="#line-2396"> 2396</a> CNAMEs, or revise the set of name servers the resolver is asking, in       
<a class="line" id="line-2397" href="#line-2397"> 2397</a> response to delegation responses which point the resolver to name          
<a class="line" id="line-2398" href="#line-2398"> 2398</a> servers closer to the desired information.  In addition to the             
<a class="line" id="line-2399" href="#line-2399"> 2399</a> information requested by the client, the resolver may have to call upon    
<a class="line" id="line-2400" href="#line-2400"> 2400</a> its own services to determine the address of name servers it wishes to     
<a class="line" id="line-2401" href="#line-2401"> 2401</a> contact.                                                                   
<a class="line" id="line-2402" href="#line-2402"> 2402</a>                                                                            
<a class="line" id="line-2403" href="#line-2403"> 2403</a> In any case, the model used in this memo assumes that the resolver is      
<a class="line" id="line-2404" href="#line-2404"> 2404</a> multiplexing attention between multiple requests, some from the client,    
<a class="line" id="line-2405" href="#line-2405"> 2405</a> and some internally generated.  Each request is represented by some        
<a class="line" id="line-2406" href="#line-2406"> 2406</a> state information, and the desired behavior is that the resolver           
<a class="line" id="line-2407" href="#line-2407"> 2407</a> transmit queries to name servers in a way that maximizes the probability   
<a class="line" id="line-2408" href="#line-2408"> 2408</a> that the request is answered, minimizes the time that the request takes,   
<a class="line" id="line-2409" href="#line-2409"> 2409</a> and avoids excessive transmissions.  The key algorithm uses the state      
<a class="line" id="line-2410" href="#line-2410"> 2410</a> information of the request to select the next name server address to       
<a class="line" id="line-2411" href="#line-2411"> 2411</a> query, and also computes a timeout which will cause the next action        
<a class="line" id="line-2412" href="#line-2412"> 2412</a> should a response not arrive.  The next action will usually be a           
<a class="line" id="line-2413" href="#line-2413"> 2413</a> transmission to some other server, but may be a temporary error to the     
<a class="line" id="line-2414" href="#line-2414"> 2414</a>                                                                            
<a class="line" id="line-2415" href="#line-2415"> 2415</a>                                                                            
<a class="line" id="line-2416" href="#line-2416"> 2416</a>                                                                            
<a class="line" id="line-2417" href="#line-2417"> 2417</a> <span class="grey">Mockapetris                                                    [Page 44]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-45" ></span><a class="line" id="line-2418" href="#line-2418"> 2418</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-2419" href="#line-2419"> 2419</a>                                                                            
<a class="line" id="line-2420" href="#line-2420"> 2420</a>                                                                            
<a class="line" id="line-2421" href="#line-2421"> 2421</a> client.                                                                    
<a class="line" id="line-2422" href="#line-2422"> 2422</a>                                                                            
<a class="line" id="line-2423" href="#line-2423"> 2423</a> The resolver always starts with a list of server names to query (SLIST).   
<a class="line" id="line-2424" href="#line-2424"> 2424</a> This list will be all NS RRs which correspond to the nearest ancestor      
<a class="line" id="line-2425" href="#line-2425"> 2425</a> zone that the resolver knows about.  To avoid startup problems, the        
<a class="line" id="line-2426" href="#line-2426"> 2426</a> resolver should have a set of default servers which it will ask should     
<a class="line" id="line-2427" href="#line-2427"> 2427</a> it have no current NS RRs which are appropriate.  The resolver then adds   
<a class="line" id="line-2428" href="#line-2428"> 2428</a> to SLIST all of the known addresses for the name servers, and may start    
<a class="line" id="line-2429" href="#line-2429"> 2429</a> parallel requests to acquire the addresses of the servers when the         
<a class="line" id="line-2430" href="#line-2430"> 2430</a> resolver has the name, but no addresses, for the name servers.             
<a class="line" id="line-2431" href="#line-2431"> 2431</a>                                                                            
<a class="line" id="line-2432" href="#line-2432"> 2432</a> To complete initialization of SLIST, the resolver attaches whatever        
<a class="line" id="line-2433" href="#line-2433"> 2433</a> history information it has to the each address in SLIST.  This will        
<a class="line" id="line-2434" href="#line-2434"> 2434</a> usually consist of some sort of weighted averages for the response time    
<a class="line" id="line-2435" href="#line-2435"> 2435</a> of the address, and the batting average of the address (i.e., how often    
<a class="line" id="line-2436" href="#line-2436"> 2436</a> the address responded at all to the request).  Note that this              
<a class="line" id="line-2437" href="#line-2437"> 2437</a> information should be kept on a per address basis, rather than on a per    
<a class="line" id="line-2438" href="#line-2438"> 2438</a> name server basis, because the response time and batting average of a      
<a class="line" id="line-2439" href="#line-2439"> 2439</a> particular server may vary considerably from address to address.  Note     
<a class="line" id="line-2440" href="#line-2440"> 2440</a> also that this information is actually specific to a resolver address /    
<a class="line" id="line-2441" href="#line-2441"> 2441</a> server address pair, so a resolver with multiple addresses may wish to     
<a class="line" id="line-2442" href="#line-2442"> 2442</a> keep separate histories for each of its addresses.  Part of this step      
<a class="line" id="line-2443" href="#line-2443"> 2443</a> must deal with addresses which have no such history; in this case an       
<a class="line" id="line-2444" href="#line-2444"> 2444</a> expected round trip time of 5-10 seconds should be the worst case, with    
<a class="line" id="line-2445" href="#line-2445"> 2445</a> lower estimates for the same local network, etc.                           
<a class="line" id="line-2446" href="#line-2446"> 2446</a>                                                                            
<a class="line" id="line-2447" href="#line-2447"> 2447</a> Note that whenever a delegation is followed, the resolver algorithm        
<a class="line" id="line-2448" href="#line-2448"> 2448</a> reinitializes SLIST.                                                       
<a class="line" id="line-2449" href="#line-2449"> 2449</a>                                                                            
<a class="line" id="line-2450" href="#line-2450"> 2450</a> The information establishes a partial ranking of the available name        
<a class="line" id="line-2451" href="#line-2451"> 2451</a> server addresses.  Each time an address is chosen and the state should     
<a class="line" id="line-2452" href="#line-2452"> 2452</a> be altered to prevent its selection again until all other addresses have   
<a class="line" id="line-2453" href="#line-2453"> 2453</a> been tried.  The timeout for each transmission should be 50-100% greater   
<a class="line" id="line-2454" href="#line-2454"> 2454</a> than the average predicted value to allow for variance in response.        
<a class="line" id="line-2455" href="#line-2455"> 2455</a>                                                                            
<a class="line" id="line-2456" href="#line-2456"> 2456</a> Some fine points:                                                          
<a class="line" id="line-2457" href="#line-2457"> 2457</a>                                                                            
<a class="line" id="line-2458" href="#line-2458"> 2458</a>    - The resolver may encounter a situation where no addresses are         
<a class="line" id="line-2459" href="#line-2459"> 2459</a>      available for any of the name servers named in SLIST, and             
<a class="line" id="line-2460" href="#line-2460"> 2460</a>      where the servers in the list are precisely those which would         
<a class="line" id="line-2461" href="#line-2461"> 2461</a>      normally be used to look up their own addresses.  This                
<a class="line" id="line-2462" href="#line-2462"> 2462</a>      situation typically occurs when the glue address RRs have a           
<a class="line" id="line-2463" href="#line-2463"> 2463</a>      smaller TTL than the NS RRs marking delegation, or when the           
<a class="line" id="line-2464" href="#line-2464"> 2464</a>      resolver caches the result of a NS search.  The resolver              
<a class="line" id="line-2465" href="#line-2465"> 2465</a>      should detect this condition and restart the search at the            
<a class="line" id="line-2466" href="#line-2466"> 2466</a>      next ancestor zone, or alternatively at the root.                     
<a class="line" id="line-2467" href="#line-2467"> 2467</a>                                                                            
<a class="line" id="line-2468" href="#line-2468"> 2468</a>                                                                            
<a class="line" id="line-2469" href="#line-2469"> 2469</a>                                                                            
<a class="line" id="line-2470" href="#line-2470"> 2470</a>                                                                            
<a class="line" id="line-2471" href="#line-2471"> 2471</a>                                                                            
<a class="line" id="line-2472" href="#line-2472"> 2472</a> <span class="grey">Mockapetris                                                    [Page 45]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-46" ></span><a class="line" id="line-2473" href="#line-2473"> 2473</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-2474" href="#line-2474"> 2474</a>                                                                            
<a class="line" id="line-2475" href="#line-2475"> 2475</a>                                                                            
<a class="line" id="line-2476" href="#line-2476"> 2476</a>    - If a resolver gets a server error or other bizarre response           
<a class="line" id="line-2477" href="#line-2477"> 2477</a>      from a name server, it should remove it from SLIST, and may           
<a class="line" id="line-2478" href="#line-2478"> 2478</a>      wish to schedule an immediate transmission to the next                
<a class="line" id="line-2479" href="#line-2479"> 2479</a>      candidate server address.                                             
<a class="line" id="line-2480" href="#line-2480"> 2480</a>                                                                            
<a class="line" id="line-2481" href="#line-2481"> 2481</a> <span class="h3"><a class="selflink" id="section-7.3" href="#section-7.3">7.3</a>. Processing responses</span>                                                  
<a class="line" id="line-2482" href="#line-2482"> 2482</a>                                                                            
<a class="line" id="line-2483" href="#line-2483"> 2483</a> The first step in processing arriving response datagrams is to parse the   
<a class="line" id="line-2484" href="#line-2484"> 2484</a> response.  This procedure should include:                                  
<a class="line" id="line-2485" href="#line-2485"> 2485</a>                                                                            
<a class="line" id="line-2486" href="#line-2486"> 2486</a>    - Check the header for reasonableness.  Discard datagrams which         
<a class="line" id="line-2487" href="#line-2487"> 2487</a>      are queries when responses are expected.                              
<a class="line" id="line-2488" href="#line-2488"> 2488</a>                                                                            
<a class="line" id="line-2489" href="#line-2489"> 2489</a>    - Parse the sections of the message, and insure that all RRs are        
<a class="line" id="line-2490" href="#line-2490"> 2490</a>      correctly formatted.                                                  
<a class="line" id="line-2491" href="#line-2491"> 2491</a>                                                                            
<a class="line" id="line-2492" href="#line-2492"> 2492</a>    - As an optional step, check the TTLs of arriving data looking          
<a class="line" id="line-2493" href="#line-2493"> 2493</a>      for RRs with excessively long TTLs.  If a RR has an                   
<a class="line" id="line-2494" href="#line-2494"> 2494</a>      excessively long TTL, say greater than 1 week, either discard         
<a class="line" id="line-2495" href="#line-2495"> 2495</a>      the whole response, or limit all TTLs in the response to 1            
<a class="line" id="line-2496" href="#line-2496"> 2496</a>      week.                                                                 
<a class="line" id="line-2497" href="#line-2497"> 2497</a>                                                                            
<a class="line" id="line-2498" href="#line-2498"> 2498</a> The next step is to match the response to a current resolver request.      
<a class="line" id="line-2499" href="#line-2499"> 2499</a> The recommended strategy is to do a preliminary matching using the ID      
<a class="line" id="line-2500" href="#line-2500"> 2500</a> field in the domain header, and then to verify that the question section   
<a class="line" id="line-2501" href="#line-2501"> 2501</a> corresponds to the information currently desired.  This requires that      
<a class="line" id="line-2502" href="#line-2502"> 2502</a> the transmission algorithm devote several bits of the domain ID field to   
<a class="line" id="line-2503" href="#line-2503"> 2503</a> a request identifier of some sort.  This step has several fine points:     
<a class="line" id="line-2504" href="#line-2504"> 2504</a>                                                                            
<a class="line" id="line-2505" href="#line-2505"> 2505</a>    - Some name servers send their responses from different                 
<a class="line" id="line-2506" href="#line-2506"> 2506</a>      addresses than the one used to receive the query.  That is, a         
<a class="line" id="line-2507" href="#line-2507"> 2507</a>      resolver cannot rely that a response will come from the same          
<a class="line" id="line-2508" href="#line-2508"> 2508</a>      address which it sent the corresponding query to.  This name          
<a class="line" id="line-2509" href="#line-2509"> 2509</a>      server bug is typically encountered in UNIX systems.                  
<a class="line" id="line-2510" href="#line-2510"> 2510</a>                                                                            
<a class="line" id="line-2511" href="#line-2511"> 2511</a>    - If the resolver retransmits a particular request to a name            
<a class="line" id="line-2512" href="#line-2512"> 2512</a>      server it should be able to use a response from any of the            
<a class="line" id="line-2513" href="#line-2513"> 2513</a>      transmissions.  However, if it is using the response to sample        
<a class="line" id="line-2514" href="#line-2514"> 2514</a>      the round trip time to access the name server, it must be able        
<a class="line" id="line-2515" href="#line-2515"> 2515</a>      to determine which transmission matches the response (and keep        
<a class="line" id="line-2516" href="#line-2516"> 2516</a>      transmission times for each outgoing message), or only                
<a class="line" id="line-2517" href="#line-2517"> 2517</a>      calculate round trip times based on initial transmissions.            
<a class="line" id="line-2518" href="#line-2518"> 2518</a>                                                                            
<a class="line" id="line-2519" href="#line-2519"> 2519</a>    - A name server will occasionally not have a current copy of a          
<a class="line" id="line-2520" href="#line-2520"> 2520</a>      zone which it should have according to some NS RRs.  The              
<a class="line" id="line-2521" href="#line-2521"> 2521</a>      resolver should simply remove the name server from the current        
<a class="line" id="line-2522" href="#line-2522"> 2522</a>      SLIST, and continue.                                                  
<a class="line" id="line-2523" href="#line-2523"> 2523</a>                                                                            
<a class="line" id="line-2524" href="#line-2524"> 2524</a>                                                                            
<a class="line" id="line-2525" href="#line-2525"> 2525</a>                                                                            
<a class="line" id="line-2526" href="#line-2526"> 2526</a>                                                                            
<a class="line" id="line-2527" href="#line-2527"> 2527</a> <span class="grey">Mockapetris                                                    [Page 46]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-47" ></span><a class="line" id="line-2528" href="#line-2528"> 2528</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-2529" href="#line-2529"> 2529</a>                                                                            
<a class="line" id="line-2530" href="#line-2530"> 2530</a>                                                                            
<a class="line" id="line-2531" href="#line-2531"> 2531</a> <span class="h3"><a class="selflink" id="section-7.4" href="#section-7.4">7.4</a>. Using the cache</span>                                                       
<a class="line" id="line-2532" href="#line-2532"> 2532</a>                                                                            
<a class="line" id="line-2533" href="#line-2533"> 2533</a> In general, we expect a resolver to cache all data which it receives in    
<a class="line" id="line-2534" href="#line-2534"> 2534</a> responses since it may be useful in answering future client requests.      
<a class="line" id="line-2535" href="#line-2535"> 2535</a> However, there are several types of data which should not be cached:       
<a class="line" id="line-2536" href="#line-2536"> 2536</a>                                                                            
<a class="line" id="line-2537" href="#line-2537"> 2537</a>    - When several RRs of the same type are available for a                 
<a class="line" id="line-2538" href="#line-2538"> 2538</a>      particular owner name, the resolver should either cache them          
<a class="line" id="line-2539" href="#line-2539"> 2539</a>      all or none at all.  When a response is truncated, and a              
<a class="line" id="line-2540" href="#line-2540"> 2540</a>      resolver doesn&#x27;t know whether it has a complete set, it should        
<a class="line" id="line-2541" href="#line-2541"> 2541</a>      not cache a possibly partial set of RRs.                              
<a class="line" id="line-2542" href="#line-2542"> 2542</a>                                                                            
<a class="line" id="line-2543" href="#line-2543"> 2543</a>    - Cached data should never be used in preference to                     
<a class="line" id="line-2544" href="#line-2544"> 2544</a>      authoritative data, so if caching would cause this to happen          
<a class="line" id="line-2545" href="#line-2545"> 2545</a>      the data should not be cached.                                        
<a class="line" id="line-2546" href="#line-2546"> 2546</a>                                                                            
<a class="line" id="line-2547" href="#line-2547"> 2547</a>    - The results of an inverse query should not be cached.                 
<a class="line" id="line-2548" href="#line-2548"> 2548</a>                                                                            
<a class="line" id="line-2549" href="#line-2549"> 2549</a>    - The results of standard queries where the QNAME contains &quot;*&quot;          
<a class="line" id="line-2550" href="#line-2550"> 2550</a>      labels if the data might be used to construct wildcards.  The         
<a class="line" id="line-2551" href="#line-2551"> 2551</a>      reason is that the cache does not necessarily contain existing        
<a class="line" id="line-2552" href="#line-2552"> 2552</a>      RRs or zone boundary information which is necessary to                
<a class="line" id="line-2553" href="#line-2553"> 2553</a>      restrict the application of the wildcard RRs.                         
<a class="line" id="line-2554" href="#line-2554"> 2554</a>                                                                            
<a class="line" id="line-2555" href="#line-2555"> 2555</a>    - RR data in responses of dubious reliability.  When a resolver         
<a class="line" id="line-2556" href="#line-2556"> 2556</a>      receives unsolicited responses or RR data other than that             
<a class="line" id="line-2557" href="#line-2557"> 2557</a>      requested, it should discard it without caching it.  The basic        
<a class="line" id="line-2558" href="#line-2558"> 2558</a>      implication is that all sanity checks on a packet should be           
<a class="line" id="line-2559" href="#line-2559"> 2559</a>      performed before any of it is cached.                                 
<a class="line" id="line-2560" href="#line-2560"> 2560</a>                                                                            
<a class="line" id="line-2561" href="#line-2561"> 2561</a> In a similar vein, when a resolver has a set of RRs for some name in a     
<a class="line" id="line-2562" href="#line-2562"> 2562</a> response, and wants to cache the RRs, it should check its cache for        
<a class="line" id="line-2563" href="#line-2563"> 2563</a> already existing RRs.  Depending on the circumstances, either the data     
<a class="line" id="line-2564" href="#line-2564"> 2564</a> in the response or the cache is preferred, but the two should never be     
<a class="line" id="line-2565" href="#line-2565"> 2565</a> combined.  If the data in the response is from authoritative data in the   
<a class="line" id="line-2566" href="#line-2566"> 2566</a> answer section, it is always preferred.                                    
<a class="line" id="line-2567" href="#line-2567"> 2567</a>                                                                            
<a class="line" id="line-2568" href="#line-2568"> 2568</a> <span class="h2"><a class="selflink" id="section-8" href="#section-8">8</a>. MAIL SUPPORT</span>                                                            
<a class="line" id="line-2569" href="#line-2569"> 2569</a>                                                                            
<a class="line" id="line-2570" href="#line-2570"> 2570</a> The domain system defines a standard for mapping mailboxes into domain     
<a class="line" id="line-2571" href="#line-2571"> 2571</a> names, and two methods for using the mailbox information to derive mail    
<a class="line" id="line-2572" href="#line-2572"> 2572</a> routing information.  The first method is called mail exchange binding     
<a class="line" id="line-2573" href="#line-2573"> 2573</a> and the other method is mailbox binding.  The mailbox encoding standard    
<a class="line" id="line-2574" href="#line-2574"> 2574</a> and mail exchange binding are part of the DNS official protocol, and are   
<a class="line" id="line-2575" href="#line-2575"> 2575</a> the recommended method for mail routing in the Internet.  Mailbox          
<a class="line" id="line-2576" href="#line-2576"> 2576</a> binding is an experimental feature which is still under development and    
<a class="line" id="line-2577" href="#line-2577"> 2577</a> subject to change.                                                         
<a class="line" id="line-2578" href="#line-2578"> 2578</a>                                                                            
<a class="line" id="line-2579" href="#line-2579"> 2579</a>                                                                            
<a class="line" id="line-2580" href="#line-2580"> 2580</a>                                                                            
<a class="line" id="line-2581" href="#line-2581"> 2581</a>                                                                            
<a class="line" id="line-2582" href="#line-2582"> 2582</a> <span class="grey">Mockapetris                                                    [Page 47]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-48" ></span><a class="line" id="line-2583" href="#line-2583"> 2583</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-2584" href="#line-2584"> 2584</a>                                                                            
<a class="line" id="line-2585" href="#line-2585"> 2585</a>                                                                            
<a class="line" id="line-2586" href="#line-2586"> 2586</a> The mailbox encoding standard assumes a mailbox name of the form           
<a class="line" id="line-2587" href="#line-2587"> 2587</a> &quot;&lt;local-part&gt;@&lt;mail-domain&gt;&quot;.  While the syntax allowed in each of these   
<a class="line" id="line-2588" href="#line-2588"> 2588</a> sections varies substantially between the various mail internets, the      
<a class="line" id="line-2589" href="#line-2589"> 2589</a> preferred syntax for the ARPA Internet is given in [<a href="https://datatracker.ietf.org/doc/rfc822/">RFC-822</a>].              
<a class="line" id="line-2590" href="#line-2590"> 2590</a>                                                                            
<a class="line" id="line-2591" href="#line-2591"> 2591</a> The DNS encodes the &lt;local-part&gt; as a single label, and encodes the        
<a class="line" id="line-2592" href="#line-2592"> 2592</a> &lt;mail-domain&gt; as a domain name.  The single label from the &lt;local-part&gt;    
<a class="line" id="line-2593" href="#line-2593"> 2593</a> is prefaced to the domain name from &lt;mail-domain&gt; to form the domain       
<a class="line" id="line-2594" href="#line-2594"> 2594</a> name corresponding to the mailbox.  Thus the mailbox HOSTMASTER@SRI-       
<a class="line" id="line-2595" href="#line-2595"> 2595</a> NIC.ARPA is mapped into the domain name HOSTMASTER.SRI-NIC.ARPA.  If the   
<a class="line" id="line-2596" href="#line-2596"> 2596</a> &lt;local-part&gt; contains dots or other special characters, its                
<a class="line" id="line-2597" href="#line-2597"> 2597</a> representation in a master file will require the use of backslash          
<a class="line" id="line-2598" href="#line-2598"> 2598</a> quoting to ensure that the domain name is properly encoded.  For           
<a class="line" id="line-2599" href="#line-2599"> 2599</a> example, the mailbox Action.domains@ISI.EDU would be represented as        
<a class="line" id="line-2600" href="#line-2600"> 2600</a> Action\.domains.ISI.EDU.                                                   
<a class="line" id="line-2601" href="#line-2601"> 2601</a>                                                                            
<a class="line" id="line-2602" href="#line-2602"> 2602</a> <span class="h3"><a class="selflink" id="section-8.1" href="#section-8.1">8.1</a>. Mail exchange binding</span>                                                 
<a class="line" id="line-2603" href="#line-2603"> 2603</a>                                                                            
<a class="line" id="line-2604" href="#line-2604"> 2604</a> Mail exchange binding uses the &lt;mail-domain&gt; part of a mailbox             
<a class="line" id="line-2605" href="#line-2605"> 2605</a> specification to determine where mail should be sent.  The &lt;local-part&gt;    
<a class="line" id="line-2606" href="#line-2606"> 2606</a> is not even consulted.  [<a href="https://datatracker.ietf.org/doc/rfc974/" title="&quot;Mail routing and the domain system&quot;">RFC-974</a>] specifies this method in detail, and     
<a class="line" id="line-2607" href="#line-2607"> 2607</a> should be consulted before attempting to use mail exchange support.        
<a class="line" id="line-2608" href="#line-2608"> 2608</a>                                                                            
<a class="line" id="line-2609" href="#line-2609"> 2609</a> One of the advantages of this method is that it decouples mail             
<a class="line" id="line-2610" href="#line-2610"> 2610</a> destination naming from the hosts used to support mail service, at the     
<a class="line" id="line-2611" href="#line-2611"> 2611</a> cost of another layer of indirection in the lookup function.  However,     
<a class="line" id="line-2612" href="#line-2612"> 2612</a> the addition layer should eliminate the need for complicated &quot;%&quot;, &quot;!&quot;,     
<a class="line" id="line-2613" href="#line-2613"> 2613</a> etc encodings in &lt;local-part&gt;.                                             
<a class="line" id="line-2614" href="#line-2614"> 2614</a>                                                                            
<a class="line" id="line-2615" href="#line-2615"> 2615</a> The essence of the method is that the &lt;mail-domain&gt; is used as a domain    
<a class="line" id="line-2616" href="#line-2616"> 2616</a> name to locate type MX RRs which list hosts willing to accept mail for     
<a class="line" id="line-2617" href="#line-2617"> 2617</a> &lt;mail-domain&gt;, together with preference values which rank the hosts        
<a class="line" id="line-2618" href="#line-2618"> 2618</a> according to an order specified by the administrators for &lt;mail-domain&gt;.   
<a class="line" id="line-2619" href="#line-2619"> 2619</a>                                                                            
<a class="line" id="line-2620" href="#line-2620"> 2620</a> In this memo, the &lt;mail-domain&gt; ISI.EDU is used in examples, together      
<a class="line" id="line-2621" href="#line-2621"> 2621</a> with the hosts VENERA.ISI.EDU and VAXA.ISI.EDU as mail exchanges for       
<a class="line" id="line-2622" href="#line-2622"> 2622</a> ISI.EDU.  If a mailer had a message for Mockapetris@ISI.EDU, it would      
<a class="line" id="line-2623" href="#line-2623"> 2623</a> route it by looking up MX RRs for ISI.EDU.  The MX RRs at ISI.EDU name     
<a class="line" id="line-2624" href="#line-2624"> 2624</a> VENERA.ISI.EDU and VAXA.ISI.EDU, and type A queries can find the host      
<a class="line" id="line-2625" href="#line-2625"> 2625</a> addresses.                                                                 
<a class="line" id="line-2626" href="#line-2626"> 2626</a>                                                                            
<a class="line" id="line-2627" href="#line-2627"> 2627</a> <span class="h3"><a class="selflink" id="section-8.2" href="#section-8.2">8.2</a>. Mailbox binding (Experimental)</span>                                        
<a class="line" id="line-2628" href="#line-2628"> 2628</a>                                                                            
<a class="line" id="line-2629" href="#line-2629"> 2629</a> In mailbox binding, the mailer uses the entire mail destination            
<a class="line" id="line-2630" href="#line-2630"> 2630</a> specification to construct a domain name.  The encoded domain name for     
<a class="line" id="line-2631" href="#line-2631"> 2631</a> the mailbox is used as the QNAME field in a QTYPE=MAILB query.             
<a class="line" id="line-2632" href="#line-2632"> 2632</a>                                                                            
<a class="line" id="line-2633" href="#line-2633"> 2633</a> Several outcomes are possible for this query:                              
<a class="line" id="line-2634" href="#line-2634"> 2634</a>                                                                            
<a class="line" id="line-2635" href="#line-2635"> 2635</a>                                                                            
<a class="line" id="line-2636" href="#line-2636"> 2636</a>                                                                            
<a class="line" id="line-2637" href="#line-2637"> 2637</a> <span class="grey">Mockapetris                                                    [Page 48]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-49" ></span><a class="line" id="line-2638" href="#line-2638"> 2638</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-2639" href="#line-2639"> 2639</a>                                                                            
<a class="line" id="line-2640" href="#line-2640"> 2640</a>                                                                            
<a class="line" id="line-2641" href="#line-2641"> 2641</a>    1. The query can return a name error indicating that the mailbox        
<a class="line" id="line-2642" href="#line-2642"> 2642</a>       does not exist as a domain name.                                     
<a class="line" id="line-2643" href="#line-2643"> 2643</a>                                                                            
<a class="line" id="line-2644" href="#line-2644"> 2644</a>       In the long term, this would indicate that the specified             
<a class="line" id="line-2645" href="#line-2645"> 2645</a>       mailbox doesn&#x27;t exist.  However, until the use of mailbox            
<a class="line" id="line-2646" href="#line-2646"> 2646</a>       binding is universal, this error condition should be                 
<a class="line" id="line-2647" href="#line-2647"> 2647</a>       interpreted to mean that the organization identified by the          
<a class="line" id="line-2648" href="#line-2648"> 2648</a>       global part does not support mailbox binding.  The                   
<a class="line" id="line-2649" href="#line-2649"> 2649</a>       appropriate procedure is to revert to exchange binding at            
<a class="line" id="line-2650" href="#line-2650"> 2650</a>       this point.                                                          
<a class="line" id="line-2651" href="#line-2651"> 2651</a>                                                                            
<a class="line" id="line-2652" href="#line-2652"> 2652</a>    2. The query can return a Mail Rename (MR) RR.                          
<a class="line" id="line-2653" href="#line-2653"> 2653</a>                                                                            
<a class="line" id="line-2654" href="#line-2654"> 2654</a>       The MR RR carries new mailbox specification in its RDATA             
<a class="line" id="line-2655" href="#line-2655"> 2655</a>       field.  The mailer should replace the old mailbox with the           
<a class="line" id="line-2656" href="#line-2656"> 2656</a>       new one and retry the operation.                                     
<a class="line" id="line-2657" href="#line-2657"> 2657</a>                                                                            
<a class="line" id="line-2658" href="#line-2658"> 2658</a>    3. The query can return a MB RR.                                        
<a class="line" id="line-2659" href="#line-2659"> 2659</a>                                                                            
<a class="line" id="line-2660" href="#line-2660"> 2660</a>       The MB RR carries a domain name for a host in its RDATA              
<a class="line" id="line-2661" href="#line-2661"> 2661</a>       field.  The mailer should deliver the message to that host           
<a class="line" id="line-2662" href="#line-2662"> 2662</a>       via whatever protocol is applicable, e.g., b,SMTP.                   
<a class="line" id="line-2663" href="#line-2663"> 2663</a>                                                                            
<a class="line" id="line-2664" href="#line-2664"> 2664</a>    4. The query can return one or more Mail Group (MG) RRs.                
<a class="line" id="line-2665" href="#line-2665"> 2665</a>                                                                            
<a class="line" id="line-2666" href="#line-2666"> 2666</a>       This condition means that the mailbox was actually a mailing         
<a class="line" id="line-2667" href="#line-2667"> 2667</a>       list or mail group, rather than a single mailbox.  Each MG RR        
<a class="line" id="line-2668" href="#line-2668"> 2668</a>       has a RDATA field that identifies a mailbox that is a member         
<a class="line" id="line-2669" href="#line-2669"> 2669</a>       of the group.  The mailer should deliver a copy of the               
<a class="line" id="line-2670" href="#line-2670"> 2670</a>       message to each member.                                              
<a class="line" id="line-2671" href="#line-2671"> 2671</a>                                                                            
<a class="line" id="line-2672" href="#line-2672"> 2672</a>    5. The query can return a MB RR as well as one or more MG RRs.          
<a class="line" id="line-2673" href="#line-2673"> 2673</a>                                                                            
<a class="line" id="line-2674" href="#line-2674"> 2674</a>       This condition means the the mailbox was actually a mailing          
<a class="line" id="line-2675" href="#line-2675"> 2675</a>       list.  The mailer can either deliver the message to the host         
<a class="line" id="line-2676" href="#line-2676"> 2676</a>       specified by the MB RR, which will in turn do the delivery to        
<a class="line" id="line-2677" href="#line-2677"> 2677</a>       all members, or the mailer can use the MG RRs to do the              
<a class="line" id="line-2678" href="#line-2678"> 2678</a>       expansion itself.                                                    
<a class="line" id="line-2679" href="#line-2679"> 2679</a>                                                                            
<a class="line" id="line-2680" href="#line-2680"> 2680</a> In any of these cases, the response may include a Mail Information         
<a class="line" id="line-2681" href="#line-2681"> 2681</a> (MINFO) RR.  This RR is usually associated with a mail group, but is       
<a class="line" id="line-2682" href="#line-2682"> 2682</a> legal with a MB.  The MINFO RR identifies two mailboxes.  One of these     
<a class="line" id="line-2683" href="#line-2683"> 2683</a> identifies a responsible person for the original mailbox name.  This       
<a class="line" id="line-2684" href="#line-2684"> 2684</a> mailbox should be used for requests to be added to a mail group, etc.      
<a class="line" id="line-2685" href="#line-2685"> 2685</a> The second mailbox name in the MINFO RR identifies a mailbox that should   
<a class="line" id="line-2686" href="#line-2686"> 2686</a> receive error messages for mail failures.  This is particularly            
<a class="line" id="line-2687" href="#line-2687"> 2687</a> appropriate for mailing lists when errors in member names should be        
<a class="line" id="line-2688" href="#line-2688"> 2688</a> reported to a person other than the one who sends a message to the list.   
<a class="line" id="line-2689" href="#line-2689"> 2689</a>                                                                            
<a class="line" id="line-2690" href="#line-2690"> 2690</a>                                                                            
<a class="line" id="line-2691" href="#line-2691"> 2691</a>                                                                            
<a class="line" id="line-2692" href="#line-2692"> 2692</a> <span class="grey">Mockapetris                                                    [Page 49]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-50" ></span><a class="line" id="line-2693" href="#line-2693"> 2693</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-2694" href="#line-2694"> 2694</a>                                                                            
<a class="line" id="line-2695" href="#line-2695"> 2695</a>                                                                            
<a class="line" id="line-2696" href="#line-2696"> 2696</a> New fields may be added to this RR in the future.                          
<a class="line" id="line-2697" href="#line-2697"> 2697</a>                                                                            
<a class="line" id="line-2698" href="#line-2698"> 2698</a>                                                                            
<a class="line" id="line-2699" href="#line-2699"> 2699</a> <span class="h2"><a class="selflink" id="section-9" href="#section-9">9</a>. REFERENCES and BIBLIOGRAPHY</span>                                             
<a class="line" id="line-2700" href="#line-2700"> 2700</a>                                                                            
<a class="line" id="line-2701" href="#line-2701"> 2701</a> [Dyer 87]       S. Dyer, F. Hsu, &quot;Hesiod&quot;, Project Athena                  
<a class="line" id="line-2702" href="#line-2702"> 2702</a>                 Technical Plan - Name Service, April 1987, version 1.9.    
<a class="line" id="line-2703" href="#line-2703"> 2703</a>                                                                            
<a class="line" id="line-2704" href="#line-2704"> 2704</a>                 Describes the fundamentals of the Hesiod name service.     
<a class="line" id="line-2705" href="#line-2705"> 2705</a>                                                                            
<a class="line" id="line-2706" href="#line-2706"> 2706</a> [<a id="ref-IEN-116">IEN-116</a>]       J. Postel, &quot;Internet Name Server&quot;, IEN-116,                
<a class="line" id="line-2707" href="#line-2707"> 2707</a>                 USC/Information Sciences Institute, August 1979.           
<a class="line" id="line-2708" href="#line-2708"> 2708</a>                                                                            
<a class="line" id="line-2709" href="#line-2709"> 2709</a>                 A name service obsoleted by the Domain Name System, but    
<a class="line" id="line-2710" href="#line-2710"> 2710</a>                 still in use.                                              
<a class="line" id="line-2711" href="#line-2711"> 2711</a>                                                                            
<a class="line" id="line-2712" href="#line-2712"> 2712</a> [Quarterman 86] J. Quarterman, and J. Hoskins, &quot;Notable Computer Networks&quot;,
<a class="line" id="line-2713" href="#line-2713"> 2713</a>                 Communications of the ACM, October 1986, volume 29, number 
<a class="line" id="line-2714" href="#line-2714"> 2714</a>                 10.                                                        
<a class="line" id="line-2715" href="#line-2715"> 2715</a>                                                                            
<a class="line" id="line-2716" href="#line-2716"> 2716</a> [<a id="ref-RFC-742">RFC-742</a>]       K. Harrenstien, &quot;NAME/FINGER&quot;, <a href="https://datatracker.ietf.org/doc/rfc742/">RFC-742</a>, Network            
<a class="line" id="line-2717" href="#line-2717"> 2717</a>                 Information Center, SRI International, December 1977.      
<a class="line" id="line-2718" href="#line-2718"> 2718</a>                                                                            
<a class="line" id="line-2719" href="#line-2719"> 2719</a> [<a id="ref-RFC-768">RFC-768</a>]       J. Postel, &quot;User Datagram Protocol&quot;, <a href="https://datatracker.ietf.org/doc/rfc768/">RFC-768</a>,              
<a class="line" id="line-2720" href="#line-2720"> 2720</a>                 USC/Information Sciences Institute, August 1980.           
<a class="line" id="line-2721" href="#line-2721"> 2721</a>                                                                            
<a class="line" id="line-2722" href="#line-2722"> 2722</a> [<a id="ref-RFC-793">RFC-793</a>]       J. Postel, &quot;Transmission Control Protocol&quot;, <a href="https://datatracker.ietf.org/doc/rfc793/">RFC-793</a>,       
<a class="line" id="line-2723" href="#line-2723"> 2723</a>                 USC/Information Sciences Institute, September 1981.        
<a class="line" id="line-2724" href="#line-2724"> 2724</a>                                                                            
<a class="line" id="line-2725" href="#line-2725"> 2725</a> [<a id="ref-RFC-799">RFC-799</a>]       D. Mills, &quot;Internet Name Domains&quot;, <a href="https://datatracker.ietf.org/doc/rfc799/">RFC-799</a>, COMSAT,        
<a class="line" id="line-2726" href="#line-2726"> 2726</a>                 September 1981.                                            
<a class="line" id="line-2727" href="#line-2727"> 2727</a>                                                                            
<a class="line" id="line-2728" href="#line-2728"> 2728</a>                 Suggests introduction of a hierarchy in place of a flat    
<a class="line" id="line-2729" href="#line-2729"> 2729</a>                 name space for the Internet.                               
<a class="line" id="line-2730" href="#line-2730"> 2730</a>                                                                            
<a class="line" id="line-2731" href="#line-2731"> 2731</a> [<a id="ref-RFC-805">RFC-805</a>]       J. Postel, &quot;Computer Mail Meeting Notes&quot;, <a href="https://datatracker.ietf.org/doc/rfc805/">RFC-805</a>,         
<a class="line" id="line-2732" href="#line-2732"> 2732</a>                 USC/Information Sciences Institute, February 1982.         
<a class="line" id="line-2733" href="#line-2733"> 2733</a>                                                                            
<a class="line" id="line-2734" href="#line-2734"> 2734</a> [<a id="ref-RFC-810">RFC-810</a>]       E. Feinler, K. Harrenstien, Z. Su, and V. White, &quot;DOD      
<a class="line" id="line-2735" href="#line-2735"> 2735</a>                 Internet Host Table Specification&quot;, <a href="https://datatracker.ietf.org/doc/rfc810/">RFC-810</a>, Network       
<a class="line" id="line-2736" href="#line-2736"> 2736</a>                 Information Center, SRI International, March 1982.         
<a class="line" id="line-2737" href="#line-2737"> 2737</a>                                                                            
<a class="line" id="line-2738" href="#line-2738"> 2738</a>                 Obsolete.  See <a href="https://datatracker.ietf.org/doc/rfc952/">RFC-952</a>.                                    
<a class="line" id="line-2739" href="#line-2739"> 2739</a>                                                                            
<a class="line" id="line-2740" href="#line-2740"> 2740</a> [<a id="ref-RFC-811">RFC-811</a>]       K. Harrenstien, V. White, and E. Feinler, &quot;Hostnames       
<a class="line" id="line-2741" href="#line-2741"> 2741</a>                 Server&quot;, <a href="https://datatracker.ietf.org/doc/rfc811/">RFC-811</a>, Network Information Center, SRI          
<a class="line" id="line-2742" href="#line-2742"> 2742</a>                 International, March 1982.                                 
<a class="line" id="line-2743" href="#line-2743"> 2743</a>                                                                            
<a class="line" id="line-2744" href="#line-2744"> 2744</a>                                                                            
<a class="line" id="line-2745" href="#line-2745"> 2745</a>                                                                            
<a class="line" id="line-2746" href="#line-2746"> 2746</a>                                                                            
<a class="line" id="line-2747" href="#line-2747"> 2747</a> <span class="grey">Mockapetris                                                    [Page 50]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-51" ></span><a class="line" id="line-2748" href="#line-2748"> 2748</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-2749" href="#line-2749"> 2749</a>                                                                            
<a class="line" id="line-2750" href="#line-2750"> 2750</a>                                                                            
<a class="line" id="line-2751" href="#line-2751"> 2751</a>                 Obsolete.  See <a href="https://datatracker.ietf.org/doc/rfc953/">RFC-953</a>.                                    
<a class="line" id="line-2752" href="#line-2752"> 2752</a>                                                                            
<a class="line" id="line-2753" href="#line-2753"> 2753</a> [<a id="ref-RFC-812">RFC-812</a>]       K. Harrenstien, and V. White, &quot;NICNAME/WHOIS&quot;, <a href="https://datatracker.ietf.org/doc/rfc812/">RFC-812</a>,    
<a class="line" id="line-2754" href="#line-2754"> 2754</a>                 Network Information Center, SRI International, March       
<a class="line" id="line-2755" href="#line-2755"> 2755</a>                 1982.                                                      
<a class="line" id="line-2756" href="#line-2756"> 2756</a>                                                                            
<a class="line" id="line-2757" href="#line-2757"> 2757</a> [<a id="ref-RFC-819">RFC-819</a>]       Z. Su, and J. Postel, &quot;The Domain Naming Convention for    
<a class="line" id="line-2758" href="#line-2758"> 2758</a>                 Internet User Applications&quot;, <a href="https://datatracker.ietf.org/doc/rfc819/">RFC-819</a>, Network              
<a class="line" id="line-2759" href="#line-2759"> 2759</a>                 Information Center, SRI International, August 1982.        
<a class="line" id="line-2760" href="#line-2760"> 2760</a>                                                                            
<a class="line" id="line-2761" href="#line-2761"> 2761</a>                 Early thoughts on the design of the domain system.         
<a class="line" id="line-2762" href="#line-2762"> 2762</a>                 Current implementation is completely different.            
<a class="line" id="line-2763" href="#line-2763"> 2763</a>                                                                            
<a class="line" id="line-2764" href="#line-2764"> 2764</a> [<a id="ref-RFC-821">RFC-821</a>]       J. Postel, &quot;Simple Mail Transfer Protocol&quot;, <a href="https://datatracker.ietf.org/doc/rfc821/">RFC-821</a>,       
<a class="line" id="line-2765" href="#line-2765"> 2765</a>                 USC/Information Sciences Institute, August 1980.           
<a class="line" id="line-2766" href="#line-2766"> 2766</a>                                                                            
<a class="line" id="line-2767" href="#line-2767"> 2767</a> [<a id="ref-RFC-830">RFC-830</a>]       Z. Su, &quot;A Distributed System for Internet Name Service&quot;,   
<a class="line" id="line-2768" href="#line-2768"> 2768</a>                 <a href="https://datatracker.ietf.org/doc/rfc830/">RFC-830</a>, Network Information Center, SRI International,    
<a class="line" id="line-2769" href="#line-2769"> 2769</a>                 October 1982.                                              
<a class="line" id="line-2770" href="#line-2770"> 2770</a>                                                                            
<a class="line" id="line-2771" href="#line-2771"> 2771</a>                 Early thoughts on the design of the domain system.         
<a class="line" id="line-2772" href="#line-2772"> 2772</a>                 Current implementation is completely different.            
<a class="line" id="line-2773" href="#line-2773"> 2773</a>                                                                            
<a class="line" id="line-2774" href="#line-2774"> 2774</a> [<a id="ref-RFC-882">RFC-882</a>]       P. Mockapetris, &quot;Domain names - Concepts and               
<a class="line" id="line-2775" href="#line-2775"> 2775</a>                 Facilities,&quot; <a href="https://datatracker.ietf.org/doc/rfc882/">RFC-882</a>, USC/Information Sciences             
<a class="line" id="line-2776" href="#line-2776"> 2776</a>                 Institute, November 1983.                                  
<a class="line" id="line-2777" href="#line-2777"> 2777</a>                                                                            
<a class="line" id="line-2778" href="#line-2778"> 2778</a>                 Superceeded by this memo.                                  
<a class="line" id="line-2779" href="#line-2779"> 2779</a>                                                                            
<a class="line" id="line-2780" href="#line-2780"> 2780</a> [<a id="ref-RFC-883">RFC-883</a>]       P. Mockapetris, &quot;Domain names - Implementation and         
<a class="line" id="line-2781" href="#line-2781"> 2781</a>                 Specification,&quot; <a href="https://datatracker.ietf.org/doc/rfc883/">RFC-883</a>, USC/Information Sciences          
<a class="line" id="line-2782" href="#line-2782"> 2782</a>                 Institute, November 1983.                                  
<a class="line" id="line-2783" href="#line-2783"> 2783</a>                                                                            
<a class="line" id="line-2784" href="#line-2784"> 2784</a>                 Superceeded by this memo.                                  
<a class="line" id="line-2785" href="#line-2785"> 2785</a>                                                                            
<a class="line" id="line-2786" href="#line-2786"> 2786</a> [<a id="ref-RFC-920">RFC-920</a>]       J. Postel and J. Reynolds, &quot;Domain Requirements&quot;,          
<a class="line" id="line-2787" href="#line-2787"> 2787</a>                 <a href="https://datatracker.ietf.org/doc/rfc920/">RFC-920</a>, USC/Information Sciences Institute,               
<a class="line" id="line-2788" href="#line-2788"> 2788</a>                 October 1984.                                              
<a class="line" id="line-2789" href="#line-2789"> 2789</a>                                                                            
<a class="line" id="line-2790" href="#line-2790"> 2790</a>                 Explains the naming scheme for top level domains.          
<a class="line" id="line-2791" href="#line-2791"> 2791</a>                                                                            
<a class="line" id="line-2792" href="#line-2792"> 2792</a> [<a id="ref-RFC-952">RFC-952</a>]       K. Harrenstien, M. Stahl, E. Feinler, &quot;DoD Internet Host   
<a class="line" id="line-2793" href="#line-2793"> 2793</a>                 Table Specification&quot;, <a href="https://datatracker.ietf.org/doc/rfc952/">RFC-952</a>, SRI, October 1985.          
<a class="line" id="line-2794" href="#line-2794"> 2794</a>                                                                            
<a class="line" id="line-2795" href="#line-2795"> 2795</a>                 Specifies the format of HOSTS.TXT, the host/address        
<a class="line" id="line-2796" href="#line-2796"> 2796</a>                 table replaced by the DNS.                                 
<a class="line" id="line-2797" href="#line-2797"> 2797</a>                                                                            
<a class="line" id="line-2798" href="#line-2798"> 2798</a>                                                                            
<a class="line" id="line-2799" href="#line-2799"> 2799</a>                                                                            
<a class="line" id="line-2800" href="#line-2800"> 2800</a>                                                                            
<a class="line" id="line-2801" href="#line-2801"> 2801</a>                                                                            
<a class="line" id="line-2802" href="#line-2802"> 2802</a> <span class="grey">Mockapetris                                                    [Page 51]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-52" ></span><a class="line" id="line-2803" href="#line-2803"> 2803</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-2804" href="#line-2804"> 2804</a>                                                                            
<a class="line" id="line-2805" href="#line-2805"> 2805</a>                                                                            
<a class="line" id="line-2806" href="#line-2806"> 2806</a> [<a id="ref-RFC-953">RFC-953</a>]       K. Harrenstien, M. Stahl, E. Feinler, &quot;HOSTNAME Server&quot;,   
<a class="line" id="line-2807" href="#line-2807"> 2807</a>                 <a href="https://datatracker.ietf.org/doc/rfc953/">RFC-953</a>, SRI, October 1985.                                
<a class="line" id="line-2808" href="#line-2808"> 2808</a>                                                                            
<a class="line" id="line-2809" href="#line-2809"> 2809</a>                 This RFC contains the official specification of the        
<a class="line" id="line-2810" href="#line-2810"> 2810</a>                 hostname server protocol, which is obsoleted by the DNS.   
<a class="line" id="line-2811" href="#line-2811"> 2811</a>                 This TCP based protocol accesses information stored in     
<a class="line" id="line-2812" href="#line-2812"> 2812</a>                 the <a href="https://datatracker.ietf.org/doc/rfc952/">RFC-952</a> format, and is used to obtain copies of the    
<a class="line" id="line-2813" href="#line-2813"> 2813</a>                 host table.                                                
<a class="line" id="line-2814" href="#line-2814"> 2814</a>                                                                            
<a class="line" id="line-2815" href="#line-2815"> 2815</a> [<a id="ref-RFC-973">RFC-973</a>]       P. Mockapetris, &quot;Domain System Changes and                 
<a class="line" id="line-2816" href="#line-2816"> 2816</a>                 Observations&quot;, <a href="https://datatracker.ietf.org/doc/rfc973/">RFC-973</a>, USC/Information Sciences           
<a class="line" id="line-2817" href="#line-2817"> 2817</a>                 Institute, January 1986.                                   
<a class="line" id="line-2818" href="#line-2818"> 2818</a>                                                                            
<a class="line" id="line-2819" href="#line-2819"> 2819</a>                 Describes changes to <a href="https://datatracker.ietf.org/doc/rfc882/">RFC-882</a> and <a href="https://datatracker.ietf.org/doc/rfc883/">RFC-883</a> and reasons for   
<a class="line" id="line-2820" href="#line-2820"> 2820</a>                 them.                                                      
<a class="line" id="line-2821" href="#line-2821"> 2821</a>                                                                            
<a class="line" id="line-2822" href="#line-2822"> 2822</a> [<a id="ref-RFC-974">RFC-974</a>]       C. Partridge, &quot;Mail routing and the domain system&quot;,        
<a class="line" id="line-2823" href="#line-2823"> 2823</a>                 <a href="https://datatracker.ietf.org/doc/rfc974/">RFC-974</a>, CSNET CIC BBN Labs, January 1986.                 
<a class="line" id="line-2824" href="#line-2824"> 2824</a>                                                                            
<a class="line" id="line-2825" href="#line-2825"> 2825</a>                 Describes the transition from HOSTS.TXT based mail         
<a class="line" id="line-2826" href="#line-2826"> 2826</a>                 addressing to the more powerful MX system used with the    
<a class="line" id="line-2827" href="#line-2827"> 2827</a>                 domain system.                                             
<a class="line" id="line-2828" href="#line-2828"> 2828</a>                                                                            
<a class="line" id="line-2829" href="#line-2829"> 2829</a> [<a id="ref-RFC-1001">RFC-1001</a>]      NetBIOS Working Group, &quot;Protocol standard for a NetBIOS    
<a class="line" id="line-2830" href="#line-2830"> 2830</a>                 service on a TCP/UDP transport: Concepts and Methods&quot;,     
<a class="line" id="line-2831" href="#line-2831"> 2831</a>                 <a href="https://datatracker.ietf.org/doc/rfc1001/">RFC-1001</a>, March 1987.                                      
<a class="line" id="line-2832" href="#line-2832"> 2832</a>                                                                            
<a class="line" id="line-2833" href="#line-2833"> 2833</a>                 This RFC and <a href="https://datatracker.ietf.org/doc/rfc1002/">RFC-1002</a> are a preliminary design for         
<a class="line" id="line-2834" href="#line-2834"> 2834</a>                 NETBIOS on top of TCP/IP which proposes to base NetBIOS    
<a class="line" id="line-2835" href="#line-2835"> 2835</a>                 name service on top of the DNS.                            
<a class="line" id="line-2836" href="#line-2836"> 2836</a>                                                                            
<a class="line" id="line-2837" href="#line-2837"> 2837</a> [<a id="ref-RFC-1002">RFC-1002</a>]      NetBIOS Working Group, &quot;Protocol standard for a NetBIOS    
<a class="line" id="line-2838" href="#line-2838"> 2838</a>                 service on a TCP/UDP transport: Detailed                   
<a class="line" id="line-2839" href="#line-2839"> 2839</a>                 Specifications&quot;, <a href="https://datatracker.ietf.org/doc/rfc1002/">RFC-1002</a>, March 1987.                     
<a class="line" id="line-2840" href="#line-2840"> 2840</a>                                                                            
<a class="line" id="line-2841" href="#line-2841"> 2841</a> [<a id="ref-RFC-1010">RFC-1010</a>]      J. Reynolds, and J. Postel, &quot;Assigned Numbers&quot;, <a href="https://datatracker.ietf.org/doc/rfc1010/">RFC-1010</a>,  
<a class="line" id="line-2842" href="#line-2842"> 2842</a>                 USC/Information Sciences Institute, May 1987.              
<a class="line" id="line-2843" href="#line-2843"> 2843</a>                                                                            
<a class="line" id="line-2844" href="#line-2844"> 2844</a>                 Contains socket numbers and mnemonics for host names,      
<a class="line" id="line-2845" href="#line-2845"> 2845</a>                 operating systems, etc.                                    
<a class="line" id="line-2846" href="#line-2846"> 2846</a>                                                                            
<a class="line" id="line-2847" href="#line-2847"> 2847</a> [<a id="ref-RFC-1031">RFC-1031</a>]      W. Lazear, &quot;MILNET Name Domain Transition&quot;, <a href="https://datatracker.ietf.org/doc/rfc1031/">RFC-1031</a>,      
<a class="line" id="line-2848" href="#line-2848"> 2848</a>                 November 1987.                                             
<a class="line" id="line-2849" href="#line-2849"> 2849</a>                                                                            
<a class="line" id="line-2850" href="#line-2850"> 2850</a>                 Describes a plan for converting the MILNET to the DNS.     
<a class="line" id="line-2851" href="#line-2851"> 2851</a>                                                                            
<a class="line" id="line-2852" href="#line-2852"> 2852</a> [<a id="ref-RFC-1032">RFC-1032</a>]      M. Stahl, &quot;Establishing a Domain - Guidelines for          
<a class="line" id="line-2853" href="#line-2853"> 2853</a>                 Administrators&quot;, <a href="https://datatracker.ietf.org/doc/rfc1032/">RFC-1032</a>, November 1987.                  
<a class="line" id="line-2854" href="#line-2854"> 2854</a>                                                                            
<a class="line" id="line-2855" href="#line-2855"> 2855</a>                                                                            
<a class="line" id="line-2856" href="#line-2856"> 2856</a>                                                                            
<a class="line" id="line-2857" href="#line-2857"> 2857</a> <span class="grey">Mockapetris                                                    [Page 52]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-53" ></span><a class="line" id="line-2858" href="#line-2858"> 2858</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-2859" href="#line-2859"> 2859</a>                                                                            
<a class="line" id="line-2860" href="#line-2860"> 2860</a>                                                                            
<a class="line" id="line-2861" href="#line-2861"> 2861</a>                 Describes the registration policies used by the NIC to     
<a class="line" id="line-2862" href="#line-2862"> 2862</a>                 administer the top level domains and delegate subzones.    
<a class="line" id="line-2863" href="#line-2863"> 2863</a>                                                                            
<a class="line" id="line-2864" href="#line-2864"> 2864</a> [<a id="ref-RFC-1033">RFC-1033</a>]      M. Lottor, &quot;Domain Administrators Operations Guide&quot;,       
<a class="line" id="line-2865" href="#line-2865"> 2865</a>                 <a href="https://datatracker.ietf.org/doc/rfc1033/">RFC-1033</a>, November 1987.                                   
<a class="line" id="line-2866" href="#line-2866"> 2866</a>                                                                            
<a class="line" id="line-2867" href="#line-2867"> 2867</a>                 A cookbook for domain administrators.                      
<a class="line" id="line-2868" href="#line-2868"> 2868</a>                                                                            
<a class="line" id="line-2869" href="#line-2869"> 2869</a> [Solomon 82]    M. Solomon, L. Landweber, and D. Neuhengen, &quot;The CSNET     
<a class="line" id="line-2870" href="#line-2870"> 2870</a>                 Name Server&quot;, Computer Networks, vol 6, nr 3, July 1982.   
<a class="line" id="line-2871" href="#line-2871"> 2871</a>                                                                            
<a class="line" id="line-2872" href="#line-2872"> 2872</a>                 Describes a name service for CSNET which is independent    
<a class="line" id="line-2873" href="#line-2873"> 2873</a>                 from the DNS and DNS use in the CSNET.                     
<a class="line" id="line-2874" href="#line-2874"> 2874</a>                                                                            
<a class="line" id="line-2875" href="#line-2875"> 2875</a>                                                                            
<a class="line" id="line-2876" href="#line-2876"> 2876</a>                                                                            
<a class="line" id="line-2877" href="#line-2877"> 2877</a>                                                                            
<a class="line" id="line-2878" href="#line-2878"> 2878</a>                                                                            
<a class="line" id="line-2879" href="#line-2879"> 2879</a>                                                                            
<a class="line" id="line-2880" href="#line-2880"> 2880</a>                                                                            
<a class="line" id="line-2881" href="#line-2881"> 2881</a>                                                                            
<a class="line" id="line-2882" href="#line-2882"> 2882</a>                                                                            
<a class="line" id="line-2883" href="#line-2883"> 2883</a>                                                                            
<a class="line" id="line-2884" href="#line-2884"> 2884</a>                                                                            
<a class="line" id="line-2885" href="#line-2885"> 2885</a>                                                                            
<a class="line" id="line-2886" href="#line-2886"> 2886</a>                                                                            
<a class="line" id="line-2887" href="#line-2887"> 2887</a>                                                                            
<a class="line" id="line-2888" href="#line-2888"> 2888</a>                                                                            
<a class="line" id="line-2889" href="#line-2889"> 2889</a>                                                                            
<a class="line" id="line-2890" href="#line-2890"> 2890</a>                                                                            
<a class="line" id="line-2891" href="#line-2891"> 2891</a>                                                                            
<a class="line" id="line-2892" href="#line-2892"> 2892</a>                                                                            
<a class="line" id="line-2893" href="#line-2893"> 2893</a>                                                                            
<a class="line" id="line-2894" href="#line-2894"> 2894</a>                                                                            
<a class="line" id="line-2895" href="#line-2895"> 2895</a>                                                                            
<a class="line" id="line-2896" href="#line-2896"> 2896</a>                                                                            
<a class="line" id="line-2897" href="#line-2897"> 2897</a>                                                                            
<a class="line" id="line-2898" href="#line-2898"> 2898</a>                                                                            
<a class="line" id="line-2899" href="#line-2899"> 2899</a>                                                                            
<a class="line" id="line-2900" href="#line-2900"> 2900</a>                                                                            
<a class="line" id="line-2901" href="#line-2901"> 2901</a>                                                                            
<a class="line" id="line-2902" href="#line-2902"> 2902</a>                                                                            
<a class="line" id="line-2903" href="#line-2903"> 2903</a>                                                                            
<a class="line" id="line-2904" href="#line-2904"> 2904</a>                                                                            
<a class="line" id="line-2905" href="#line-2905"> 2905</a>                                                                            
<a class="line" id="line-2906" href="#line-2906"> 2906</a>                                                                            
<a class="line" id="line-2907" href="#line-2907"> 2907</a>                                                                            
<a class="line" id="line-2908" href="#line-2908"> 2908</a>                                                                            
<a class="line" id="line-2909" href="#line-2909"> 2909</a>                                                                            
<a class="line" id="line-2910" href="#line-2910"> 2910</a>                                                                            
<a class="line" id="line-2911" href="#line-2911"> 2911</a>                                                                            
<a class="line" id="line-2912" href="#line-2912"> 2912</a> <span class="grey">Mockapetris                                                    [Page 53]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-54" ></span><a class="line" id="line-2913" href="#line-2913"> 2913</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-2914" href="#line-2914"> 2914</a>                                                                            
<a class="line" id="line-2915" href="#line-2915"> 2915</a>                                                                            
<a class="line" id="line-2916" href="#line-2916"> 2916</a> Index                                                                      
<a class="line" id="line-2917" href="#line-2917"> 2917</a>                                                                            
<a class="line" id="line-2918" href="#line-2918"> 2918</a>           *   13                                                           
<a class="line" id="line-2919" href="#line-2919"> 2919</a>                                                                            
<a class="line" id="line-2920" href="#line-2920"> 2920</a>           ;   33, 35                                                       
<a class="line" id="line-2921" href="#line-2921"> 2921</a>                                                                            
<a class="line" id="line-2922" href="#line-2922"> 2922</a>           &lt;character-string&gt;   35                                          
<a class="line" id="line-2923" href="#line-2923"> 2923</a>           &lt;domain-name&gt;   34                                               
<a class="line" id="line-2924" href="#line-2924"> 2924</a>                                                                            
<a class="line" id="line-2925" href="#line-2925"> 2925</a>           @   35                                                           
<a class="line" id="line-2926" href="#line-2926"> 2926</a>                                                                            
<a class="line" id="line-2927" href="#line-2927"> 2927</a>           \   35                                                           
<a class="line" id="line-2928" href="#line-2928"> 2928</a>                                                                            
<a class="line" id="line-2929" href="#line-2929"> 2929</a>           A   12                                                           
<a class="line" id="line-2930" href="#line-2930"> 2930</a>                                                                            
<a class="line" id="line-2931" href="#line-2931"> 2931</a>           Byte order   8                                                   
<a class="line" id="line-2932" href="#line-2932"> 2932</a>                                                                            
<a class="line" id="line-2933" href="#line-2933"> 2933</a>           CH   13                                                          
<a class="line" id="line-2934" href="#line-2934"> 2934</a>           Character case   9                                               
<a class="line" id="line-2935" href="#line-2935"> 2935</a>           CLASS   11                                                       
<a class="line" id="line-2936" href="#line-2936"> 2936</a>           CNAME   12                                                       
<a class="line" id="line-2937" href="#line-2937"> 2937</a>           Completion   42                                                  
<a class="line" id="line-2938" href="#line-2938"> 2938</a>           CS   13                                                          
<a class="line" id="line-2939" href="#line-2939"> 2939</a>                                                                            
<a class="line" id="line-2940" href="#line-2940"> 2940</a>           Hesiod   13                                                      
<a class="line" id="line-2941" href="#line-2941"> 2941</a>           HINFO   12                                                       
<a class="line" id="line-2942" href="#line-2942"> 2942</a>           HS   13                                                          
<a class="line" id="line-2943" href="#line-2943"> 2943</a>                                                                            
<a class="line" id="line-2944" href="#line-2944"> 2944</a>           IN   13                                                          
<a class="line" id="line-2945" href="#line-2945"> 2945</a>           IN-ADDR.ARPA domain   22                                         
<a class="line" id="line-2946" href="#line-2946"> 2946</a>           Inverse queries   40                                             
<a class="line" id="line-2947" href="#line-2947"> 2947</a>                                                                            
<a class="line" id="line-2948" href="#line-2948"> 2948</a>           Mailbox names   47                                               
<a class="line" id="line-2949" href="#line-2949"> 2949</a>           MB   12                                                          
<a class="line" id="line-2950" href="#line-2950"> 2950</a>           MD   12                                                          
<a class="line" id="line-2951" href="#line-2951"> 2951</a>           MF   12                                                          
<a class="line" id="line-2952" href="#line-2952"> 2952</a>           MG   12                                                          
<a class="line" id="line-2953" href="#line-2953"> 2953</a>           MINFO   12                                                       
<a class="line" id="line-2954" href="#line-2954"> 2954</a>           MINIMUM   20                                                     
<a class="line" id="line-2955" href="#line-2955"> 2955</a>           MR   12                                                          
<a class="line" id="line-2956" href="#line-2956"> 2956</a>           MX   12                                                          
<a class="line" id="line-2957" href="#line-2957"> 2957</a>                                                                            
<a class="line" id="line-2958" href="#line-2958"> 2958</a>           NS   12                                                          
<a class="line" id="line-2959" href="#line-2959"> 2959</a>           NULL   12                                                        
<a class="line" id="line-2960" href="#line-2960"> 2960</a>                                                                            
<a class="line" id="line-2961" href="#line-2961"> 2961</a>           Port numbers   32                                                
<a class="line" id="line-2962" href="#line-2962"> 2962</a>           Primary server   5                                               
<a class="line" id="line-2963" href="#line-2963"> 2963</a>           PTR   12, 18                                                     
<a class="line" id="line-2964" href="#line-2964"> 2964</a>                                                                            
<a class="line" id="line-2965" href="#line-2965"> 2965</a>                                                                            
<a class="line" id="line-2966" href="#line-2966"> 2966</a>                                                                            
<a class="line" id="line-2967" href="#line-2967"> 2967</a> <span class="grey">Mockapetris                                                    [Page 54]</span>   
<span class='pagebreak'></span>
<!--NewPage--><span id="page-55" ></span><a class="line" id="line-2968" href="#line-2968"> 2968</a> <span class="grey"><a href="./rfc1035.html">RFC 1035</a>        Domain Implementation and Specification    November 1987</span>   
<a class="line" id="line-2969" href="#line-2969"> 2969</a>                                                                            
<a class="line" id="line-2970" href="#line-2970"> 2970</a>                                                                            
<a class="line" id="line-2971" href="#line-2971"> 2971</a>           QCLASS   13                                                      
<a class="line" id="line-2972" href="#line-2972"> 2972</a>           QTYPE   12                                                       
<a class="line" id="line-2973" href="#line-2973"> 2973</a>                                                                            
<a class="line" id="line-2974" href="#line-2974"> 2974</a>           RDATA   12                                                       
<a class="line" id="line-2975" href="#line-2975"> 2975</a>           RDLENGTH  11                                                     
<a class="line" id="line-2976" href="#line-2976"> 2976</a>                                                                            
<a class="line" id="line-2977" href="#line-2977"> 2977</a>           Secondary server   5                                             
<a class="line" id="line-2978" href="#line-2978"> 2978</a>           SOA   12                                                         
<a class="line" id="line-2979" href="#line-2979"> 2979</a>           Stub resolvers   7                                               
<a class="line" id="line-2980" href="#line-2980"> 2980</a>                                                                            
<a class="line" id="line-2981" href="#line-2981"> 2981</a>           TCP   32                                                         
<a class="line" id="line-2982" href="#line-2982"> 2982</a>           TXT   12                                                         
<a class="line" id="line-2983" href="#line-2983"> 2983</a>           TYPE   11                                                        
<a class="line" id="line-2984" href="#line-2984"> 2984</a>                                                                            
<a class="line" id="line-2985" href="#line-2985"> 2985</a>           UDP   32                                                         
<a class="line" id="line-2986" href="#line-2986"> 2986</a>                                                                            
<a class="line" id="line-2987" href="#line-2987"> 2987</a>           WKS   12                                                         
<a class="line" id="line-2988" href="#line-2988"> 2988</a>                                                                            
<a class="line" id="line-2989" href="#line-2989"> 2989</a>                                                                            
<a class="line" id="line-2990" href="#line-2990"> 2990</a>                                                                            
<a class="line" id="line-2991" href="#line-2991"> 2991</a>                                                                            
<a class="line" id="line-2992" href="#line-2992"> 2992</a>                                                                            
<a class="line" id="line-2993" href="#line-2993"> 2993</a>                                                                            
<a class="line" id="line-2994" href="#line-2994"> 2994</a>                                                                            
<a class="line" id="line-2995" href="#line-2995"> 2995</a>                                                                            
<a class="line" id="line-2996" href="#line-2996"> 2996</a>                                                                            
<a class="line" id="line-2997" href="#line-2997"> 2997</a>                                                                            
<a class="line" id="line-2998" href="#line-2998"> 2998</a>                                                                            
<a class="line" id="line-2999" href="#line-2999"> 2999</a>                                                                            
<a class="line" id="line-3000" href="#line-3000"> 3000</a>                                                                            
<a class="line" id="line-3001" href="#line-3001"> 3001</a>                                                                            
<a class="line" id="line-3002" href="#line-3002"> 3002</a>                                                                            
<a class="line" id="line-3003" href="#line-3003"> 3003</a>                                                                            
<a class="line" id="line-3004" href="#line-3004"> 3004</a>                                                                            
<a class="line" id="line-3005" href="#line-3005"> 3005</a>                                                                            
<a class="line" id="line-3006" href="#line-3006"> 3006</a>                                                                            
<a class="line" id="line-3007" href="#line-3007"> 3007</a>                                                                            
<a class="line" id="line-3008" href="#line-3008"> 3008</a>                                                                            
<a class="line" id="line-3009" href="#line-3009"> 3009</a>                                                                            
<a class="line" id="line-3010" href="#line-3010"> 3010</a>                                                                            
<a class="line" id="line-3011" href="#line-3011"> 3011</a>                                                                            
<a class="line" id="line-3012" href="#line-3012"> 3012</a>                                                                            
<a class="line" id="line-3013" href="#line-3013"> 3013</a>                                                                            
<a class="line" id="line-3014" href="#line-3014"> 3014</a>                                                                            
<a class="line" id="line-3015" href="#line-3015"> 3015</a>                                                                            
<a class="line" id="line-3016" href="#line-3016"> 3016</a>                                                                            
<a class="line" id="line-3017" href="#line-3017"> 3017</a>                                                                            
<a class="line" id="line-3018" href="#line-3018"> 3018</a>                                                                            
<a class="line" id="line-3019" href="#line-3019"> 3019</a>                                                                            
<a class="line" id="line-3020" href="#line-3020"> 3020</a>                                                                            
<a class="line" id="line-3021" href="#line-3021"> 3021</a>                                                                            
<a class="line" id="line-3022" href="#line-3022"> 3022</a> Mockapetris                                                    [Page 55]   
<a class="line" id="line-3023" href="#line-3023"> 3023</a>                                                                            
</span></pre><div class="annotation"></div></div>

</body></html>
